import{u as z,a as D,r,j as e,b as M,S as j,C as P,T as N,L as w,c as F,H,d as _,e as $,g as A,f as O}from"./index-B5o3Cck4.js";const q=({quote:l,onClose:x,isClosing:y})=>{z("/explore");const{userData:u}=D(),[S,k]=r.useState([]),[o,n]=r.useState(null),[a,c]=r.useState(null),[C,m]=r.useState(!0),[I,h]=r.useState(!1),[g,i]=r.useState(null),[p,f]=r.useState(!1);r.useEffect(()=>{(async()=>{m(!0),i(null);const s=await A(l);s&&s.length>0?k(s):i("Não foi possível conectar com sua intuição agora."),m(!1)})()},[l]);const T=async t=>{if(!u)return;n(t),h(!0),i(null),c(null);const s=await O(l,t,u);s?c(s):(i("Não foi possível gerar a resposta. Tente novamente mais tarde."),n(null)),h(!1)},E=()=>{if(a!=null&&a.mantra){const t=a.mantra.replace(/\*\*/g,"").replace(/\*/g,"");navigator.clipboard.writeText(t),f(!0),setTimeout(()=>f(!1),2e3)}},L=()=>{n(null),c(null)},b=t=>t?t.split(/\*\*(.*?)\*\*/g).map((v,d)=>d%2===1?e.jsx("strong",{className:"text-white font-bold",children:v},d):e.jsx("span",{children:v},d)):null,R=t=>t?t.replace(/\*\*/g,"").replace(/\*/g,""):"";return e.jsx("div",{role:"dialog","aria-modal":"true","aria-label":"Explorar Citação com IA",className:"fixed inset-0 bg-black/80 backdrop-blur-md z-50 flex items-end justify-center",children:e.jsxs("div",{className:`bg-[#0f0f11] text-white w-full max-w-lg rounded-t-3xl shadow-2xl flex flex-col h-[90vh] border-t border-white/10 overflow-hidden ${y?"animate-slide-out-down":"animate-slide-in-bottom"}`,children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[80%] h-[50%] bg-violet-900/30 rounded-full blur-[100px] pointer-events-none"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[80%] h-[50%] bg-fuchsia-900/20 rounded-full blur-[100px] pointer-events-none"}),e.jsxs("header",{className:"relative z-10 flex items-center justify-between p-6 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsx("button",{onClick:L,className:"mr-2 text-gray-400 hover:text-white transition-colors",children:e.jsx(M,{className:"text-xl"})}),e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-violet-600 to-indigo-600 flex items-center justify-center shadow-lg shadow-violet-500/20",children:e.jsx(j,{className:"text-white text-sm"})}),e.jsx("h1",{className:"text-lg font-bold font-serif tracking-wide",children:"Profundidade"})]}),e.jsx("button",{onClick:x,className:"w-10 h-10 rounded-full flex items-center justify-center bg-white/5 hover:bg-white/10 transition-colors border border-white/5","aria-label":"Fechar",children:e.jsx(P,{className:"text-xl text-gray-300"})})]}),e.jsxs("div",{className:"relative z-10 flex-grow overflow-y-auto scrollbar-hide p-6 pt-2",children:[e.jsxs("div",{className:"mb-8 p-4 rounded-xl bg-white/5 border border-white/5 relative group",children:[e.jsx("div",{className:"absolute -left-1 top-4 bottom-4 w-1 bg-violet-500 rounded-full opacity-50 group-hover:opacity-100 transition-opacity"}),e.jsxs("p",{className:"text-gray-300 italic text-sm leading-relaxed font-serif",children:['"',l.text,'"']})]}),g?e.jsxs("div",{className:"text-center p-8 bg-red-500/10 rounded-2xl border border-red-500/20",children:[e.jsx("p",{className:"text-red-300",children:g}),e.jsx("button",{onClick:x,className:"mt-4 text-sm font-bold underline",children:"Fechar"})]}):C?e.jsx("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:e.jsx(N,{text:"Sintonizando...",className:"text-violet-300"})}):o?I?e.jsx("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:e.jsx(N,{text:"Consultando a sabedoria...",className:"text-violet-300"})}):a?e.jsxs("div",{className:"space-y-6 animate-slide-in-up pb-10",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-widest mb-2 font-bold",children:"Sua Pergunta"}),e.jsx("p",{className:"text-lg text-white font-serif",children:o})]}),e.jsxs("div",{className:"bg-gradient-to-br from-violet-900/20 to-transparent p-6 rounded-2xl border border-violet-500/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:e.jsx(w,{className:"text-4xl text-violet-400",filled:!0})}),e.jsxs("h3",{className:"text-violet-300 font-bold text-xs uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(w,{className:"text-sm"})," Insight"]}),e.jsx("p",{className:"text-gray-200 leading-relaxed font-sans text-base",children:b(a.insight)})]}),e.jsxs("div",{className:"bg-[#1a1a1c] p-6 rounded-2xl border border-white/5 flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center flex-shrink-0 text-emerald-400 border border-emerald-500/20",children:e.jsx(F,{className:"text-xl"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-emerald-400 font-bold text-xs uppercase tracking-widest mb-1",children:"Prática de Hoje"}),e.jsx("p",{className:"text-gray-300 text-sm",children:b(a.action)})]})]}),e.jsxs("div",{className:"relative group cursor-pointer",onClick:E,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-fuchsia-600 to-pink-600 rounded-2xl blur opacity-20 group-hover:opacity-30 transition-opacity"}),e.jsxs("div",{className:"relative bg-[#1a1a1c] p-6 rounded-2xl border border-white/10 text-center hover:border-fuchsia-500/50 transition-colors",children:[e.jsx(H,{className:"text-fuchsia-400 text-2xl mx-auto mb-3 animate-pulse-slow",filled:!0}),e.jsxs("p",{className:"text-xl md:text-2xl font-serif text-white mb-4 leading-tight",children:['"',R(a.mantra),'"']}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 text-[10px] text-gray-400 uppercase tracking-wider font-bold group-hover:bg-white/10 transition-colors",children:[p?e.jsx(_,{className:"text-green-400"}):e.jsx($,{}),p?"Copiado!":"Toque para copiar"]})]})]})]}):null:e.jsxs("div",{className:"space-y-4 animate-fade-in",children:[e.jsx("h2",{className:"text-xl font-bold text-center mb-6 font-serif",children:"O que sua alma quer explorar?"}),S.map((t,s)=>e.jsxs("button",{onClick:()=>T(t),className:"w-full p-5 rounded-2xl text-left font-medium transition-all duration-300 bg-gradient-to-r from-[#1a1a1c] to-[#151517] border border-white/10 hover:border-violet-500/50 hover:shadow-[0_0_20px_rgba(139,92,246,0.15)] group relative overflow-hidden active:scale-98",style:{animationDelay:`${s*100}ms`},children:[e.jsx("div",{className:"absolute inset-0 bg-violet-600/5 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("p",{className:"text-gray-200 group-hover:text-white transition-colors text-lg relative z-10 font-serif leading-snug",children:t}),e.jsxs("div",{className:"mt-3 flex items-center text-xs text-violet-400 font-bold uppercase tracking-wider opacity-0 group-hover:opacity-100 transition-opacity translate-y-2 group-hover:translate-y-0",children:[e.jsx(j,{className:"mr-1"})," Revelar"]})]},s))]})]})]})})};export{q as ExploreModal};
