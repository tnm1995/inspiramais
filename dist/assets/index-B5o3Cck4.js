(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function jS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Om={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function iR(){if(x0)return pu;x0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,a){var u=null;if(a!==void 0&&(u=""+a),o.key!==void 0&&(u=""+o.key),"key"in o){a={};for(var d in o)d!=="key"&&(a[d]=o[d])}else a=o;return o=a.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:a}}return pu.Fragment=e,pu.jsx=n,pu.jsxs=n,pu}var I0;function sR(){return I0||(I0=1,Om.exports=iR()),Om.exports}var T=sR(),qm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function rR(){if(R0)return Ne;R0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=A&&q[A]||q["@@iterator"],typeof q=="function"?q:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,B={};function Q(q,ne,le){this.props=q,this.context=ne,this.refs=B,this.updater=le||L}Q.prototype.isReactComponent={},Q.prototype.setState=function(q,ne){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ne,"setState")},Q.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function X(){}X.prototype=Q.prototype;function W(q,ne,le){this.props=q,this.context=ne,this.refs=B,this.updater=le||L}var ae=W.prototype=new X;ae.constructor=W,F(ae,Q.prototype),ae.isPureReactComponent=!0;var de=Array.isArray;function ce(){}var D={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function R(q,ne,le){var me=le.ref;return{$$typeof:t,type:q,key:ne,ref:me!==void 0?me:null,props:le}}function k(q,ne){return R(q.type,ne,q.props)}function P(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function U(q){var ne={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(le){return ne[le]})}var M=/\/+/g;function Se(q,ne){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):ne.toString(36)}function Ie(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(ce,ce):(q.status="pending",q.then(function(ne){q.status==="pending"&&(q.status="fulfilled",q.value=ne)},function(ne){q.status==="pending"&&(q.status="rejected",q.reason=ne)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function K(q,ne,le,me,Ce){var Re=typeof q;(Re==="undefined"||Re==="boolean")&&(q=null);var Ue=!1;if(q===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(q.$$typeof){case t:case e:Ue=!0;break;case v:return Ue=q._init,K(Ue(q._payload),ne,le,me,Ce)}}if(Ue)return Ce=Ce(q),Ue=me===""?"."+Se(q,0):me,de(Ce)?(le="",Ue!=null&&(le=Ue.replace(M,"$&/")+"/"),K(Ce,ne,le,"",function(Li){return Li})):Ce!=null&&(P(Ce)&&(Ce=k(Ce,le+(Ce.key==null||q&&q.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+Ue)),ne.push(Ce)),1;Ue=0;var wt=me===""?".":me+":";if(de(q))for(var ht=0;ht<q.length;ht++)me=q[ht],Re=wt+Se(me,ht),Ue+=K(me,ne,le,Re,Ce);else if(ht=x(q),typeof ht=="function")for(q=ht.call(q),ht=0;!(me=q.next()).done;)me=me.value,Re=wt+Se(me,ht++),Ue+=K(me,ne,le,Re,Ce);else if(Re==="object"){if(typeof q.then=="function")return K(Ie(q),ne,le,me,Ce);throw ne=String(q),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function re(q,ne,le){if(q==null)return q;var me=[],Ce=0;return K(q,me,"","",function(Re){return ne.call(le,Re,Ce++)}),me}function he(q){if(q._status===-1){var ne=q._result;ne=ne(),ne.then(function(le){(q._status===0||q._status===-1)&&(q._status=1,q._result=le)},function(le){(q._status===0||q._status===-1)&&(q._status=2,q._result=le)}),q._status===-1&&(q._status=0,q._result=ne)}if(q._status===1)return q._result.default;throw q._result}var Fe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},$e={map:re,forEach:function(q,ne,le){re(q,function(){ne.apply(this,arguments)},le)},count:function(q){var ne=0;return re(q,function(){ne++}),ne},toArray:function(q){return re(q,function(ne){return ne})||[]},only:function(q){if(!P(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ne.Activity=E,Ne.Children=$e,Ne.Component=Q,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=W,Ne.StrictMode=i,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(q){return D.H.useMemoCache(q)}},Ne.cache=function(q){return function(){return q.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(q,ne,le){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var me=F({},q.props),Ce=q.key;if(ne!=null)for(Re in ne.key!==void 0&&(Ce=""+ne.key),ne)!N.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(me[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)me.children=le;else if(1<Re){for(var Ue=Array(Re),wt=0;wt<Re;wt++)Ue[wt]=arguments[wt+2];me.children=Ue}return R(q.type,Ce,me)},Ne.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},Ne.createElement=function(q,ne,le){var me,Ce={},Re=null;if(ne!=null)for(me in ne.key!==void 0&&(Re=""+ne.key),ne)N.call(ne,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ce[me]=ne[me]);var Ue=arguments.length-2;if(Ue===1)Ce.children=le;else if(1<Ue){for(var wt=Array(Ue),ht=0;ht<Ue;ht++)wt[ht]=arguments[ht+2];Ce.children=wt}if(q&&q.defaultProps)for(me in Ue=q.defaultProps,Ue)Ce[me]===void 0&&(Ce[me]=Ue[me]);return R(q,Re,Ce)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(q){return{$$typeof:d,render:q}},Ne.isValidElement=P,Ne.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:he}},Ne.memo=function(q,ne){return{$$typeof:m,type:q,compare:ne===void 0?null:ne}},Ne.startTransition=function(q){var ne=D.T,le={};D.T=le;try{var me=q(),Ce=D.S;Ce!==null&&Ce(le,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ce,Fe)}catch(Re){Fe(Re)}finally{ne!==null&&le.types!==null&&(ne.types=le.types),D.T=ne}},Ne.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ne.use=function(q){return D.H.use(q)},Ne.useActionState=function(q,ne,le){return D.H.useActionState(q,ne,le)},Ne.useCallback=function(q,ne){return D.H.useCallback(q,ne)},Ne.useContext=function(q){return D.H.useContext(q)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(q,ne){return D.H.useDeferredValue(q,ne)},Ne.useEffect=function(q,ne){return D.H.useEffect(q,ne)},Ne.useEffectEvent=function(q){return D.H.useEffectEvent(q)},Ne.useId=function(){return D.H.useId()},Ne.useImperativeHandle=function(q,ne,le){return D.H.useImperativeHandle(q,ne,le)},Ne.useInsertionEffect=function(q,ne){return D.H.useInsertionEffect(q,ne)},Ne.useLayoutEffect=function(q,ne){return D.H.useLayoutEffect(q,ne)},Ne.useMemo=function(q,ne){return D.H.useMemo(q,ne)},Ne.useOptimistic=function(q,ne){return D.H.useOptimistic(q,ne)},Ne.useReducer=function(q,ne,le){return D.H.useReducer(q,ne,le)},Ne.useRef=function(q){return D.H.useRef(q)},Ne.useState=function(q){return D.H.useState(q)},Ne.useSyncExternalStore=function(q,ne,le){return D.H.useSyncExternalStore(q,ne,le)},Ne.useTransition=function(){return D.H.useTransition()},Ne.version="19.2.1",Ne}var b0;function Zp(){return b0||(b0=1,qm.exports=rR()),qm.exports}var Z=Zp();const oR=jS(Z);var Fm={exports:{}},gu={},Bm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function aR(){return N0||(N0=1,(function(t){function e(K,re){var he=K.length;K.push(re);e:for(;0<he;){var Fe=he-1>>>1,$e=K[Fe];if(0<o($e,re))K[Fe]=re,K[he]=$e,he=Fe;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var re=K[0],he=K.pop();if(he!==re){K[0]=he;e:for(var Fe=0,$e=K.length,q=$e>>>1;Fe<q;){var ne=2*(Fe+1)-1,le=K[ne],me=ne+1,Ce=K[me];if(0>o(le,he))me<$e&&0>o(Ce,le)?(K[Fe]=Ce,K[me]=he,Fe=me):(K[Fe]=le,K[ne]=he,Fe=ne);else if(me<$e&&0>o(Ce,he))K[Fe]=Ce,K[me]=he,Fe=me;else break e}}return re}function o(K,re){var he=K.sortIndex-re.sortIndex;return he!==0?he:K.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],v=1,E=null,A=3,x=!1,L=!1,F=!1,B=!1,Q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ae(K){for(var re=n(m);re!==null;){if(re.callback===null)i(m);else if(re.startTime<=K)i(m),re.sortIndex=re.expirationTime,e(h,re);else break;re=n(m)}}function de(K){if(F=!1,ae(K),!L)if(n(h)!==null)L=!0,ce||(ce=!0,U());else{var re=n(m);re!==null&&Ie(de,re.startTime-K)}}var ce=!1,D=-1,N=5,R=-1;function k(){return B?!0:!(t.unstable_now()-R<N)}function P(){if(B=!1,ce){var K=t.unstable_now();R=K;var re=!0;try{e:{L=!1,F&&(F=!1,X(D),D=-1),x=!0;var he=A;try{t:{for(ae(K),E=n(h);E!==null&&!(E.expirationTime>K&&k());){var Fe=E.callback;if(typeof Fe=="function"){E.callback=null,A=E.priorityLevel;var $e=Fe(E.expirationTime<=K);if(K=t.unstable_now(),typeof $e=="function"){E.callback=$e,ae(K),re=!0;break t}E===n(h)&&i(h),ae(K)}else i(h);E=n(h)}if(E!==null)re=!0;else{var q=n(m);q!==null&&Ie(de,q.startTime-K),re=!1}}break e}finally{E=null,A=he,x=!1}re=void 0}}finally{re?U():ce=!1}}}var U;if(typeof W=="function")U=function(){W(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Se=M.port2;M.port1.onmessage=P,U=function(){Se.postMessage(null)}}else U=function(){Q(P,0)};function Ie(K,re){D=Q(function(){K(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(K){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var he=A;A=re;try{return K()}finally{A=he}},t.unstable_requestPaint=function(){B=!0},t.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=A;A=K;try{return re()}finally{A=he}},t.unstable_scheduleCallback=function(K,re,he){var Fe=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Fe+he:Fe):he=Fe,K){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=he+$e,K={id:v++,callback:re,priorityLevel:K,startTime:he,expirationTime:$e,sortIndex:-1},he>Fe?(K.sortIndex=he,e(m,K),n(h)===null&&K===n(m)&&(F?(X(D),D=-1):F=!0,Ie(de,he-Fe))):(K.sortIndex=$e,e(h,K),L||x||(L=!0,ce||(ce=!0,U()))),K},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(K){var re=A;return function(){var he=A;A=re;try{return K.apply(this,arguments)}finally{A=he}}}})(zm)),zm}var M0;function lR(){return M0||(M0=1,Bm.exports=aR()),Bm.exports}var Gm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function uR(){if(D0)return an;D0=1;var t=Zp();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(h,m,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:h,containerInfo:m,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(h,m,null,v)},an.flushSync=function(h){var m=u.T,v=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=m,i.p=v,i.d.f()}},an.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},an.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},an.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,E=d(v,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:x}):v==="script"&&i.d.X(h,{crossOrigin:E,integrity:A,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},an.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},an.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,E=d(v,m.crossOrigin);i.d.L(h,v,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},an.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=d(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},an.requestFormReset=function(h){i.d.r(h)},an.unstable_batchedUpdates=function(h,m){return h(m)},an.useFormState=function(h,m,v){return u.H.useFormState(h,m,v)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.2.1",an}var P0;function cR(){if(P0)return Gm.exports;P0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gm.exports=uR(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function dR(){if(k0)return gu;k0=1;var t=lR(),e=Zp(),n=cR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=a(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,c=r;;){var y=l.return;if(y===null)break;var _=y.alternate;if(_===null){if(c=y.return,c!==null){l=c;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===l)return h(y),s;if(_===c)return h(y),r;_=_.sibling}throw Error(i(188))}if(l.return!==c.return)l=y,c=_;else{for(var C=!1,I=y.child;I;){if(I===l){C=!0,l=y,c=_;break}if(I===c){C=!0,c=y,l=_;break}I=I.sibling}if(!C){for(I=_.child;I;){if(I===l){C=!0,l=_,c=y;break}if(I===c){C=!0,c=_,l=y;break}I=I.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function Se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case Q:return"Profiler";case B:return"StrictMode";case de:return"Suspense";case ce:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case L:return"Portal";case W:return s.displayName||"Context";case X:return(s._context.displayName||"Context")+".Consumer";case ae:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return r=s.displayName||null,r!==null?r:Se(s.type)||"Memo";case N:r=s._payload,s=s._init;try{return Se(s(r))}catch{}}return null}var Ie=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Fe=[],$e=-1;function q(s){return{current:s}}function ne(s){0>$e||(s.current=Fe[$e],Fe[$e]=null,$e--)}function le(s,r){$e++,Fe[$e]=s.current,s.current=r}var me=q(null),Ce=q(null),Re=q(null),Ue=q(null);function wt(s,r){switch(le(Re,r),le(Ce,s),le(me,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?$v(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=$v(r),s=Qv(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ne(me),le(me,s)}function ht(){ne(me),ne(Ce),ne(Re)}function Li(s){s.memoizedState!==null&&le(Ue,s);var r=me.current,l=Qv(r,s.type);r!==l&&(le(Ce,s),le(me,l))}function yi(s){Ce.current===s&&(ne(me),ne(Ce)),Ue.current===s&&(ne(Ue),du._currentValue=he)}var _i,Ln;function Sn(s){if(_i===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);_i=r&&r[1]||"",Ln=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_i+s+Ln}var Oi=!1;function us(s,r){if(!s||Oi)return"";Oi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch($){var J=$}Reflect.construct(s,[],ie)}else{try{ie.call()}catch($){J=$}s.call(ie.prototype)}}else{try{throw Error()}catch($){J=$}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch($){if($&&J&&typeof $.stack=="string")return[$.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),C=_[0],I=_[1];if(C&&I){var V=C.split(`
`),Y=I.split(`
`);for(y=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;y<Y.length&&!Y[y].includes("DetermineComponentFrameRoot");)y++;if(c===V.length||y===Y.length)for(c=V.length-1,y=Y.length-1;1<=c&&0<=y&&V[c]!==Y[y];)y--;for(;1<=c&&0<=y;c--,y--)if(V[c]!==Y[y]){if(c!==1||y!==1)do if(c--,y--,0>y||V[c]!==Y[y]){var ee=`
`+V[c].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=c&&0<=y);break}}}finally{Oi=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Sn(l):""}function Gs(s,r){switch(s.tag){case 26:case 27:case 5:return Sn(s.type);case 16:return Sn("Lazy");case 13:return s.child!==r&&r!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return us(s.type,!1);case 11:return us(s.type.render,!1);case 1:return us(s.type,!0);case 31:return Sn("Activity");default:return""}}function Hs(s){try{var r="",l=null;do r+=Gs(s,l),l=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var xt=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,vi=t.unstable_cancelCallback,Ys=t.unstable_shouldYield,Wo=t.unstable_requestPaint,jt=t.unstable_now,qi=t.unstable_getCurrentPriorityLevel,Ks=t.unstable_ImmediatePriority,Zr=t.unstable_UserBlockingPriority,Ti=t.unstable_NormalPriority,Zo=t.unstable_LowPriority,eo=t.unstable_IdlePriority,to=t.log,no=t.unstable_setDisableYieldValue,On=null,Vt=null;function pn(s){if(typeof to=="function"&&no(s),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(On,s)}catch{}}var Et=Math.clz32?Math.clz32:io,ea=Math.log,cs=Math.LN2;function io(s){return s>>>=0,s===0?32:31-(ea(s)/cs|0)|0}var Wn=256,ds=262144,pt=4194304;function An(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Zn(s,r,l){var c=s.pendingLanes;if(c===0)return 0;var y=0,_=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var I=c&134217727;return I!==0?(c=I&~_,c!==0?y=An(c):(C&=I,C!==0?y=An(C):l||(l=I&~s,l!==0&&(y=An(l))))):(I=c&~_,I!==0?y=An(I):C!==0?y=An(C):l||(l=c&~s,l!==0&&(y=An(l)))),y===0?0:r!==0&&r!==y&&(r&_)===0&&(_=y&-y,l=r&-r,_>=l||_===32&&(l&4194048)!==0)?r:y}function Cn(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function ta(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function na(){var s=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),s}function qn(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function fs(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function _l(s,r,l,c,y,_){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var I=s.entanglements,V=s.expirationTimes,Y=s.hiddenUpdates;for(l=C&~l;0<l;){var ee=31-Et(l),ie=1<<ee;I[ee]=0,V[ee]=-1;var J=Y[ee];if(J!==null)for(Y[ee]=null,ee=0;ee<J.length;ee++){var $=J[ee];$!==null&&($.lane&=-536870913)}l&=~ie}c!==0&&Fi(s,c,0),_!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=_&~(C&~r))}function Fi(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-Et(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|l&261930}function Js(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var c=31-Et(l),y=1<<c;y&r|s[c]&r&&(s[c]|=r),l&=~y}}function js(s,r){var l=r&-r;return l=(l&42)!==0?1:hs(l),(l&(s.suspendedLanes|r))!==0?0:l}function hs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ei(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function so(){var s=re.p;return s!==0?s:(s=window.event,s===void 0?32:v0(s.type))}function Fn(s,r){var l=re.p;try{return re.p=s,r()}finally{re.p=l}}var gn=Math.random().toString(36).slice(2),it="__reactFiber$"+gn,Ut="__reactProps$"+gn,ei="__reactContainer$"+gn,$s="__reactEvents$"+gn,vl="__reactListeners$"+gn,ia="__reactHandles$"+gn,ro="__reactResources$"+gn,ti="__reactMarker$"+gn;function ms(s){delete s[it],delete s[Ut],delete s[$s],delete s[vl],delete s[ia]}function Bn(s){var r=s[it];if(r)return r;for(var l=s.parentNode;l;){if(r=l[ei]||l[it]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=i0(s);s!==null;){if(l=s[it])return l;s=i0(s)}return r}s=l,l=s.parentNode}return null}function ye(s){if(s=s[it]||s[ei]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function je(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Qe(s){var r=s[ro];return r||(r=s[ro]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ve(s){s[ti]=!0}var yn=new Set,wn={};function xn(s,r){Bi(s,r),Bi(s+"Capture",r)}function Bi(s,r){for(wn[s]=r,s=0;s<r.length;s++)yn.add(r[s])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Sl={};function tc(s){return xt.call(Sl,s)?!0:xt.call(El,s)?!1:Tl.test(s)?Sl[s]=!0:(El[s]=!0,!1)}function sa(s,r,l){if(tc(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function zn(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Lt(s,r,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+c)}}function $t(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qs(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Al(s,r,l){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return y.call(this)},set:function(C){l=""+C,_.call(this,C)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function st(s){if(!s._valueTracker){var r=Qs(s)?"checked":"value";s._valueTracker=Al(s,r,""+s[r])}}function oo(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return s&&(c=Qs(s)?s.checked?"true":"false":s.value),s=c,s!==l?(r.setValue(s),!0):!1}function zi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ao=/[\n"\\]/g;function In(s){return s.replace(ao,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ra(s,r,l,c,y,_,C,I){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),r!=null?C==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+$t(r)):s.value!==""+$t(r)&&(s.value=""+$t(r)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),r!=null?Cl(s,C,$t(r)):l!=null?Cl(s,C,$t(l)):c!=null&&s.removeAttribute("value"),y==null&&_!=null&&(s.defaultChecked=!!_),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+$t(I):s.removeAttribute("name")}function nc(s,r,l,c,y,_,C,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),r!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||r!=null)){st(s);return}l=l!=null?""+$t(l):"",r=r!=null?""+$t(r):l,I||r===s.value||(s.value=r),s.defaultValue=r}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=I?s.checked:!!c,s.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),st(s)}function Cl(s,r,l){r==="number"&&zi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Xs(s,r,l,c){if(s=s.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<s.length;l++)y=r.hasOwnProperty("$"+s[l].value),s[l].selected!==y&&(s[l].selected=y),y&&c&&(s[l].defaultSelected=!0)}else{for(l=""+$t(l),r=null,y=0;y<s.length;y++){if(s[y].value===l){s[y].selected=!0,c&&(s[y].defaultSelected=!0);return}r!==null||s[y].disabled||(r=s[y])}r!==null&&(r.selected=!0)}}function ic(s,r,l){if(r!=null&&(r=""+$t(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+$t(l):""}function Ws(s,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(i(92));if(Ie(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=$t(r),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c),st(s)}function Rn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(s,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,l):typeof l!="number"||l===0||sc.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function xl(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var y in r)c=r[y],r.hasOwnProperty(y)&&l[y]!==c&&wl(s,y,c)}else for(var _ in r)r.hasOwnProperty(_)&&wl(s,_,r[_])}function oa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(s){return Zs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Si(){}var Il=null;function ni(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var er=null,Gi=null;function lo(s){var r=ye(s);if(r&&(s=r.stateNode)){var l=s[Ut]||null;e:switch(s=r.stateNode,r.type){case"input":if(ra(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+In(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==s&&c.form===s.form){var y=c[Ut]||null;if(!y)throw Error(i(90));ra(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===s.form&&oo(c)}break e;case"textarea":ic(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Xs(s,!!l.multiple,r,!1)}}}var la=!1;function tr(s,r,l){if(la)return s(r,l);la=!0;try{var c=s(r);return c}finally{if(la=!1,(er!==null||Gi!==null)&&(Wc(),er&&(r=er,s=Gi,Gi=er=null,lo(r),s)))for(r=0;r<s.length;r++)lo(s[r])}}function Ai(s,r){var l=s.stateNode;if(l===null)return null;var c=l[Ut]||null;if(c===null)return null;l=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=!1;if(ii)try{var at={};Object.defineProperty(at,"passive",{get:function(){uo=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{uo=!1}var Hi=null,Rl=null,co=null;function bl(){if(co)return co;var s,r=Rl,l=r.length,c,y="value"in Hi?Hi.value:Hi.textContent,_=y.length;for(s=0;s<l&&r[s]===y[s];s++);var C=l-s;for(c=1;c<=C&&r[l-c]===y[_-c];c++);return co=y.slice(s,1<c?1-c:void 0)}function fo(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ps(){return!0}function Ci(){return!1}function Wt(s){function r(l,c,y,_,C){this._reactName=l,this._targetInst=y,this.type=c,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(l=s[I],this[I]=l?l(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ps:Ci,this.isPropagationStopped=Ci,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),r}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=Wt(gs),nr=E({},gs,{view:0,detail:0}),Nl=Wt(nr),ir,ua,Ki,ca=E({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ki&&(Ki&&s.type==="mousemove"?(ir=s.screenX-Ki.screenX,ua=s.screenY-Ki.screenY):ua=ir=0,Ki=s),ir)},movementY:function(s){return"movementY"in s?s.movementY:ua}}),Ml=Wt(ca),ho=E({},ca,{dataTransfer:0}),oc=Wt(ho),ac=E({},nr,{relatedTarget:0}),mo=Wt(ac),Dl=E({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=Wt(Dl),da=E({},gs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),uc=Wt(da),cc=E({},gs,{data:0}),Ji=Wt(cc),dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=hc[s])?!!r[s]:!1}function sr(){return mc}var _n=E({},nr,{key:function(s){if(s.key){var r=dc[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=fo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(s){return s.type==="keypress"?fo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),pc=Wt(_n),gc=E({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ys=Wt(gc),g=E({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),S=Wt(g),w=E({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Wt(w),G=E({},ca,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Wt(G),ue=E({},gs,{newState:0,oldState:0}),De=Wt(ue),Nt=[9,13,27,32],et=ii&&"CompositionEvent"in window,St=null;ii&&"documentMode"in document&&(St=document.documentMode);var si=ii&&"TextEvent"in window&&!St,ji=ii&&(!et||St&&8<St&&11>=St),wi=" ",xi=!1;function po(s,r){switch(s){case"keyup":return Nt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ha=!1;function Ix(s,r){switch(s){case"compositionend":return fa(r);case"keypress":return r.which!==32?null:(xi=!0,wi);case"textInput":return s=r.data,s===wi&&xi?null:s;default:return null}}function Rx(s,r){if(ha)return s==="compositionend"||!et&&po(s,r)?(s=bl(),co=Rl=Hi=null,ha=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!bx[s.type]:r==="textarea"}function ay(s,r,l,c){er?Gi?Gi.push(c):Gi=[c]:er=c,r=rd(r,"onChange"),0<r.length&&(l=new Yi("onChange","change",null,l,c),s.push({event:l,listeners:r}))}var Pl=null,kl=null;function Nx(s){Gv(s,0)}function yc(s){var r=je(s);if(oo(r))return s}function ly(s,r){if(s==="change")return r}var uy=!1;if(ii){var Yf;if(ii){var Kf="oninput"in document;if(!Kf){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),Kf=typeof cy.oninput=="function"}Yf=Kf}else Yf=!1;uy=Yf&&(!document.documentMode||9<document.documentMode)}function dy(){Pl&&(Pl.detachEvent("onpropertychange",fy),kl=Pl=null)}function fy(s){if(s.propertyName==="value"&&yc(kl)){var r=[];ay(r,kl,s,ni(s)),tr(Nx,r)}}function Mx(s,r,l){s==="focusin"?(dy(),Pl=r,kl=l,Pl.attachEvent("onpropertychange",fy)):s==="focusout"&&dy()}function Dx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return yc(kl)}function Px(s,r){if(s==="click")return yc(r)}function kx(s,r){if(s==="input"||s==="change")return yc(r)}function Vx(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Gn=typeof Object.is=="function"?Object.is:Vx;function Vl(s,r){if(Gn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var y=l[c];if(!xt.call(r,y)||!Gn(s[y],r[y]))return!1}return!0}function hy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function my(s,r){var l=hy(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=r&&c>=r)return{node:l,offset:r-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=hy(l)}}function py(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?py(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function gy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=zi(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=zi(s.document)}return r}function Jf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Ux=ii&&"documentMode"in document&&11>=document.documentMode,ma=null,jf=null,Ul=null,$f=!1;function yy(s,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$f||ma==null||ma!==zi(c)||(c=ma,"selectionStart"in c&&Jf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ul&&Vl(Ul,c)||(Ul=c,c=rd(jf,"onSelect"),0<c.length&&(r=new Yi("onSelect","select",null,r,l),s.push({event:r,listeners:c}),r.target=ma)))}function go(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var pa={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionrun:go("Transition","TransitionRun"),transitionstart:go("Transition","TransitionStart"),transitioncancel:go("Transition","TransitionCancel"),transitionend:go("Transition","TransitionEnd")},Qf={},_y={};ii&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function yo(s){if(Qf[s])return Qf[s];if(!pa[s])return s;var r=pa[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in _y)return Qf[s]=r[l];return s}var vy=yo("animationend"),Ty=yo("animationiteration"),Ey=yo("animationstart"),Lx=yo("transitionrun"),Ox=yo("transitionstart"),qx=yo("transitioncancel"),Sy=yo("transitionend"),Ay=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function Ii(s,r){Ay.set(s,r),xn(r,[s])}var _c=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ri=[],ga=0,Wf=0;function vc(){for(var s=ga,r=Wf=ga=0;r<s;){var l=ri[r];ri[r++]=null;var c=ri[r];ri[r++]=null;var y=ri[r];ri[r++]=null;var _=ri[r];if(ri[r++]=null,c!==null&&y!==null){var C=c.pending;C===null?y.next=y:(y.next=C.next,C.next=y),c.pending=y}_!==0&&Cy(l,y,_)}}function Tc(s,r,l,c){ri[ga++]=s,ri[ga++]=r,ri[ga++]=l,ri[ga++]=c,Wf|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Zf(s,r,l,c){return Tc(s,r,l,c),Ec(s)}function _o(s,r){return Tc(s,null,null,r),Ec(s)}function Cy(s,r,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var y=!1,_=s.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(y=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,y&&r!==null&&(y=31-Et(l),s=_.hiddenUpdates,c=s[y],c===null?s[y]=[r]:c.push(r),r.lane=l|536870912),_):null}function Ec(s){if(50<su)throw su=0,lm=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ya={};function Fx(s,r,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(s,r,l,c){return new Fx(s,r,l,c)}function eh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _s(s,r){var l=s.alternate;return l===null?(l=Hn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function wy(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Sc(s,r,l,c,y,_){var C=0;if(c=s,typeof s=="function")eh(s)&&(C=1);else if(typeof s=="string")C=YI(s,l,me.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=Hn(31,l,r,y),s.elementType=R,s.lanes=_,s;case F:return vo(l.children,y,_,r);case B:C=8,y|=24;break;case Q:return s=Hn(12,l,r,y|2),s.elementType=Q,s.lanes=_,s;case de:return s=Hn(13,l,r,y),s.elementType=de,s.lanes=_,s;case ce:return s=Hn(19,l,r,y),s.elementType=ce,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case W:C=10;break e;case X:C=9;break e;case ae:C=11;break e;case D:C=14;break e;case N:C=16,c=null;break e}C=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Hn(C,l,r,y),r.elementType=s,r.type=c,r.lanes=_,r}function vo(s,r,l,c){return s=Hn(7,s,c,r),s.lanes=l,s}function th(s,r,l){return s=Hn(6,s,null,r),s.lanes=l,s}function xy(s){var r=Hn(18,null,null,0);return r.stateNode=s,r}function nh(s,r,l){return r=Hn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Iy=new WeakMap;function oi(s,r){if(typeof s=="object"&&s!==null){var l=Iy.get(s);return l!==void 0?l:(r={value:s,source:r,stack:Hs(r)},Iy.set(s,r),r)}return{value:s,source:r,stack:Hs(r)}}var _a=[],va=0,Ac=null,Ll=0,ai=[],li=0,rr=null,$i=1,Qi="";function vs(s,r){_a[va++]=Ll,_a[va++]=Ac,Ac=s,Ll=r}function Ry(s,r,l){ai[li++]=$i,ai[li++]=Qi,ai[li++]=rr,rr=s;var c=$i;s=Qi;var y=32-Et(c)-1;c&=~(1<<y),l+=1;var _=32-Et(r)+y;if(30<_){var C=y-y%5;_=(c&(1<<C)-1).toString(32),c>>=C,y-=C,$i=1<<32-Et(r)+y|l<<y|c,Qi=_+s}else $i=1<<_|l<<y|c,Qi=s}function ih(s){s.return!==null&&(vs(s,1),Ry(s,1,0))}function sh(s){for(;s===Ac;)Ac=_a[--va],_a[va]=null,Ll=_a[--va],_a[va]=null;for(;s===rr;)rr=ai[--li],ai[li]=null,Qi=ai[--li],ai[li]=null,$i=ai[--li],ai[li]=null}function by(s,r){ai[li++]=$i,ai[li++]=Qi,ai[li++]=rr,$i=r.id,Qi=r.overflow,rr=s}var Zt=null,gt=null,Ke=!1,or=null,ui=!1,rh=Error(i(519));function ar(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(oi(r,s)),rh}function Ny(s){var r=s.stateNode,l=s.type,c=s.memoizedProps;switch(r[it]=s,r[Ut]=c,l){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(l=0;l<ou.length;l++)Oe(ou[l],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),nc(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Ws(r,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||Jv(r.textContent,l)?(c.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),c.onScroll!=null&&Oe("scroll",r),c.onScrollEnd!=null&&Oe("scrollend",r),c.onClick!=null&&(r.onclick=Si),r=!0):r=!1,r||ar(s,!0)}function My(s){for(Zt=s.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Zt=Zt.return}}function Ta(s){if(s!==Zt)return!1;if(!Ke)return My(s),Ke=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Am(s.type,s.memoizedProps)),l=!l),l&&gt&&ar(s),My(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));gt=n0(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));gt=n0(s)}else r===27?(r=gt,Er(s.type)?(s=Rm,Rm=null,gt=s):gt=r):gt=Zt?di(s.stateNode.nextSibling):null;return!0}function To(){gt=Zt=null,Ke=!1}function oh(){var s=or;return s!==null&&(Dn===null?Dn=s:Dn.push.apply(Dn,s),or=null),s}function Ol(s){or===null?or=[s]:or.push(s)}var ah=q(null),Eo=null,Ts=null;function lr(s,r,l){le(ah,r._currentValue),r._currentValue=l}function Es(s){s._currentValue=ah.current,ne(ah)}function lh(s,r,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===l)break;s=s.return}}function uh(s,r,l,c){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var _=y.dependencies;if(_!==null){var C=y.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=y;for(var V=0;V<r.length;V++)if(I.context===r[V]){_.lanes|=l,I=_.alternate,I!==null&&(I.lanes|=l),lh(_.return,l,s),c||(C=null);break e}_=I.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(i(341));C.lanes|=l,_=C.alternate,_!==null&&(_.lanes|=l),lh(C,l,s),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Ea(s,r,l,c){s=null;for(var y=r,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var I=y.type;Gn(y.pendingProps.value,C.value)||(s!==null?s.push(I):s=[I])}}else if(y===Ue.current){if(C=y.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(du):s=[du])}y=y.return}s!==null&&uh(r,s,l,c),r.flags|=262144}function Cc(s){for(s=s.firstContext;s!==null;){if(!Gn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function So(s){Eo=s,Ts=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function en(s){return Dy(Eo,s)}function wc(s,r){return Eo===null&&So(s),Dy(s,r)}function Dy(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ts===null){if(s===null)throw Error(i(308));Ts=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ts=Ts.next=r;return l}var Bx=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},zx=t.unstable_scheduleCallback,Gx=t.unstable_NormalPriority,Ot={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ch(){return{controller:new Bx,data:new Map,refCount:0}}function ql(s){s.refCount--,s.refCount===0&&zx(Gx,function(){s.controller.abort()})}var Fl=null,dh=0,Sa=0,Aa=null;function Hx(s,r){if(Fl===null){var l=Fl=[];dh=0,Sa=mm(),Aa={status:"pending",value:void 0,then:function(c){l.push(c)}}}return dh++,r.then(Py,Py),r}function Py(){if(--dh===0&&Fl!==null){Aa!==null&&(Aa.status="fulfilled");var s=Fl;Fl=null,Sa=0,Aa=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function Yx(s,r){var l=[],c={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(c.status="rejected",c.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),c}var ky=K.S;K.S=function(s,r){yv=jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Hx(s,r),ky!==null&&ky(s,r)};var Ao=q(null);function fh(){var s=Ao.current;return s!==null?s:dt.pooledCache}function xc(s,r){r===null?le(Ao,Ao.current):le(Ao,r.pool)}function Vy(){var s=fh();return s===null?null:{parent:Ot._currentValue,pool:s}}var Ca=Error(i(460)),hh=Error(i(474)),Ic=Error(i(542)),Rc={then:function(){}};function Uy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ly(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Si,Si),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,qy(s),s;default:if(typeof r.status=="string")r.then(Si,Si);else{if(s=dt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=c}},function(c){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,qy(s),s}throw wo=r,Ca}}function Co(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(wo=l,Ca):l}}var wo=null;function Oy(){if(wo===null)throw Error(i(459));var s=wo;return wo=null,s}function qy(s){if(s===Ca||s===Ic)throw Error(i(483))}var wa=null,Bl=0;function bc(s){var r=Bl;return Bl+=1,wa===null&&(wa=[]),Ly(wa,s,r)}function zl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Nc(s,r){throw r.$$typeof===A?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Fy(s){function r(z,O){if(s){var H=z.deletions;H===null?(z.deletions=[O],z.flags|=16):H.push(O)}}function l(z,O){if(!s)return null;for(;O!==null;)r(z,O),O=O.sibling;return null}function c(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function y(z,O){return z=_s(z,O),z.index=0,z.sibling=null,z}function _(z,O,H){return z.index=H,s?(H=z.alternate,H!==null?(H=H.index,H<O?(z.flags|=67108866,O):H):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function C(z){return s&&z.alternate===null&&(z.flags|=67108866),z}function I(z,O,H,te){return O===null||O.tag!==6?(O=th(H,z.mode,te),O.return=z,O):(O=y(O,H),O.return=z,O)}function V(z,O,H,te){var Te=H.type;return Te===F?ee(z,O,H.props.children,te,H.key):O!==null&&(O.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===N&&Co(Te)===O.type)?(O=y(O,H.props),zl(O,H),O.return=z,O):(O=Sc(H.type,H.key,H.props,null,z.mode,te),zl(O,H),O.return=z,O)}function Y(z,O,H,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=nh(H,z.mode,te),O.return=z,O):(O=y(O,H.children||[]),O.return=z,O)}function ee(z,O,H,te,Te){return O===null||O.tag!==7?(O=vo(H,z.mode,te,Te),O.return=z,O):(O=y(O,H),O.return=z,O)}function ie(z,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=th(""+O,z.mode,H),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return H=Sc(O.type,O.key,O.props,null,z.mode,H),zl(H,O),H.return=z,H;case L:return O=nh(O,z.mode,H),O.return=z,O;case N:return O=Co(O),ie(z,O,H)}if(Ie(O)||U(O))return O=vo(O,z.mode,H,null),O.return=z,O;if(typeof O.then=="function")return ie(z,bc(O),H);if(O.$$typeof===W)return ie(z,wc(z,O),H);Nc(z,O)}return null}function J(z,O,H,te){var Te=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:I(z,O,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===Te?V(z,O,H,te):null;case L:return H.key===Te?Y(z,O,H,te):null;case N:return H=Co(H),J(z,O,H,te)}if(Ie(H)||U(H))return Te!==null?null:ee(z,O,H,te,null);if(typeof H.then=="function")return J(z,O,bc(H),te);if(H.$$typeof===W)return J(z,O,wc(z,H),te);Nc(z,H)}return null}function $(z,O,H,te,Te){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(H)||null,I(O,z,""+te,Te);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return z=z.get(te.key===null?H:te.key)||null,V(O,z,te,Te);case L:return z=z.get(te.key===null?H:te.key)||null,Y(O,z,te,Te);case N:return te=Co(te),$(z,O,H,te,Te)}if(Ie(te)||U(te))return z=z.get(H)||null,ee(O,z,te,Te,null);if(typeof te.then=="function")return $(z,O,H,bc(te),Te);if(te.$$typeof===W)return $(z,O,H,wc(O,te),Te);Nc(O,te)}return null}function ge(z,O,H,te){for(var Te=null,Xe=null,_e=O,ke=O=0,ze=null;_e!==null&&ke<H.length;ke++){_e.index>ke?(ze=_e,_e=null):ze=_e.sibling;var We=J(z,_e,H[ke],te);if(We===null){_e===null&&(_e=ze);break}s&&_e&&We.alternate===null&&r(z,_e),O=_(We,O,ke),Xe===null?Te=We:Xe.sibling=We,Xe=We,_e=ze}if(ke===H.length)return l(z,_e),Ke&&vs(z,ke),Te;if(_e===null){for(;ke<H.length;ke++)_e=ie(z,H[ke],te),_e!==null&&(O=_(_e,O,ke),Xe===null?Te=_e:Xe.sibling=_e,Xe=_e);return Ke&&vs(z,ke),Te}for(_e=c(_e);ke<H.length;ke++)ze=$(_e,z,ke,H[ke],te),ze!==null&&(s&&ze.alternate!==null&&_e.delete(ze.key===null?ke:ze.key),O=_(ze,O,ke),Xe===null?Te=ze:Xe.sibling=ze,Xe=ze);return s&&_e.forEach(function(xr){return r(z,xr)}),Ke&&vs(z,ke),Te}function Ae(z,O,H,te){if(H==null)throw Error(i(151));for(var Te=null,Xe=null,_e=O,ke=O=0,ze=null,We=H.next();_e!==null&&!We.done;ke++,We=H.next()){_e.index>ke?(ze=_e,_e=null):ze=_e.sibling;var xr=J(z,_e,We.value,te);if(xr===null){_e===null&&(_e=ze);break}s&&_e&&xr.alternate===null&&r(z,_e),O=_(xr,O,ke),Xe===null?Te=xr:Xe.sibling=xr,Xe=xr,_e=ze}if(We.done)return l(z,_e),Ke&&vs(z,ke),Te;if(_e===null){for(;!We.done;ke++,We=H.next())We=ie(z,We.value,te),We!==null&&(O=_(We,O,ke),Xe===null?Te=We:Xe.sibling=We,Xe=We);return Ke&&vs(z,ke),Te}for(_e=c(_e);!We.done;ke++,We=H.next())We=$(_e,z,ke,We.value,te),We!==null&&(s&&We.alternate!==null&&_e.delete(We.key===null?ke:We.key),O=_(We,O,ke),Xe===null?Te=We:Xe.sibling=We,Xe=We);return s&&_e.forEach(function(nR){return r(z,nR)}),Ke&&vs(z,ke),Te}function ct(z,O,H,te){if(typeof H=="object"&&H!==null&&H.type===F&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var Te=H.key;O!==null;){if(O.key===Te){if(Te=H.type,Te===F){if(O.tag===7){l(z,O.sibling),te=y(O,H.props.children),te.return=z,z=te;break e}}else if(O.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===N&&Co(Te)===O.type){l(z,O.sibling),te=y(O,H.props),zl(te,H),te.return=z,z=te;break e}l(z,O);break}else r(z,O);O=O.sibling}H.type===F?(te=vo(H.props.children,z.mode,te,H.key),te.return=z,z=te):(te=Sc(H.type,H.key,H.props,null,z.mode,te),zl(te,H),te.return=z,z=te)}return C(z);case L:e:{for(Te=H.key;O!==null;){if(O.key===Te)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){l(z,O.sibling),te=y(O,H.children||[]),te.return=z,z=te;break e}else{l(z,O);break}else r(z,O);O=O.sibling}te=nh(H,z.mode,te),te.return=z,z=te}return C(z);case N:return H=Co(H),ct(z,O,H,te)}if(Ie(H))return ge(z,O,H,te);if(U(H)){if(Te=U(H),typeof Te!="function")throw Error(i(150));return H=Te.call(H),Ae(z,O,H,te)}if(typeof H.then=="function")return ct(z,O,bc(H),te);if(H.$$typeof===W)return ct(z,O,wc(z,H),te);Nc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(l(z,O.sibling),te=y(O,H),te.return=z,z=te):(l(z,O),te=th(H,z.mode,te),te.return=z,z=te),C(z)):l(z,O)}return function(z,O,H,te){try{Bl=0;var Te=ct(z,O,H,te);return wa=null,Te}catch(_e){if(_e===Ca||_e===Ic)throw _e;var Xe=Hn(29,_e,null,z.mode);return Xe.lanes=te,Xe.return=z,Xe}finally{}}}var xo=Fy(!0),By=Fy(!1),ur=!1;function mh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function cr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function dr(s,r,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(tt&2)!==0){var y=c.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),c.pending=r,r=Ec(s),Cy(s,null,l),r}return Tc(s,c,r,l),Ec(s)}function Gl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,Js(s,l)}}function gh(s,r){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var y=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?y=_=C:_=_.next=C,l=l.next}while(l!==null);_===null?y=_=r:_=_.next=r}else y=_=r;l={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var yh=!1;function Hl(){if(yh){var s=Aa;if(s!==null)throw s}}function Yl(s,r,l,c){yh=!1;var y=s.updateQueue;ur=!1;var _=y.firstBaseUpdate,C=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var V=I,Y=V.next;V.next=null,C===null?_=Y:C.next=Y,C=V;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,I=ee.lastBaseUpdate,I!==C&&(I===null?ee.firstBaseUpdate=Y:I.next=Y,ee.lastBaseUpdate=V))}if(_!==null){var ie=y.baseState;C=0,ee=Y=V=null,I=_;do{var J=I.lane&-536870913,$=J!==I.lane;if($?(Be&J)===J:(c&J)===J){J!==0&&J===Sa&&(yh=!0),ee!==null&&(ee=ee.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ge=s,Ae=I;J=r;var ct=l;switch(Ae.tag){case 1:if(ge=Ae.payload,typeof ge=="function"){ie=ge.call(ct,ie,J);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ae.payload,J=typeof ge=="function"?ge.call(ct,ie,J):ge,J==null)break e;ie=E({},ie,J);break e;case 2:ur=!0}}J=I.callback,J!==null&&(s.flags|=64,$&&(s.flags|=8192),$=y.callbacks,$===null?y.callbacks=[J]:$.push(J))}else $={lane:J,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ee===null?(Y=ee=$,V=ie):ee=ee.next=$,C|=J;if(I=I.next,I===null){if(I=y.shared.pending,I===null)break;$=I,I=$.next,$.next=null,y.lastBaseUpdate=$,y.shared.pending=null}}while(!0);ee===null&&(V=ie),y.baseState=V,y.firstBaseUpdate=Y,y.lastBaseUpdate=ee,_===null&&(y.shared.lanes=0),gr|=C,s.lanes=C,s.memoizedState=ie}}function zy(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Gy(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)zy(l[s],r)}var xa=q(null),Mc=q(0);function Hy(s,r){s=Ns,le(Mc,s),le(xa,r),Ns=s|r.baseLanes}function _h(){le(Mc,Ns),le(xa,xa.current)}function vh(){Ns=Mc.current,ne(xa),ne(Mc)}var Yn=q(null),ci=null;function fr(s){var r=s.alternate;le(Mt,Mt.current&1),le(Yn,s),ci===null&&(r===null||xa.current!==null||r.memoizedState!==null)&&(ci=s)}function Th(s){le(Mt,Mt.current),le(Yn,s),ci===null&&(ci=s)}function Yy(s){s.tag===22?(le(Mt,Mt.current),le(Yn,s),ci===null&&(ci=s)):hr()}function hr(){le(Mt,Mt.current),le(Yn,Yn.current)}function Kn(s){ne(Yn),ci===s&&(ci=null),ne(Mt)}var Mt=q(0);function Dc(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||xm(l)||Im(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ss=0,Pe=null,lt=null,qt=null,Pc=!1,Ia=!1,Io=!1,kc=0,Kl=0,Ra=null,Kx=0;function Rt(){throw Error(i(321))}function Eh(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!Gn(s[l],r[l]))return!1;return!0}function Sh(s,r,l,c,y,_){return Ss=_,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=s===null||s.memoizedState===null?R_:Lh,Io=!1,_=l(c,y),Io=!1,Ia&&(_=Jy(r,l,c,y)),Ky(s),_}function Ky(s){K.H=$l;var r=lt!==null&&lt.next!==null;if(Ss=0,qt=lt=Pe=null,Pc=!1,Kl=0,Ra=null,r)throw Error(i(300));s===null||Ft||(s=s.dependencies,s!==null&&Cc(s)&&(Ft=!0))}function Jy(s,r,l,c){Pe=s;var y=0;do{if(Ia&&(Ra=null),Kl=0,Ia=!1,25<=y)throw Error(i(301));if(y+=1,qt=lt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}K.H=b_,_=r(l,c)}while(Ia);return _}function Jx(){var s=K.H,r=s.useState()[0];return r=typeof r.then=="function"?Jl(r):r,s=s.useState()[0],(lt!==null?lt.memoizedState:null)!==s&&(Pe.flags|=1024),r}function Ah(){var s=kc!==0;return kc=0,s}function Ch(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function wh(s){if(Pc){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Pc=!1}Ss=0,qt=lt=Pe=null,Ia=!1,Kl=kc=0,Ra=null}function vn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Pe.memoizedState=qt=s:qt=qt.next=s,qt}function Dt(){if(lt===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=lt.next;var r=qt===null?Pe.memoizedState:qt.next;if(r!==null)qt=r,lt=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));lt=s,s={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},qt===null?Pe.memoizedState=qt=s:qt=qt.next=s}return qt}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(s){var r=Kl;return Kl+=1,Ra===null&&(Ra=[]),s=Ly(Ra,s,r),r=Pe,(qt===null?r.memoizedState:qt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?R_:Lh),s}function Uc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jl(s);if(s.$$typeof===W)return en(s)}throw Error(i(438,String(s)))}function xh(s){var r=null,l=Pe.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Vc(),Pe.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),c=0;c<s;c++)l[c]=k;return r.index++,l}function As(s,r){return typeof r=="function"?r(s):r}function Lc(s){var r=Dt();return Ih(r,lt,s)}function Ih(s,r,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var y=s.baseQueue,_=c.pending;if(_!==null){if(y!==null){var C=y.next;y.next=_.next,_.next=C}r.baseQueue=y=_,c.pending=null}if(_=s.baseState,y===null)s.memoizedState=_;else{r=y.next;var I=C=null,V=null,Y=r,ee=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(Be&ie)===ie:(Ss&ie)===ie){var J=Y.revertLane;if(J===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===Sa&&(ee=!0);else if((Ss&J)===J){Y=Y.next,J===Sa&&(ee=!0);continue}else ie={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(I=V=ie,C=_):V=V.next=ie,Pe.lanes|=J,gr|=J;ie=Y.action,Io&&l(_,ie),_=Y.hasEagerState?Y.eagerState:l(_,ie)}else J={lane:ie,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(I=V=J,C=_):V=V.next=J,Pe.lanes|=ie,gr|=ie;Y=Y.next}while(Y!==null&&Y!==r);if(V===null?C=_:V.next=I,!Gn(_,s.memoizedState)&&(Ft=!0,ee&&(l=Aa,l!==null)))throw l;s.memoizedState=_,s.baseState=C,s.baseQueue=V,c.lastRenderedState=_}return y===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Rh(s){var r=Dt(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,y=l.pending,_=r.memoizedState;if(y!==null){l.pending=null;var C=y=y.next;do _=s(_,C.action),C=C.next;while(C!==y);Gn(_,r.memoizedState)||(Ft=!0),r.memoizedState=_,r.baseQueue===null&&(r.baseState=_),l.lastRenderedState=_}return[_,c]}function jy(s,r,l){var c=Pe,y=Dt(),_=Ke;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=r();var C=!Gn((lt||y).memoizedState,l);if(C&&(y.memoizedState=l,Ft=!0),y=y.queue,Mh(Xy.bind(null,c,y,s),[s]),y.getSnapshot!==r||C||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,ba(9,{destroy:void 0},Qy.bind(null,c,y,l,r),null),dt===null)throw Error(i(349));_||(Ss&127)!==0||$y(c,r,l)}return l}function $y(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Pe.updateQueue,r===null?(r=Vc(),Pe.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Qy(s,r,l,c){r.value=l,r.getSnapshot=c,Wy(r)&&Zy(s)}function Xy(s,r,l){return l(function(){Wy(r)&&Zy(s)})}function Wy(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!Gn(s,l)}catch{return!0}}function Zy(s){var r=_o(s,2);r!==null&&Pn(r,s,2)}function bh(s){var r=vn();if(typeof s=="function"){var l=s;if(s=l(),Io){pn(!0);try{l()}finally{pn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:s},r}function e_(s,r,l,c){return s.baseState=l,Ih(s,lt,typeof c=="function"?c:As)}function jx(s,r,l,c,y){if(Fc(s))throw Error(i(485));if(s=r.action,s!==null){var _={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};K.T!==null?l(!0):_.isTransition=!1,c(_),l=r.pending,l===null?(_.next=r.pending=_,t_(r,_)):(_.next=l.next,r.pending=l.next=_)}}function t_(s,r){var l=r.action,c=r.payload,y=s.state;if(r.isTransition){var _=K.T,C={};K.T=C;try{var I=l(y,c),V=K.S;V!==null&&V(C,I),n_(s,r,I)}catch(Y){Nh(s,r,Y)}finally{_!==null&&C.types!==null&&(_.types=C.types),K.T=_}}else try{_=l(y,c),n_(s,r,_)}catch(Y){Nh(s,r,Y)}}function n_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){i_(s,r,c)},function(c){return Nh(s,r,c)}):i_(s,r,l)}function i_(s,r,l){r.status="fulfilled",r.value=l,s_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,t_(s,l)))}function Nh(s,r,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,s_(r),r=r.next;while(r!==c)}s.action=null}function s_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function r_(s,r){return r}function o_(s,r){if(Ke){var l=dt.formState;if(l!==null){e:{var c=Pe;if(Ke){if(gt){t:{for(var y=gt,_=ui;y.nodeType!==8;){if(!_){y=null;break t}if(y=di(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){gt=di(y.nextSibling),c=y.data==="F!";break e}}ar(c)}c=!1}c&&(r=l[0])}}return l=vn(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:r},l.queue=c,l=w_.bind(null,Pe,c),c.dispatch=l,c=bh(!1),_=Uh.bind(null,Pe,!1,c.queue),c=vn(),y={state:r,dispatch:null,action:s,pending:null},c.queue=y,l=jx.bind(null,Pe,y,_,l),y.dispatch=l,c.memoizedState=s,[r,l,!1]}function a_(s){var r=Dt();return l_(r,lt,s)}function l_(s,r,l){if(r=Ih(s,r,r_)[0],s=Lc(As)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Jl(r)}catch(C){throw C===Ca?Ic:C}else c=r;r=Dt();var y=r.queue,_=y.dispatch;return l!==r.memoizedState&&(Pe.flags|=2048,ba(9,{destroy:void 0},$x.bind(null,y,l),null)),[c,_,s]}function $x(s,r){s.action=r}function u_(s){var r=Dt(),l=lt;if(l!==null)return l_(r,l,s);Dt(),r=r.memoizedState,l=Dt();var c=l.queue.dispatch;return l.memoizedState=s,[r,c,!1]}function ba(s,r,l,c){return s={tag:s,create:l,deps:c,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Vc(),Pe.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,r.lastEffect=s),s}function c_(){return Dt().memoizedState}function Oc(s,r,l,c){var y=vn();Pe.flags|=s,y.memoizedState=ba(1|r,{destroy:void 0},l,c===void 0?null:c)}function qc(s,r,l,c){var y=Dt();c=c===void 0?null:c;var _=y.memoizedState.inst;lt!==null&&c!==null&&Eh(c,lt.memoizedState.deps)?y.memoizedState=ba(r,_,l,c):(Pe.flags|=s,y.memoizedState=ba(1|r,_,l,c))}function d_(s,r){Oc(8390656,8,s,r)}function Mh(s,r){qc(2048,8,s,r)}function Qx(s){Pe.flags|=4;var r=Pe.updateQueue;if(r===null)r=Vc(),Pe.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function f_(s){var r=Dt().memoizedState;return Qx({ref:r,nextImpl:s}),function(){if((tt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function h_(s,r){return qc(4,2,s,r)}function m_(s,r){return qc(4,4,s,r)}function p_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function g_(s,r,l){l=l!=null?l.concat([s]):null,qc(4,4,p_.bind(null,r,s),l)}function Dh(){}function y_(s,r){var l=Dt();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&Eh(r,c[1])?c[0]:(l.memoizedState=[s,r],s)}function __(s,r){var l=Dt();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&Eh(r,c[1]))return c[0];if(c=s(),Io){pn(!0);try{s()}finally{pn(!1)}}return l.memoizedState=[c,r],c}function Ph(s,r,l){return l===void 0||(Ss&1073741824)!==0&&(Be&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=vv(),Pe.lanes|=s,gr|=s,l)}function v_(s,r,l,c){return Gn(l,r)?l:xa.current!==null?(s=Ph(s,l,c),Gn(s,r)||(Ft=!0),s):(Ss&42)===0||(Ss&1073741824)!==0&&(Be&261930)===0?(Ft=!0,s.memoizedState=l):(s=vv(),Pe.lanes|=s,gr|=s,r)}function T_(s,r,l,c,y){var _=re.p;re.p=_!==0&&8>_?_:8;var C=K.T,I={};K.T=I,Uh(s,!1,r,l);try{var V=y(),Y=K.S;if(Y!==null&&Y(I,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ee=Yx(V,c);jl(s,r,ee,$n(s))}else jl(s,r,c,$n(s))}catch(ie){jl(s,r,{then:function(){},status:"rejected",reason:ie},$n())}finally{re.p=_,C!==null&&I.types!==null&&(C.types=I.types),K.T=C}}function Xx(){}function kh(s,r,l,c){if(s.tag!==5)throw Error(i(476));var y=E_(s).queue;T_(s,y,r,he,l===null?Xx:function(){return S_(s),l(c)})}function E_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:he},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function S_(s){var r=E_(s);r.next===null&&(r=s.alternate.memoizedState),jl(s,r.next.queue,{},$n())}function Vh(){return en(du)}function A_(){return Dt().memoizedState}function C_(){return Dt().memoizedState}function Wx(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=$n();s=cr(l);var c=dr(r,s,l);c!==null&&(Pn(c,r,l),Gl(c,r,l)),r={cache:ch()},s.payload=r;return}r=r.return}}function Zx(s,r,l){var c=$n();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fc(s)?x_(r,l):(l=Zf(s,r,l,c),l!==null&&(Pn(l,s,c),I_(l,r,c)))}function w_(s,r,l){var c=$n();jl(s,r,l,c)}function jl(s,r,l,c){var y={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fc(s))x_(r,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=r.lastRenderedReducer,_!==null))try{var C=r.lastRenderedState,I=_(C,l);if(y.hasEagerState=!0,y.eagerState=I,Gn(I,C))return Tc(s,r,y,0),dt===null&&vc(),!1}catch{}finally{}if(l=Zf(s,r,y,c),l!==null)return Pn(l,s,c),I_(l,r,c),!0}return!1}function Uh(s,r,l,c){if(c={lane:2,revertLane:mm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Fc(s)){if(r)throw Error(i(479))}else r=Zf(s,l,c,2),r!==null&&Pn(r,s,2)}function Fc(s){var r=s.alternate;return s===Pe||r!==null&&r===Pe}function x_(s,r){Ia=Pc=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function I_(s,r,l){if((l&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,Js(s,l)}}var $l={readContext:en,use:Uc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};$l.useEffectEvent=Rt;var R_={readContext:en,use:Uc,useCallback:function(s,r){return vn().memoizedState=[s,r===void 0?null:r],s},useContext:en,useEffect:d_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Oc(4194308,4,p_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Oc(4194308,4,s,r)},useInsertionEffect:function(s,r){Oc(4,2,s,r)},useMemo:function(s,r){var l=vn();r=r===void 0?null:r;var c=s();if(Io){pn(!0);try{s()}finally{pn(!1)}}return l.memoizedState=[c,r],c},useReducer:function(s,r,l){var c=vn();if(l!==void 0){var y=l(r);if(Io){pn(!0);try{l(r)}finally{pn(!1)}}}else y=r;return c.memoizedState=c.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},c.queue=s,s=s.dispatch=Zx.bind(null,Pe,s),[c.memoizedState,s]},useRef:function(s){var r=vn();return s={current:s},r.memoizedState=s},useState:function(s){s=bh(s);var r=s.queue,l=w_.bind(null,Pe,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Dh,useDeferredValue:function(s,r){var l=vn();return Ph(l,s,r)},useTransition:function(){var s=bh(!1);return s=T_.bind(null,Pe,s.queue,!0,!1),vn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var c=Pe,y=vn();if(Ke){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),dt===null)throw Error(i(349));(Be&127)!==0||$y(c,r,l)}y.memoizedState=l;var _={value:l,getSnapshot:r};return y.queue=_,d_(Xy.bind(null,c,_,s),[s]),c.flags|=2048,ba(9,{destroy:void 0},Qy.bind(null,c,_,l,r),null),l},useId:function(){var s=vn(),r=dt.identifierPrefix;if(Ke){var l=Qi,c=$i;l=(c&~(1<<32-Et(c)-1)).toString(32)+l,r="_"+r+"R_"+l,l=kc++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=Kx++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Vh,useFormState:o_,useActionState:o_,useOptimistic:function(s){var r=vn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Uh.bind(null,Pe,!0,l),l.dispatch=r,[s,r]},useMemoCache:xh,useCacheRefresh:function(){return vn().memoizedState=Wx.bind(null,Pe)},useEffectEvent:function(s){var r=vn(),l={impl:s};return r.memoizedState=l,function(){if((tt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Lh={readContext:en,use:Uc,useCallback:y_,useContext:en,useEffect:Mh,useImperativeHandle:g_,useInsertionEffect:h_,useLayoutEffect:m_,useMemo:__,useReducer:Lc,useRef:c_,useState:function(){return Lc(As)},useDebugValue:Dh,useDeferredValue:function(s,r){var l=Dt();return v_(l,lt.memoizedState,s,r)},useTransition:function(){var s=Lc(As)[0],r=Dt().memoizedState;return[typeof s=="boolean"?s:Jl(s),r]},useSyncExternalStore:jy,useId:A_,useHostTransitionStatus:Vh,useFormState:a_,useActionState:a_,useOptimistic:function(s,r){var l=Dt();return e_(l,lt,s,r)},useMemoCache:xh,useCacheRefresh:C_};Lh.useEffectEvent=f_;var b_={readContext:en,use:Uc,useCallback:y_,useContext:en,useEffect:Mh,useImperativeHandle:g_,useInsertionEffect:h_,useLayoutEffect:m_,useMemo:__,useReducer:Rh,useRef:c_,useState:function(){return Rh(As)},useDebugValue:Dh,useDeferredValue:function(s,r){var l=Dt();return lt===null?Ph(l,s,r):v_(l,lt.memoizedState,s,r)},useTransition:function(){var s=Rh(As)[0],r=Dt().memoizedState;return[typeof s=="boolean"?s:Jl(s),r]},useSyncExternalStore:jy,useId:A_,useHostTransitionStatus:Vh,useFormState:u_,useActionState:u_,useOptimistic:function(s,r){var l=Dt();return lt!==null?e_(l,lt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:xh,useCacheRefresh:C_};b_.useEffectEvent=f_;function Oh(s,r,l,c){r=s.memoizedState,l=l(c,r),l=l==null?r:E({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var qh={enqueueSetState:function(s,r,l){s=s._reactInternals;var c=$n(),y=cr(c);y.payload=r,l!=null&&(y.callback=l),r=dr(s,y,c),r!==null&&(Pn(r,s,c),Gl(r,s,c))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var c=$n(),y=cr(c);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=dr(s,y,c),r!==null&&(Pn(r,s,c),Gl(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=$n(),c=cr(l);c.tag=2,r!=null&&(c.callback=r),r=dr(s,c,l),r!==null&&(Pn(r,s,l),Gl(r,s,l))}};function N_(s,r,l,c,y,_,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,_,C):r.prototype&&r.prototype.isPureReactComponent?!Vl(l,c)||!Vl(y,_):!0}function M_(s,r,l,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==s&&qh.enqueueReplaceState(r,r.state,null)}function Ro(s,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(s=s.defaultProps){l===r&&(l=E({},l));for(var y in s)l[y]===void 0&&(l[y]=s[y])}return l}function D_(s){_c(s)}function P_(s){console.error(s)}function k_(s){_c(s)}function Bc(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function V_(s,r,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Fh(s,r,l){return l=cr(l),l.tag=3,l.payload={element:null},l.callback=function(){Bc(s,r)},l}function U_(s){return s=cr(s),s.tag=3,s}function L_(s,r,l,c){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var _=c.value;s.payload=function(){return y(_)},s.callback=function(){V_(r,l,c)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){V_(r,l,c),typeof y!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function eI(s,r,l,c,y){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&Ea(r,l,y,!0),l=Yn.current,l!==null){switch(l.tag){case 31:case 13:return ci===null?Zc():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=y,c===Rc?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),dm(s,c,y)),!1;case 22:return l.flags|=65536,c===Rc?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),dm(s,c,y)),!1}throw Error(i(435,l.tag))}return dm(s,c,y),Zc(),!1}if(Ke)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,c!==rh&&(s=Error(i(422),{cause:c}),Ol(oi(s,l)))):(c!==rh&&(r=Error(i(423),{cause:c}),Ol(oi(r,l))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,c=oi(c,l),y=Fh(s.stateNode,c,y),gh(s,y),bt!==4&&(bt=2)),!1;var _=Error(i(520),{cause:c});if(_=oi(_,l),iu===null?iu=[_]:iu.push(_),bt!==4&&(bt=2),r===null)return!0;c=oi(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=y&-y,l.lanes|=s,s=Fh(l.stateNode,c,s),gh(l,s),!1;case 1:if(r=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(yr===null||!yr.has(_))))return l.flags|=65536,y&=-y,l.lanes|=y,y=U_(y),L_(y,s,l,c),gh(l,y),!1}l=l.return}while(l!==null);return!1}var Bh=Error(i(461)),Ft=!1;function tn(s,r,l,c){r.child=s===null?By(r,null,l,c):xo(r,s.child,l,c)}function O_(s,r,l,c,y){l=l.render;var _=r.ref;if("ref"in c){var C={};for(var I in c)I!=="ref"&&(C[I]=c[I])}else C=c;return So(r),c=Sh(s,r,l,C,_,y),I=Ah(),s!==null&&!Ft?(Ch(s,r,y),Cs(s,r,y)):(Ke&&I&&ih(r),r.flags|=1,tn(s,r,c,y),r.child)}function q_(s,r,l,c,y){if(s===null){var _=l.type;return typeof _=="function"&&!eh(_)&&_.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=_,F_(s,r,_,c,y)):(s=Sc(l.type,null,c,r,r.mode,y),s.ref=r.ref,s.return=r,r.child=s)}if(_=s.child,!$h(s,y)){var C=_.memoizedProps;if(l=l.compare,l=l!==null?l:Vl,l(C,c)&&s.ref===r.ref)return Cs(s,r,y)}return r.flags|=1,s=_s(_,c),s.ref=r.ref,s.return=r,r.child=s}function F_(s,r,l,c,y){if(s!==null){var _=s.memoizedProps;if(Vl(_,c)&&s.ref===r.ref)if(Ft=!1,r.pendingProps=c=_,$h(s,y))(s.flags&131072)!==0&&(Ft=!0);else return r.lanes=s.lanes,Cs(s,r,y)}return zh(s,r,l,c,y)}function B_(s,r,l,c){var y=c.children,_=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,s!==null){for(c=r.child=s.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~_}else c=0,r.child=null;return z_(s,r,_,l,c)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&xc(r,_!==null?_.cachePool:null),_!==null?Hy(r,_):_h(),Yy(r);else return c=r.lanes=536870912,z_(s,r,_!==null?_.baseLanes|l:l,l,c)}else _!==null?(xc(r,_.cachePool),Hy(r,_),hr(),r.memoizedState=null):(s!==null&&xc(r,null),_h(),hr());return tn(s,r,y,l),r.child}function Ql(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function z_(s,r,l,c,y){var _=fh();return _=_===null?null:{parent:Ot._currentValue,pool:_},r.memoizedState={baseLanes:l,cachePool:_},s!==null&&xc(r,null),_h(),Yy(r),s!==null&&Ea(s,r,c,!0),r.childLanes=y,null}function zc(s,r){return r=Hc({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function G_(s,r,l){return xo(r,s.child,null,l),s=zc(r,r.pendingProps),s.flags|=2,Kn(r),r.memoizedState=null,s}function tI(s,r,l){var c=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Ke){if(c.mode==="hidden")return s=zc(r,c),r.lanes=536870912,Ql(null,s);if(Th(r),(s=gt)?(s=t0(s,ui),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:rr!==null?{id:$i,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},l=xy(s),l.return=r,r.child=l,Zt=r,gt=null)):s=null,s===null)throw ar(r);return r.lanes=536870912,null}return zc(r,c)}var _=s.memoizedState;if(_!==null){var C=_.dehydrated;if(Th(r),y)if(r.flags&256)r.flags&=-257,r=G_(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ft||Ea(s,r,l,!1),y=(l&s.childLanes)!==0,Ft||y){if(c=dt,c!==null&&(C=js(c,l),C!==0&&C!==_.retryLane))throw _.retryLane=C,_o(s,C),Pn(c,s,C),Bh;Zc(),r=G_(s,r,l)}else s=_.treeContext,gt=di(C.nextSibling),Zt=r,Ke=!0,or=null,ui=!1,s!==null&&by(r,s),r=zc(r,c),r.flags|=4096;return r}return s=_s(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Gc(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function zh(s,r,l,c,y){return So(r),l=Sh(s,r,l,c,void 0,y),c=Ah(),s!==null&&!Ft?(Ch(s,r,y),Cs(s,r,y)):(Ke&&c&&ih(r),r.flags|=1,tn(s,r,l,y),r.child)}function H_(s,r,l,c,y,_){return So(r),r.updateQueue=null,l=Jy(r,c,l,y),Ky(s),c=Ah(),s!==null&&!Ft?(Ch(s,r,_),Cs(s,r,_)):(Ke&&c&&ih(r),r.flags|=1,tn(s,r,l,_),r.child)}function Y_(s,r,l,c,y){if(So(r),r.stateNode===null){var _=ya,C=l.contextType;typeof C=="object"&&C!==null&&(_=en(C)),_=new l(c,_),r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=qh,r.stateNode=_,_._reactInternals=r,_=r.stateNode,_.props=c,_.state=r.memoizedState,_.refs={},mh(r),C=l.contextType,_.context=typeof C=="object"&&C!==null?en(C):ya,_.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Oh(r,l,C,c),_.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&qh.enqueueReplaceState(_,_.state,null),Yl(r,c,_,y),Hl(),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){_=r.stateNode;var I=r.memoizedProps,V=Ro(l,I);_.props=V;var Y=_.context,ee=l.contextType;C=ya,typeof ee=="object"&&ee!==null&&(C=en(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=r.pendingProps!==I,ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||Y!==C)&&M_(r,_,c,C),ur=!1;var J=r.memoizedState;_.state=J,Yl(r,c,_,y),Hl(),Y=r.memoizedState,I||J!==Y||ur?(typeof ie=="function"&&(Oh(r,l,ie,c),Y=r.memoizedState),(V=ur||N_(r,l,V,c,J,Y,C))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),_.props=c,_.state=Y,_.context=C,c=V):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,ph(s,r),C=r.memoizedProps,ee=Ro(l,C),_.props=ee,ie=r.pendingProps,J=_.context,Y=l.contextType,V=ya,typeof Y=="object"&&Y!==null&&(V=en(Y)),I=l.getDerivedStateFromProps,(Y=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==ie||J!==V)&&M_(r,_,c,V),ur=!1,J=r.memoizedState,_.state=J,Yl(r,c,_,y),Hl();var $=r.memoizedState;C!==ie||J!==$||ur||s!==null&&s.dependencies!==null&&Cc(s.dependencies)?(typeof I=="function"&&(Oh(r,l,I,c),$=r.memoizedState),(ee=ur||N_(r,l,ee,c,J,$,V)||s!==null&&s.dependencies!==null&&Cc(s.dependencies))?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,$,V),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,$,V)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=$),_.props=c,_.state=$,_.context=V,c=ee):(typeof _.componentDidUpdate!="function"||C===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),c=!1)}return _=c,Gc(s,r),c=(r.flags&128)!==0,_||c?(_=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),r.flags|=1,s!==null&&c?(r.child=xo(r,s.child,null,y),r.child=xo(r,null,l,y)):tn(s,r,l,y),r.memoizedState=_.state,s=r.child):s=Cs(s,r,y),s}function K_(s,r,l,c){return To(),r.flags|=256,tn(s,r,l,c),r.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(s){return{baseLanes:s,cachePool:Vy()}}function Yh(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=jn),s}function J_(s,r,l){var c=r.pendingProps,y=!1,_=(r.flags&128)!==0,C;if((C=_)||(C=s!==null&&s.memoizedState===null?!1:(Mt.current&2)!==0),C&&(y=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ke){if(y?fr(r):hr(),(s=gt)?(s=t0(s,ui),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:rr!==null?{id:$i,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},l=xy(s),l.return=r,r.child=l,Zt=r,gt=null)):s=null,s===null)throw ar(r);return Im(s)?r.lanes=32:r.lanes=536870912,null}var I=c.children;return c=c.fallback,y?(hr(),y=r.mode,I=Hc({mode:"hidden",children:I},y),c=vo(c,y,l,null),I.return=r,c.return=r,I.sibling=c,r.child=I,c=r.child,c.memoizedState=Hh(l),c.childLanes=Yh(s,C,l),r.memoizedState=Gh,Ql(null,c)):(fr(r),Kh(r,I))}var V=s.memoizedState;if(V!==null&&(I=V.dehydrated,I!==null)){if(_)r.flags&256?(fr(r),r.flags&=-257,r=Jh(s,r,l)):r.memoizedState!==null?(hr(),r.child=s.child,r.flags|=128,r=null):(hr(),I=c.fallback,y=r.mode,c=Hc({mode:"visible",children:c.children},y),I=vo(I,y,l,null),I.flags|=2,c.return=r,I.return=r,c.sibling=I,r.child=c,xo(r,s.child,null,l),c=r.child,c.memoizedState=Hh(l),c.childLanes=Yh(s,C,l),r.memoizedState=Gh,r=Ql(null,c));else if(fr(r),Im(I)){if(C=I.nextSibling&&I.nextSibling.dataset,C)var Y=C.dgst;C=Y,c=Error(i(419)),c.stack="",c.digest=C,Ol({value:c,source:null,stack:null}),r=Jh(s,r,l)}else if(Ft||Ea(s,r,l,!1),C=(l&s.childLanes)!==0,Ft||C){if(C=dt,C!==null&&(c=js(C,l),c!==0&&c!==V.retryLane))throw V.retryLane=c,_o(s,c),Pn(C,s,c),Bh;xm(I)||Zc(),r=Jh(s,r,l)}else xm(I)?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,gt=di(I.nextSibling),Zt=r,Ke=!0,or=null,ui=!1,s!==null&&by(r,s),r=Kh(r,c.children),r.flags|=4096);return r}return y?(hr(),I=c.fallback,y=r.mode,V=s.child,Y=V.sibling,c=_s(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Y!==null?I=_s(Y,I):(I=vo(I,y,l,null),I.flags|=2),I.return=r,c.return=r,c.sibling=I,r.child=c,Ql(null,c),c=r.child,I=s.child.memoizedState,I===null?I=Hh(l):(y=I.cachePool,y!==null?(V=Ot._currentValue,y=y.parent!==V?{parent:V,pool:V}:y):y=Vy(),I={baseLanes:I.baseLanes|l,cachePool:y}),c.memoizedState=I,c.childLanes=Yh(s,C,l),r.memoizedState=Gh,Ql(s.child,c)):(fr(r),l=s.child,s=l.sibling,l=_s(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,s!==null&&(C=r.deletions,C===null?(r.deletions=[s],r.flags|=16):C.push(s)),r.child=l,r.memoizedState=null,l)}function Kh(s,r){return r=Hc({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Hc(s,r){return s=Hn(22,s,null,r),s.lanes=0,s}function Jh(s,r,l){return xo(r,s.child,null,l),s=Kh(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function j_(s,r,l){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),lh(s.return,r,l)}function jh(s,r,l,c,y,_){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:y,treeForkCount:_}:(C.isBackwards=r,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=l,C.tailMode=y,C.treeForkCount=_)}function $_(s,r,l){var c=r.pendingProps,y=c.revealOrder,_=c.tail;c=c.children;var C=Mt.current,I=(C&2)!==0;if(I?(C=C&1|2,r.flags|=128):C&=1,le(Mt,C),tn(s,r,c,l),c=Ke?Ll:0,!I&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&j_(s,l,r);else if(s.tag===19)j_(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(l=r.child,y=null;l!==null;)s=l.alternate,s!==null&&Dc(s)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),jh(r,!1,y,l,_,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(s=y.alternate,s!==null&&Dc(s)===null){r.child=y;break}s=y.sibling,y.sibling=l,l=y,y=s}jh(r,!0,l,null,_,c);break;case"together":jh(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Cs(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),gr|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(Ea(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=_s(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=_s(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function $h(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Cc(s)))}function nI(s,r,l){switch(r.tag){case 3:wt(r,r.stateNode.containerInfo),lr(r,Ot,s.memoizedState.cache),To();break;case 27:case 5:Li(r);break;case 4:wt(r,r.stateNode.containerInfo);break;case 10:lr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Th(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(fr(r),r.flags|=128,null):(l&r.child.childLanes)!==0?J_(s,r,l):(fr(r),s=Cs(s,r,l),s!==null?s.sibling:null);fr(r);break;case 19:var y=(s.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(Ea(s,r,l,!1),c=(l&r.childLanes)!==0),y){if(c)return $_(s,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),le(Mt,Mt.current),c)break;return null;case 22:return r.lanes=0,B_(s,r,l,r.pendingProps);case 24:lr(r,Ot,s.memoizedState.cache)}return Cs(s,r,l)}function Q_(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ft=!0;else{if(!$h(s,l)&&(r.flags&128)===0)return Ft=!1,nI(s,r,l);Ft=(s.flags&131072)!==0}else Ft=!1,Ke&&(r.flags&1048576)!==0&&Ry(r,Ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=Co(r.elementType),r.type=s,typeof s=="function")eh(s)?(c=Ro(s,c),r.tag=1,r=Y_(null,r,s,c,l)):(r.tag=0,r=zh(null,r,s,c,l));else{if(s!=null){var y=s.$$typeof;if(y===ae){r.tag=11,r=O_(null,r,s,c,l);break e}else if(y===D){r.tag=14,r=q_(null,r,s,c,l);break e}}throw r=Se(s)||s,Error(i(306,r,""))}}return r;case 0:return zh(s,r,r.type,r.pendingProps,l);case 1:return c=r.type,y=Ro(c,r.pendingProps),Y_(s,r,c,y,l);case 3:e:{if(wt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var _=r.memoizedState;y=_.element,ph(s,r),Yl(r,c,null,l);var C=r.memoizedState;if(c=C.cache,lr(r,Ot,c),c!==_.cache&&uh(r,[Ot],l,!0),Hl(),c=C.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=_,r.memoizedState=_,r.flags&256){r=K_(s,r,c,l);break e}else if(c!==y){y=oi(Error(i(424)),r),Ol(y),r=K_(s,r,c,l);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(gt=di(s.firstChild),Zt=r,Ke=!0,or=null,ui=!0,l=By(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(To(),c===y){r=Cs(s,r,l);break e}tn(s,r,c,l)}r=r.child}return r;case 26:return Gc(s,r),s===null?(l=a0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ke||(l=r.type,s=r.pendingProps,c=od(Re.current).createElement(l),c[it]=r,c[Ut]=s,nn(c,l,s),Ve(c),r.stateNode=c):r.memoizedState=a0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Li(r),s===null&&Ke&&(c=r.stateNode=s0(r.type,r.pendingProps,Re.current),Zt=r,ui=!0,y=gt,Er(r.type)?(Rm=y,gt=di(c.firstChild)):gt=y),tn(s,r,r.pendingProps.children,l),Gc(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ke&&((y=c=gt)&&(c=DI(c,r.type,r.pendingProps,ui),c!==null?(r.stateNode=c,Zt=r,gt=di(c.firstChild),ui=!1,y=!0):y=!1),y||ar(r)),Li(r),y=r.type,_=r.pendingProps,C=s!==null?s.memoizedProps:null,c=_.children,Am(y,_)?c=null:C!==null&&Am(y,C)&&(r.flags|=32),r.memoizedState!==null&&(y=Sh(s,r,Jx,null,null,l),du._currentValue=y),Gc(s,r),tn(s,r,c,l),r.child;case 6:return s===null&&Ke&&((s=l=gt)&&(l=PI(l,r.pendingProps,ui),l!==null?(r.stateNode=l,Zt=r,gt=null,s=!0):s=!1),s||ar(r)),null;case 13:return J_(s,r,l);case 4:return wt(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=xo(r,null,c,l):tn(s,r,c,l),r.child;case 11:return O_(s,r,r.type,r.pendingProps,l);case 7:return tn(s,r,r.pendingProps,l),r.child;case 8:return tn(s,r,r.pendingProps.children,l),r.child;case 12:return tn(s,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,lr(r,r.type,c.value),tn(s,r,c.children,l),r.child;case 9:return y=r.type._context,c=r.pendingProps.children,So(r),y=en(y),c=c(y),r.flags|=1,tn(s,r,c,l),r.child;case 14:return q_(s,r,r.type,r.pendingProps,l);case 15:return F_(s,r,r.type,r.pendingProps,l);case 19:return $_(s,r,l);case 31:return tI(s,r,l);case 22:return B_(s,r,l,r.pendingProps);case 24:return So(r),c=en(Ot),s===null?(y=fh(),y===null&&(y=dt,_=ch(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=l),y=_),r.memoizedState={parent:c,cache:y},mh(r),lr(r,Ot,y)):((s.lanes&l)!==0&&(ph(s,r),Yl(r,null,null,l),Hl()),y=s.memoizedState,_=r.memoizedState,y.parent!==c?(y={parent:c,cache:c},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),lr(r,Ot,c)):(c=_.cache,lr(r,Ot,c),c!==y.cache&&uh(r,[Ot],l,!0))),tn(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ws(s){s.flags|=4}function Qh(s,r,l,c,y){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(Av())s.flags|=8192;else throw wo=Rc,hh}else s.flags&=-16777217}function X_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!f0(r))if(Av())s.flags|=8192;else throw wo=Rc,hh}function Yc(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?na():536870912,s.lanes|=r,Pa|=r)}function Xl(s,r){if(!Ke)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function yt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(r)for(var y=s.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=c,s.childLanes=l,r}function iI(s,r,l){var c=r.pendingProps;switch(sh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return yt(r),null;case 3:return l=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Es(Ot),ht(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ta(r)?ws(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,oh())),yt(r),null;case 26:var y=r.type,_=r.memoizedState;return s===null?(ws(r),_!==null?(yt(r),X_(r,_)):(yt(r),Qh(r,y,null,c,l))):_?_!==s.memoizedState?(ws(r),yt(r),X_(r,_)):(yt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&ws(r),yt(r),Qh(r,y,s,c,l)),null;case 27:if(yi(r),l=Re.current,y=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&ws(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return yt(r),null}s=me.current,Ta(r)?Ny(r):(s=s0(y,c,l),r.stateNode=s,ws(r))}return yt(r),null;case 5:if(yi(r),y=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&ws(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return yt(r),null}if(_=me.current,Ta(r))Ny(r);else{var C=od(Re.current);switch(_){case 1:_=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=C.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?C.createElement(y,{is:c.is}):C.createElement(y)}}_[it]=r,_[Ut]=c;e:for(C=r.child;C!==null;){if(C.tag===5||C.tag===6)_.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===r)break e;for(;C.sibling===null;){if(C.return===null||C.return===r)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}r.stateNode=_;e:switch(nn(_,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ws(r)}}return yt(r),Qh(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&ws(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Re.current,Ta(r)){if(s=r.stateNode,l=r.memoizedProps,c=null,y=Zt,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}s[it]=r,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Jv(s.nodeValue,l)),s||ar(r,!0)}else s=od(s).createTextNode(c),s[it]=r,r.stateNode=s}return yt(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(c=Ta(r),l!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[it]=r}else To(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),s=!1}else l=oh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(Kn(r),r):(Kn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return yt(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Ta(r),c!==null&&c.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[it]=r}else To(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),y=!1}else y=oh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(Kn(r),r):(Kn(r),null)}return Kn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=c!==null,s=s!==null&&s.memoizedState!==null,l&&(c=r.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==y&&(c.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),Yc(r,r.updateQueue),yt(r),null);case 4:return ht(),s===null&&_m(r.stateNode.containerInfo),yt(r),null;case 10:return Es(r.type),yt(r),null;case 19:if(ne(Mt),c=r.memoizedState,c===null)return yt(r),null;if(y=(r.flags&128)!==0,_=c.rendering,_===null)if(y)Xl(c,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(_=Dc(s),_!==null){for(r.flags|=128,Xl(c,!1),s=_.updateQueue,r.updateQueue=s,Yc(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)wy(l,s),l=l.sibling;return le(Mt,Mt.current&1|2),Ke&&vs(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&jt()>Qc&&(r.flags|=128,y=!0,Xl(c,!1),r.lanes=4194304)}else{if(!y)if(s=Dc(_),s!==null){if(r.flags|=128,y=!0,s=s.updateQueue,r.updateQueue=s,Yc(r,s),Xl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!Ke)return yt(r),null}else 2*jt()-c.renderingStartTime>Qc&&l!==536870912&&(r.flags|=128,y=!0,Xl(c,!1),r.lanes=4194304);c.isBackwards?(_.sibling=r.child,r.child=_):(s=c.last,s!==null?s.sibling=_:r.child=_,c.last=_)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=jt(),s.sibling=null,l=Mt.current,le(Mt,y?l&1|2:l&1),Ke&&vs(r,c.treeForkCount),s):(yt(r),null);case 22:case 23:return Kn(r),vh(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),l=r.updateQueue,l!==null&&Yc(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),s!==null&&ne(Ao),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Es(Ot),yt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function sI(s,r){switch(sh(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Es(Ot),ht(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return yi(r),null;case 31:if(r.memoizedState!==null){if(Kn(r),r.alternate===null)throw Error(i(340));To()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Kn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));To()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ne(Mt),null;case 4:return ht(),null;case 10:return Es(r.type),null;case 22:case 23:return Kn(r),vh(),s!==null&&ne(Ao),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Es(Ot),null;case 25:return null;default:return null}}function W_(s,r){switch(sh(r),r.tag){case 3:Es(Ot),ht();break;case 26:case 27:case 5:yi(r);break;case 4:ht();break;case 31:r.memoizedState!==null&&Kn(r);break;case 13:Kn(r);break;case 19:ne(Mt);break;case 10:Es(r.type);break;case 22:case 23:Kn(r),vh(),s!==null&&ne(Ao);break;case 24:Es(Ot)}}function Wl(s,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var y=c.next;l=y;do{if((l.tag&s)===s){c=void 0;var _=l.create,C=l.inst;c=_(),C.destroy=c}l=l.next}while(l!==y)}}catch(I){ot(r,r.return,I)}}function mr(s,r,l){try{var c=r.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var _=y.next;c=_;do{if((c.tag&s)===s){var C=c.inst,I=C.destroy;if(I!==void 0){C.destroy=void 0,y=r;var V=l,Y=I;try{Y()}catch(ee){ot(y,V,ee)}}}c=c.next}while(c!==_)}}catch(ee){ot(r,r.return,ee)}}function Z_(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{Gy(r,l)}catch(c){ot(s,s.return,c)}}}function ev(s,r,l){l.props=Ro(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ot(s,r,c)}}function Zl(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(y){ot(s,r,y)}}function Xi(s,r){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(y){ot(s,r,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){ot(s,r,y)}else l.current=null}function tv(s){var r=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(y){ot(s,s.return,y)}}function Xh(s,r,l){try{var c=s.stateNode;xI(c,s.type,l,r),c[Ut]=r}catch(y){ot(s,s.return,y)}}function nv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Er(s.type)||s.tag===4}function Wh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||nv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Er(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Zh(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Si));else if(c!==4&&(c===27&&Er(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Zh(s,r,l),s=s.sibling;s!==null;)Zh(s,r,l),s=s.sibling}function Kc(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(c!==4&&(c===27&&Er(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Kc(s,r,l),s=s.sibling;s!==null;)Kc(s,r,l),s=s.sibling}function iv(s){var r=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);nn(r,c,l),r[it]=s,r[Ut]=l}catch(_){ot(s,s.return,_)}}var xs=!1,Bt=!1,em=!1,sv=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function rI(s,r){if(s=s.containerInfo,Em=hd,s=gy(s),Jf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var y=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var C=0,I=-1,V=-1,Y=0,ee=0,ie=s,J=null;t:for(;;){for(var $;ie!==l||y!==0&&ie.nodeType!==3||(I=C+y),ie!==_||c!==0&&ie.nodeType!==3||(V=C+c),ie.nodeType===3&&(C+=ie.nodeValue.length),($=ie.firstChild)!==null;)J=ie,ie=$;for(;;){if(ie===s)break t;if(J===l&&++Y===y&&(I=C),J===_&&++ee===c&&(V=C),($=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=$}l=I===-1||V===-1?null:{start:I,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sm={focusedElem:s,selectionRange:l},hd=!1,Qt=r;Qt!==null;)if(r=Qt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Qt=s;else for(;Qt!==null;){switch(r=Qt,_=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)y=s[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,l=r,y=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var ge=Ro(l.type,y);s=c.getSnapshotBeforeUpdate(ge,_),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ae){ot(l,l.return,Ae)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)wm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":wm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Qt=s;break}Qt=r.return}}function rv(s,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Rs(s,l),c&4&&Wl(5,l);break;case 1:if(Rs(s,l),c&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(C){ot(l,l.return,C)}else{var y=Ro(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(y,r,s.__reactInternalSnapshotBeforeUpdate)}catch(C){ot(l,l.return,C)}}c&64&&Z_(l),c&512&&Zl(l,l.return);break;case 3:if(Rs(s,l),c&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Gy(s,r)}catch(C){ot(l,l.return,C)}}break;case 27:r===null&&c&4&&iv(l);case 26:case 5:Rs(s,l),r===null&&c&4&&tv(l),c&512&&Zl(l,l.return);break;case 12:Rs(s,l);break;case 31:Rs(s,l),c&4&&lv(s,l);break;case 13:Rs(s,l),c&4&&uv(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=mI.bind(null,l),kI(s,l))));break;case 22:if(c=l.memoizedState!==null||xs,!c){r=r!==null&&r.memoizedState!==null||Bt,y=xs;var _=Bt;xs=c,(Bt=r)&&!_?bs(s,l,(l.subtreeFlags&8772)!==0):Rs(s,l),xs=y,Bt=_}break;case 30:break;default:Rs(s,l)}}function ov(s){var r=s.alternate;r!==null&&(s.alternate=null,ov(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&ms(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var At=null,bn=!1;function Is(s,r,l){for(l=l.child;l!==null;)av(s,r,l),l=l.sibling}function av(s,r,l){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(On,l)}catch{}switch(l.tag){case 26:Bt||Xi(l,r),Is(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bt||Xi(l,r);var c=At,y=bn;Er(l.type)&&(At=l.stateNode,bn=!1),Is(s,r,l),lu(l.stateNode),At=c,bn=y;break;case 5:Bt||Xi(l,r);case 6:if(c=At,y=bn,At=null,Is(s,r,l),At=c,bn=y,At!==null)if(bn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(l.stateNode)}catch(_){ot(l,r,_)}else try{At.removeChild(l.stateNode)}catch(_){ot(l,r,_)}break;case 18:At!==null&&(bn?(s=At,Zv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Ba(s)):Zv(At,l.stateNode));break;case 4:c=At,y=bn,At=l.stateNode.containerInfo,bn=!0,Is(s,r,l),At=c,bn=y;break;case 0:case 11:case 14:case 15:mr(2,l,r),Bt||mr(4,l,r),Is(s,r,l);break;case 1:Bt||(Xi(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&ev(l,r,c)),Is(s,r,l);break;case 21:Is(s,r,l);break;case 22:Bt=(c=Bt)||l.memoizedState!==null,Is(s,r,l),Bt=c;break;default:Is(s,r,l)}}function lv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ba(s)}catch(l){ot(r,r.return,l)}}}function uv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ba(s)}catch(l){ot(r,r.return,l)}}function oI(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new sv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new sv),r;default:throw Error(i(435,s.tag))}}function Jc(s,r){var l=oI(s);r.forEach(function(c){if(!l.has(c)){l.add(c);var y=pI.bind(null,s,c);c.then(y,y)}})}function Nn(s,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var y=l[c],_=s,C=r,I=C;e:for(;I!==null;){switch(I.tag){case 27:if(Er(I.type)){At=I.stateNode,bn=!1;break e}break;case 5:At=I.stateNode,bn=!1;break e;case 3:case 4:At=I.stateNode.containerInfo,bn=!0;break e}I=I.return}if(At===null)throw Error(i(160));av(_,C,y),At=null,bn=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)cv(r,s),r=r.sibling}var Ri=null;function cv(s,r){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nn(r,s),Mn(s),c&4&&(mr(3,s,s.return),Wl(3,s),mr(5,s,s.return));break;case 1:Nn(r,s),Mn(s),c&512&&(Bt||l===null||Xi(l,l.return)),c&64&&xs&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var y=Ri;if(Nn(r,s),Mn(s),c&512&&(Bt||l===null||Xi(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,y=y.ownerDocument||y;t:switch(c){case"title":_=y.getElementsByTagName("title")[0],(!_||_[ti]||_[it]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(c),y.head.insertBefore(_,y.querySelector("head > title"))),nn(_,c,l),_[it]=s,Ve(_),c=_;break e;case"link":var C=c0("link","href",y).get(c+(l.href||""));if(C){for(var I=0;I<C.length;I++)if(_=C[I],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(I,1);break t}}_=y.createElement(c),nn(_,c,l),y.head.appendChild(_);break;case"meta":if(C=c0("meta","content",y).get(c+(l.content||""))){for(I=0;I<C.length;I++)if(_=C[I],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(I,1);break t}}_=y.createElement(c),nn(_,c,l),y.head.appendChild(_);break;default:throw Error(i(468,c))}_[it]=s,Ve(_),c=_}s.stateNode=c}else d0(y,s.type,s.stateNode);else s.stateNode=u0(y,c,s.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?d0(y,s.type,s.stateNode):u0(y,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Xh(s,s.memoizedProps,l.memoizedProps)}break;case 27:Nn(r,s),Mn(s),c&512&&(Bt||l===null||Xi(l,l.return)),l!==null&&c&4&&Xh(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Nn(r,s),Mn(s),c&512&&(Bt||l===null||Xi(l,l.return)),s.flags&32){y=s.stateNode;try{Rn(y,"")}catch(ge){ot(s,s.return,ge)}}c&4&&s.stateNode!=null&&(y=s.memoizedProps,Xh(s,y,l!==null?l.memoizedProps:y)),c&1024&&(em=!0);break;case 6:if(Nn(r,s),Mn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ge){ot(s,s.return,ge)}}break;case 3:if(ud=null,y=Ri,Ri=ad(r.containerInfo),Nn(r,s),Ri=y,Mn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ba(r.containerInfo)}catch(ge){ot(s,s.return,ge)}em&&(em=!1,dv(s));break;case 4:c=Ri,Ri=ad(s.stateNode.containerInfo),Nn(r,s),Mn(s),Ri=c;break;case 12:Nn(r,s),Mn(s);break;case 31:Nn(r,s),Mn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Jc(s,c)));break;case 13:Nn(r,s),Mn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($c=jt()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Jc(s,c)));break;case 22:y=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,Y=xs,ee=Bt;if(xs=Y||y,Bt=ee||V,Nn(r,s),Bt=ee,xs=Y,Mn(s),c&8192)e:for(r=s.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||V||xs||Bt||bo(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){V=l=r;try{if(_=V.stateNode,y)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{I=V.stateNode;var ie=V.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;I.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ge){ot(V,V.return,ge)}}}else if(r.tag===6){if(l===null){V=r;try{V.stateNode.nodeValue=y?"":V.memoizedProps}catch(ge){ot(V,V.return,ge)}}}else if(r.tag===18){if(l===null){V=r;try{var $=V.stateNode;y?e0($,!0):e0(V.stateNode,!1)}catch(ge){ot(V,V.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Jc(s,l))));break;case 19:Nn(r,s),Mn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Jc(s,c)));break;case 30:break;case 21:break;default:Nn(r,s),Mn(s)}}function Mn(s){var r=s.flags;if(r&2){try{for(var l,c=s.return;c!==null;){if(nv(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var y=l.stateNode,_=Wh(s);Kc(s,_,y);break;case 5:var C=l.stateNode;l.flags&32&&(Rn(C,""),l.flags&=-33);var I=Wh(s);Kc(s,I,C);break;case 3:case 4:var V=l.stateNode.containerInfo,Y=Wh(s);Zh(s,Y,V);break;default:throw Error(i(161))}}catch(ee){ot(s,s.return,ee)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function dv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;dv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Rs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)rv(s,r.alternate,r),r=r.sibling}function bo(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:mr(4,r,r.return),bo(r);break;case 1:Xi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&ev(r,r.return,l),bo(r);break;case 27:lu(r.stateNode);case 26:case 5:Xi(r,r.return),bo(r);break;case 22:r.memoizedState===null&&bo(r);break;case 30:bo(r);break;default:bo(r)}s=s.sibling}}function bs(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,y=s,_=r,C=_.flags;switch(_.tag){case 0:case 11:case 15:bs(y,_,l),Wl(4,_);break;case 1:if(bs(y,_,l),c=_,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Y){ot(c,c.return,Y)}if(c=_,y=c.updateQueue,y!==null){var I=c.stateNode;try{var V=y.shared.hiddenCallbacks;if(V!==null)for(y.shared.hiddenCallbacks=null,y=0;y<V.length;y++)zy(V[y],I)}catch(Y){ot(c,c.return,Y)}}l&&C&64&&Z_(_),Zl(_,_.return);break;case 27:iv(_);case 26:case 5:bs(y,_,l),l&&c===null&&C&4&&tv(_),Zl(_,_.return);break;case 12:bs(y,_,l);break;case 31:bs(y,_,l),l&&C&4&&lv(y,_);break;case 13:bs(y,_,l),l&&C&4&&uv(y,_);break;case 22:_.memoizedState===null&&bs(y,_,l),Zl(_,_.return);break;case 30:break;default:bs(y,_,l)}r=r.sibling}}function tm(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ql(l))}function nm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ql(s))}function bi(s,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fv(s,r,l,c),r=r.sibling}function fv(s,r,l,c){var y=r.flags;switch(r.tag){case 0:case 11:case 15:bi(s,r,l,c),y&2048&&Wl(9,r);break;case 1:bi(s,r,l,c);break;case 3:bi(s,r,l,c),y&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ql(s)));break;case 12:if(y&2048){bi(s,r,l,c),s=r.stateNode;try{var _=r.memoizedProps,C=_.id,I=_.onPostCommit;typeof I=="function"&&I(C,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){ot(r,r.return,V)}}else bi(s,r,l,c);break;case 31:bi(s,r,l,c);break;case 13:bi(s,r,l,c);break;case 23:break;case 22:_=r.stateNode,C=r.alternate,r.memoizedState!==null?_._visibility&2?bi(s,r,l,c):eu(s,r):_._visibility&2?bi(s,r,l,c):(_._visibility|=2,Na(s,r,l,c,(r.subtreeFlags&10256)!==0||!1)),y&2048&&tm(C,r);break;case 24:bi(s,r,l,c),y&2048&&nm(r.alternate,r);break;default:bi(s,r,l,c)}}function Na(s,r,l,c,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var _=s,C=r,I=l,V=c,Y=C.flags;switch(C.tag){case 0:case 11:case 15:Na(_,C,I,V,y),Wl(8,C);break;case 23:break;case 22:var ee=C.stateNode;C.memoizedState!==null?ee._visibility&2?Na(_,C,I,V,y):eu(_,C):(ee._visibility|=2,Na(_,C,I,V,y)),y&&Y&2048&&tm(C.alternate,C);break;case 24:Na(_,C,I,V,y),y&&Y&2048&&nm(C.alternate,C);break;default:Na(_,C,I,V,y)}r=r.sibling}}function eu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,c=r,y=c.flags;switch(c.tag){case 22:eu(l,c),y&2048&&tm(c.alternate,c);break;case 24:eu(l,c),y&2048&&nm(c.alternate,c);break;default:eu(l,c)}r=r.sibling}}var tu=8192;function Ma(s,r,l){if(s.subtreeFlags&tu)for(s=s.child;s!==null;)hv(s,r,l),s=s.sibling}function hv(s,r,l){switch(s.tag){case 26:Ma(s,r,l),s.flags&tu&&s.memoizedState!==null&&KI(l,Ri,s.memoizedState,s.memoizedProps);break;case 5:Ma(s,r,l);break;case 3:case 4:var c=Ri;Ri=ad(s.stateNode.containerInfo),Ma(s,r,l),Ri=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=tu,tu=16777216,Ma(s,r,l),tu=c):Ma(s,r,l));break;default:Ma(s,r,l)}}function mv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function nu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Qt=c,gv(c,s)}mv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pv(s),s=s.sibling}function pv(s){switch(s.tag){case 0:case 11:case 15:nu(s),s.flags&2048&&mr(9,s,s.return);break;case 3:nu(s);break;case 12:nu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,jc(s)):nu(s);break;default:nu(s)}}function jc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Qt=c,gv(c,s)}mv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:mr(8,r,r.return),jc(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,jc(r));break;default:jc(r)}s=s.sibling}}function gv(s,r){for(;Qt!==null;){var l=Qt;switch(l.tag){case 0:case 11:case 15:mr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ql(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Qt=c;else e:for(l=s;Qt!==null;){c=Qt;var y=c.sibling,_=c.return;if(ov(c),c===l){Qt=null;break e}if(y!==null){y.return=_,Qt=y;break e}Qt=_}}}var aI={getCacheForType:function(s){var r=en(Ot),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return en(Ot).controller.signal}},lI=typeof WeakMap=="function"?WeakMap:Map,tt=0,dt=null,Le=null,Be=0,rt=0,Jn=null,pr=!1,Da=!1,im=!1,Ns=0,bt=0,gr=0,No=0,sm=0,jn=0,Pa=0,iu=null,Dn=null,rm=!1,$c=0,yv=0,Qc=1/0,Xc=null,yr=null,Yt=0,_r=null,ka=null,Ms=0,om=0,am=null,_v=null,su=0,lm=null;function $n(){return(tt&2)!==0&&Be!==0?Be&-Be:K.T!==null?mm():so()}function vv(){if(jn===0)if((Be&536870912)===0||Ke){var s=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),jn=s}else jn=536870912;return s=Yn.current,s!==null&&(s.flags|=32),jn}function Pn(s,r,l){(s===dt&&(rt===2||rt===9)||s.cancelPendingCommit!==null)&&(Va(s,0),vr(s,Be,jn,!1)),fs(s,l),((tt&2)===0||s!==dt)&&(s===dt&&((tt&2)===0&&(No|=l),bt===4&&vr(s,Be,jn,!1)),Wi(s))}function Tv(s,r,l){if((tt&6)!==0)throw Error(i(327));var c=!l&&(r&127)===0&&(r&s.expiredLanes)===0||Cn(s,r),y=c?dI(s,r):cm(s,r,!0),_=c;do{if(y===0){Da&&!c&&vr(s,r,0,!1);break}else{if(l=s.current.alternate,_&&!uI(l)){y=cm(s,r,!1),_=!1;continue}if(y===2){if(_=r,s.errorRecoveryDisabledLanes&_)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;e:{var I=s;y=iu;var V=I.current.memoizedState.isDehydrated;if(V&&(Va(I,C).flags|=256),C=cm(I,C,!1),C!==2){if(im&&!V){I.errorRecoveryDisabledLanes|=_,No|=_,y=4;break e}_=Dn,Dn=y,_!==null&&(Dn===null?Dn=_:Dn.push.apply(Dn,_))}y=C}if(_=!1,y!==2)continue}}if(y===1){Va(s,0),vr(s,r,0,!0);break}e:{switch(c=s,_=y,_){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:vr(c,r,jn,!pr);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(y=$c+300-jt(),10<y)){if(vr(c,r,jn,!pr),Zn(c,0,!0)!==0)break e;Ms=r,c.timeoutHandle=Xv(Ev.bind(null,c,l,Dn,Xc,rm,r,jn,No,Pa,pr,_,"Throttled",-0,0),y);break e}Ev(c,l,Dn,Xc,rm,r,jn,No,Pa,pr,_,null,-0,0)}}break}while(!0);Wi(s)}function Ev(s,r,l,c,y,_,C,I,V,Y,ee,ie,J,$){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},hv(r,_,ie);var ge=(_&62914560)===_?$c-jt():(_&4194048)===_?yv-jt():0;if(ge=JI(ie,ge),ge!==null){Ms=_,s.cancelPendingCommit=ge(bv.bind(null,s,r,_,l,c,y,C,I,V,ee,ie,null,J,$)),vr(s,_,C,!Y);return}}bv(s,r,_,l,c,y,C,I,V)}function uI(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var y=l[c],_=y.getSnapshot;y=y.value;try{if(!Gn(_(),y))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function vr(s,r,l,c){r&=~sm,r&=~No,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var y=r;0<y;){var _=31-Et(y),C=1<<_;c[_]=-1,y&=~C}l!==0&&Fi(s,l,r)}function Wc(){return(tt&6)===0?(ru(0),!1):!0}function um(){if(Le!==null){if(rt===0)var s=Le.return;else s=Le,Ts=Eo=null,wh(s),wa=null,Bl=0,s=Le;for(;s!==null;)W_(s.alternate,s),s=s.return;Le=null}}function Va(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,bI(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ms=0,um(),dt=s,Le=l=_s(s.current,null),Be=r,rt=0,Jn=null,pr=!1,Da=Cn(s,r),im=!1,Pa=jn=sm=No=gr=bt=0,Dn=iu=null,rm=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var y=31-Et(c),_=1<<y;r|=s[y],c&=~_}return Ns=r,vc(),l}function Sv(s,r){Pe=null,K.H=$l,r===Ca||r===Ic?(r=Oy(),rt=3):r===hh?(r=Oy(),rt=4):rt=r===Bh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Jn=r,Le===null&&(bt=1,Bc(s,oi(r,s.current)))}function Av(){var s=Yn.current;return s===null?!0:(Be&4194048)===Be?ci===null:(Be&62914560)===Be||(Be&536870912)!==0?s===ci:!1}function Cv(){var s=K.H;return K.H=$l,s===null?$l:s}function wv(){var s=K.A;return K.A=aI,s}function Zc(){bt=4,pr||(Be&4194048)!==Be&&Yn.current!==null||(Da=!0),(gr&134217727)===0&&(No&134217727)===0||dt===null||vr(dt,Be,jn,!1)}function cm(s,r,l){var c=tt;tt|=2;var y=Cv(),_=wv();(dt!==s||Be!==r)&&(Xc=null,Va(s,r)),r=!1;var C=bt;e:do try{if(rt!==0&&Le!==null){var I=Le,V=Jn;switch(rt){case 8:um(),C=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var Y=rt;if(rt=0,Jn=null,Ua(s,I,V,Y),l&&Da){C=0;break e}break;default:Y=rt,rt=0,Jn=null,Ua(s,I,V,Y)}}cI(),C=bt;break}catch(ee){Sv(s,ee)}while(!0);return r&&s.shellSuspendCounter++,Ts=Eo=null,tt=c,K.H=y,K.A=_,Le===null&&(dt=null,Be=0,vc()),C}function cI(){for(;Le!==null;)xv(Le)}function dI(s,r){var l=tt;tt|=2;var c=Cv(),y=wv();dt!==s||Be!==r?(Xc=null,Qc=jt()+500,Va(s,r)):Da=Cn(s,r);e:do try{if(rt!==0&&Le!==null){r=Le;var _=Jn;t:switch(rt){case 1:rt=0,Jn=null,Ua(s,r,_,1);break;case 2:case 9:if(Uy(_)){rt=0,Jn=null,Iv(r);break}r=function(){rt!==2&&rt!==9||dt!==s||(rt=7),Wi(s)},_.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Uy(_)?(rt=0,Jn=null,Iv(r)):(rt=0,Jn=null,Ua(s,r,_,7));break;case 5:var C=null;switch(Le.tag){case 26:C=Le.memoizedState;case 5:case 27:var I=Le;if(C?f0(C):I.stateNode.complete){rt=0,Jn=null;var V=I.sibling;if(V!==null)Le=V;else{var Y=I.return;Y!==null?(Le=Y,ed(Y)):Le=null}break t}}rt=0,Jn=null,Ua(s,r,_,5);break;case 6:rt=0,Jn=null,Ua(s,r,_,6);break;case 8:um(),bt=6;break e;default:throw Error(i(462))}}fI();break}catch(ee){Sv(s,ee)}while(!0);return Ts=Eo=null,K.H=c,K.A=y,tt=l,Le!==null?0:(dt=null,Be=0,vc(),bt)}function fI(){for(;Le!==null&&!Ys();)xv(Le)}function xv(s){var r=Q_(s.alternate,s,Ns);s.memoizedProps=s.pendingProps,r===null?ed(s):Le=r}function Iv(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=H_(l,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=H_(l,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:wh(r);default:W_(l,r),r=Le=wy(r,Ns),r=Q_(l,r,Ns)}s.memoizedProps=s.pendingProps,r===null?ed(s):Le=r}function Ua(s,r,l,c){Ts=Eo=null,wh(r),wa=null,Bl=0;var y=r.return;try{if(eI(s,y,r,l,Be)){bt=1,Bc(s,oi(l,s.current)),Le=null;return}}catch(_){if(y!==null)throw Le=y,_;bt=1,Bc(s,oi(l,s.current)),Le=null;return}r.flags&32768?(Ke||c===1?s=!0:Da||(Be&536870912)!==0?s=!1:(pr=s=!0,(c===2||c===9||c===3||c===6)&&(c=Yn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Rv(r,s)):ed(r)}function ed(s){var r=s;do{if((r.flags&32768)!==0){Rv(r,pr);return}s=r.return;var l=iI(r.alternate,r,Ns);if(l!==null){Le=l;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=s}while(r!==null);bt===0&&(bt=5)}function Rv(s,r){do{var l=sI(s.alternate,s);if(l!==null){l.flags&=32767,Le=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Le=s;return}Le=s=l}while(s!==null);bt=6,Le=null}function bv(s,r,l,c,y,_,C,I,V){s.cancelPendingCommit=null;do td();while(Yt!==0);if((tt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(_=r.lanes|r.childLanes,_|=Wf,_l(s,l,_,C,I,V),s===dt&&(Le=dt=null,Be=0),ka=r,_r=s,Ms=l,om=_,am=y,_v=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,gI(Ti,function(){return kv(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,y=re.p,re.p=2,C=tt,tt|=4;try{rI(s,r,l)}finally{tt=C,re.p=y,K.T=c}}Yt=1,Nv(),Mv(),Dv()}}function Nv(){if(Yt===1){Yt=0;var s=_r,r=ka,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var c=re.p;re.p=2;var y=tt;tt|=4;try{cv(r,s);var _=Sm,C=gy(s.containerInfo),I=_.focusedElem,V=_.selectionRange;if(C!==I&&I&&I.ownerDocument&&py(I.ownerDocument.documentElement,I)){if(V!==null&&Jf(I)){var Y=V.start,ee=V.end;if(ee===void 0&&(ee=Y),"selectionStart"in I)I.selectionStart=Y,I.selectionEnd=Math.min(ee,I.value.length);else{var ie=I.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var $=J.getSelection(),ge=I.textContent.length,Ae=Math.min(V.start,ge),ct=V.end===void 0?Ae:Math.min(V.end,ge);!$.extend&&Ae>ct&&(C=ct,ct=Ae,Ae=C);var z=my(I,Ae),O=my(I,ct);if(z&&O&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==O.node||$.focusOffset!==O.offset)){var H=ie.createRange();H.setStart(z.node,z.offset),$.removeAllRanges(),Ae>ct?($.addRange(H),$.extend(O.node,O.offset)):(H.setEnd(O.node,O.offset),$.addRange(H))}}}}for(ie=[],$=I;$=$.parentNode;)$.nodeType===1&&ie.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ie.length;I++){var te=ie[I];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}hd=!!Em,Sm=Em=null}finally{tt=y,re.p=c,K.T=l}}s.current=r,Yt=2}}function Mv(){if(Yt===2){Yt=0;var s=_r,r=ka,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var c=re.p;re.p=2;var y=tt;tt|=4;try{rv(s,r.alternate,r)}finally{tt=y,re.p=c,K.T=l}}Yt=3}}function Dv(){if(Yt===4||Yt===3){Yt=0,Wo();var s=_r,r=ka,l=Ms,c=_v;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Yt=5:(Yt=0,ka=_r=null,Pv(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(yr=null),Ei(l),r=r.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(On,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=K.T,y=re.p,re.p=2,K.T=null;try{for(var _=s.onRecoverableError,C=0;C<c.length;C++){var I=c[C];_(I.value,{componentStack:I.stack})}}finally{K.T=r,re.p=y}}(Ms&3)!==0&&td(),Wi(s),y=s.pendingLanes,(l&261930)!==0&&(y&42)!==0?s===lm?su++:(su=0,lm=s):su=0,ru(0)}}function Pv(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,ql(r)))}function td(){return Nv(),Mv(),Dv(),kv()}function kv(){if(Yt!==5)return!1;var s=_r,r=om;om=0;var l=Ei(Ms),c=K.T,y=re.p;try{re.p=32>l?32:l,K.T=null,l=am,am=null;var _=_r,C=Ms;if(Yt=0,ka=_r=null,Ms=0,(tt&6)!==0)throw Error(i(331));var I=tt;if(tt|=4,pv(_.current),fv(_,_.current,C,l),tt=I,ru(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(On,_)}catch{}return!0}finally{re.p=y,K.T=c,Pv(s,r)}}function Vv(s,r,l){r=oi(l,r),r=Fh(s.stateNode,r,2),s=dr(s,r,2),s!==null&&(fs(s,2),Wi(s))}function ot(s,r,l){if(s.tag===3)Vv(s,s,l);else for(;r!==null;){if(r.tag===3){Vv(r,s,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(yr===null||!yr.has(c))){s=oi(l,s),l=U_(2),c=dr(r,l,2),c!==null&&(L_(l,c,r,s),fs(c,2),Wi(c));break}}r=r.return}}function dm(s,r,l){var c=s.pingCache;if(c===null){c=s.pingCache=new lI;var y=new Set;c.set(r,y)}else y=c.get(r),y===void 0&&(y=new Set,c.set(r,y));y.has(l)||(im=!0,y.add(l),s=hI.bind(null,s,r,l),r.then(s,s))}function hI(s,r,l){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,dt===s&&(Be&l)===l&&(bt===4||bt===3&&(Be&62914560)===Be&&300>jt()-$c?(tt&2)===0&&Va(s,0):sm|=l,Pa===Be&&(Pa=0)),Wi(s)}function Uv(s,r){r===0&&(r=na()),s=_o(s,r),s!==null&&(fs(s,r),Wi(s))}function mI(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),Uv(s,l)}function pI(s,r){var l=0;switch(s.tag){case 31:case 13:var c=s.stateNode,y=s.memoizedState;y!==null&&(l=y.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),Uv(s,l)}function gI(s,r){return It(s,r)}var nd=null,La=null,fm=!1,id=!1,hm=!1,Tr=0;function Wi(s){s!==La&&s.next===null&&(La===null?nd=La=s:La=La.next=s),id=!0,fm||(fm=!0,_I())}function ru(s,r){if(!hm&&id){hm=!0;do for(var l=!1,c=nd;c!==null;){if(s!==0){var y=c.pendingLanes;if(y===0)var _=0;else{var C=c.suspendedLanes,I=c.pingedLanes;_=(1<<31-Et(42|s)+1)-1,_&=y&~(C&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Fv(c,_))}else _=Be,_=Zn(c,c===dt?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||Cn(c,_)||(l=!0,Fv(c,_));c=c.next}while(l);hm=!1}}function yI(){Lv()}function Lv(){id=fm=!1;var s=0;Tr!==0&&RI()&&(s=Tr);for(var r=jt(),l=null,c=nd;c!==null;){var y=c.next,_=Ov(c,r);_===0?(c.next=null,l===null?nd=y:l.next=y,y===null&&(La=l)):(l=c,(s!==0||(_&3)!==0)&&(id=!0)),c=y}Yt!==0&&Yt!==5||ru(s),Tr!==0&&(Tr=0)}function Ov(s,r){for(var l=s.suspendedLanes,c=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var C=31-Et(_),I=1<<C,V=y[C];V===-1?((I&l)===0||(I&c)!==0)&&(y[C]=ta(I,r)):V<=r&&(s.expiredLanes|=I),_&=~I}if(r=dt,l=Be,l=Zn(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===r&&(rt===2||rt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&vi(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Cn(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(c!==null&&vi(c),Ei(l)){case 2:case 8:l=Zr;break;case 32:l=Ti;break;case 268435456:l=eo;break;default:l=Ti}return c=qv.bind(null,s),l=It(l,c),s.callbackPriority=r,s.callbackNode=l,r}return c!==null&&c!==null&&vi(c),s.callbackPriority=2,s.callbackNode=null,2}function qv(s,r){if(Yt!==0&&Yt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(td()&&s.callbackNode!==l)return null;var c=Be;return c=Zn(s,s===dt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Tv(s,c,r),Ov(s,jt()),s.callbackNode!=null&&s.callbackNode===l?qv.bind(null,s):null)}function Fv(s,r){if(td())return null;Tv(s,r,!0)}function _I(){NI(function(){(tt&6)!==0?It(Ks,yI):Lv()})}function mm(){if(Tr===0){var s=Sa;s===0&&(s=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Tr=s}return Tr}function Bv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:aa(""+s)}function zv(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function vI(s,r,l,c,y){if(r==="submit"&&l&&l.stateNode===y){var _=Bv((y[Ut]||null).action),C=c.submitter;C&&(r=(r=C[Ut]||null)?Bv(r.formAction):C.getAttribute("formAction"),r!==null&&(_=r,C=null));var I=new Yi("action","action",null,c,y);s.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Tr!==0){var V=C?zv(y,C):new FormData(y);kh(l,{pending:!0,data:V,method:y.method,action:_},null,V)}}else typeof _=="function"&&(I.preventDefault(),V=C?zv(y,C):new FormData(y),kh(l,{pending:!0,data:V,method:y.method,action:_},_,V))},currentTarget:y}]})}}for(var pm=0;pm<Xf.length;pm++){var gm=Xf[pm],TI=gm.toLowerCase(),EI=gm[0].toUpperCase()+gm.slice(1);Ii(TI,"on"+EI)}Ii(vy,"onAnimationEnd"),Ii(Ty,"onAnimationIteration"),Ii(Ey,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(Lx,"onTransitionRun"),Ii(Ox,"onTransitionStart"),Ii(qx,"onTransitionCancel"),Ii(Sy,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function Gv(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],y=c.event;c=c.listeners;e:{var _=void 0;if(r)for(var C=c.length-1;0<=C;C--){var I=c[C],V=I.instance,Y=I.currentTarget;if(I=I.listener,V!==_&&y.isPropagationStopped())break e;_=I,y.currentTarget=Y;try{_(y)}catch(ee){_c(ee)}y.currentTarget=null,_=V}else for(C=0;C<c.length;C++){if(I=c[C],V=I.instance,Y=I.currentTarget,I=I.listener,V!==_&&y.isPropagationStopped())break e;_=I,y.currentTarget=Y;try{_(y)}catch(ee){_c(ee)}y.currentTarget=null,_=V}}}}function Oe(s,r){var l=r[$s];l===void 0&&(l=r[$s]=new Set);var c=s+"__bubble";l.has(c)||(Hv(r,s,2,!1),l.add(c))}function ym(s,r,l){var c=0;r&&(c|=4),Hv(l,s,c,r)}var sd="_reactListening"+Math.random().toString(36).slice(2);function _m(s){if(!s[sd]){s[sd]=!0,yn.forEach(function(l){l!=="selectionchange"&&(SI.has(l)||ym(l,!1,s),ym(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[sd]||(r[sd]=!0,ym("selectionchange",!1,r))}}function Hv(s,r,l,c){switch(v0(r)){case 2:var y=QI;break;case 8:y=XI;break;default:y=Pm}l=y.bind(null,r,l,s),y=void 0,!uo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),c?y!==void 0?s.addEventListener(r,l,{capture:!0,passive:y}):s.addEventListener(r,l,!0):y!==void 0?s.addEventListener(r,l,{passive:y}):s.addEventListener(r,l,!1)}function vm(s,r,l,c,y){var _=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var I=c.stateNode.containerInfo;if(I===y)break;if(C===4)for(C=c.return;C!==null;){var V=C.tag;if((V===3||V===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;I!==null;){if(C=Bn(I),C===null)return;if(V=C.tag,V===5||V===6||V===26||V===27){c=_=C;continue e}I=I.parentNode}}c=c.return}tr(function(){var Y=_,ee=ni(l),ie=[];e:{var J=Ay.get(s);if(J!==void 0){var $=Yi,ge=s;switch(s){case"keypress":if(fo(l)===0)break e;case"keydown":case"keyup":$=pc;break;case"focusin":ge="focus",$=mo;break;case"focusout":ge="blur",$=mo;break;case"beforeblur":case"afterblur":$=mo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=S;break;case vy:case Ty:case Ey:$=lc;break;case Sy:$=b;break;case"scroll":case"scrollend":$=Nl;break;case"wheel":$=j;break;case"copy":case"cut":case"paste":$=uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ys;break;case"toggle":case"beforetoggle":$=De}var Ae=(r&4)!==0,ct=!Ae&&(s==="scroll"||s==="scrollend"),z=Ae?J!==null?J+"Capture":null:J;Ae=[];for(var O=Y,H;O!==null;){var te=O;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||z===null||(te=Ai(O,z),te!=null&&Ae.push(au(O,te,H))),ct)break;O=O.return}0<Ae.length&&(J=new $(J,ge,null,l,ee),ie.push({event:J,listeners:Ae}))}}if((r&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",$=s==="mouseout"||s==="pointerout",J&&l!==Il&&(ge=l.relatedTarget||l.fromElement)&&(Bn(ge)||ge[ei]))break e;if(($||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,$?(ge=l.relatedTarget||l.toElement,$=Y,ge=ge?Bn(ge):null,ge!==null&&(ct=a(ge),Ae=ge.tag,ge!==ct||Ae!==5&&Ae!==27&&Ae!==6)&&(ge=null)):($=null,ge=Y),$!==ge)){if(Ae=Ml,te="onMouseLeave",z="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=ys,te="onPointerLeave",z="onPointerEnter",O="pointer"),ct=$==null?J:je($),H=ge==null?J:je(ge),J=new Ae(te,O+"leave",$,l,ee),J.target=ct,J.relatedTarget=H,te=null,Bn(ee)===Y&&(Ae=new Ae(z,O+"enter",ge,l,ee),Ae.target=H,Ae.relatedTarget=ct,te=Ae),ct=te,$&&ge)t:{for(Ae=AI,z=$,O=ge,H=0,te=z;te;te=Ae(te))H++;te=0;for(var Te=O;Te;Te=Ae(Te))te++;for(;0<H-te;)z=Ae(z),H--;for(;0<te-H;)O=Ae(O),te--;for(;H--;){if(z===O||O!==null&&z===O.alternate){Ae=z;break t}z=Ae(z),O=Ae(O)}Ae=null}else Ae=null;$!==null&&Yv(ie,J,$,Ae,!1),ge!==null&&ct!==null&&Yv(ie,ct,ge,Ae,!0)}}e:{if(J=Y?je(Y):window,$=J.nodeName&&J.nodeName.toLowerCase(),$==="select"||$==="input"&&J.type==="file")var Xe=ly;else if(oy(J))if(uy)Xe=kx;else{Xe=Dx;var _e=Mx}else $=J.nodeName,!$||$.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Y&&oa(Y.elementType)&&(Xe=ly):Xe=Px;if(Xe&&(Xe=Xe(s,Y))){ay(ie,Xe,l,ee);break e}_e&&_e(s,J,Y),s==="focusout"&&Y&&J.type==="number"&&Y.memoizedProps.value!=null&&Cl(J,"number",J.value)}switch(_e=Y?je(Y):window,s){case"focusin":(oy(_e)||_e.contentEditable==="true")&&(ma=_e,jf=Y,Ul=null);break;case"focusout":Ul=jf=ma=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,yy(ie,l,ee);break;case"selectionchange":if(Ux)break;case"keydown":case"keyup":yy(ie,l,ee)}var ke;if(et)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else ha?po(s,l)&&(ze="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(ji&&l.locale!=="ko"&&(ha||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&ha&&(ke=bl()):(Hi=ee,Rl="value"in Hi?Hi.value:Hi.textContent,ha=!0)),_e=rd(Y,ze),0<_e.length&&(ze=new Ji(ze,s,null,l,ee),ie.push({event:ze,listeners:_e}),ke?ze.data=ke:(ke=fa(l),ke!==null&&(ze.data=ke)))),(ke=si?Ix(s,l):Rx(s,l))&&(ze=rd(Y,"onBeforeInput"),0<ze.length&&(_e=new Ji("onBeforeInput","beforeinput",null,l,ee),ie.push({event:_e,listeners:ze}),_e.data=ke)),vI(ie,s,Y,l,ee)}Gv(ie,r)})}function au(s,r,l){return{instance:s,listener:r,currentTarget:l}}function rd(s,r){for(var l=r+"Capture",c=[];s!==null;){var y=s,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Ai(s,l),y!=null&&c.unshift(au(s,y,_)),y=Ai(s,r),y!=null&&c.push(au(s,y,_))),s.tag===3)return c;s=s.return}return[]}function AI(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Yv(s,r,l,c,y){for(var _=r._reactName,C=[];l!==null&&l!==c;){var I=l,V=I.alternate,Y=I.stateNode;if(I=I.tag,V!==null&&V===c)break;I!==5&&I!==26&&I!==27||Y===null||(V=Y,y?(Y=Ai(l,_),Y!=null&&C.unshift(au(l,Y,V))):y||(Y=Ai(l,_),Y!=null&&C.push(au(l,Y,V)))),l=l.return}C.length!==0&&s.push({event:r,listeners:C})}var CI=/\r\n?/g,wI=/\u0000|\uFFFD/g;function Kv(s){return(typeof s=="string"?s:""+s).replace(CI,`
`).replace(wI,"")}function Jv(s,r){return r=Kv(r),Kv(s)===r}function ut(s,r,l,c,y,_){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Rn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Rn(s,""+c);break;case"className":zn(s,"class",c);break;case"tabIndex":zn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(s,l,c);break;case"style":xl(s,c,_);break;case"data":if(r!=="object"){zn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=aa(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(r!=="input"&&ut(s,r,"name",y.name,y,null),ut(s,r,"formEncType",y.formEncType,y,null),ut(s,r,"formMethod",y.formMethod,y,null),ut(s,r,"formTarget",y.formTarget,y,null)):(ut(s,r,"encType",y.encType,y,null),ut(s,r,"method",y.method,y,null),ut(s,r,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=aa(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Si);break;case"onScroll":c!=null&&Oe("scroll",s);break;case"onScrollEnd":c!=null&&Oe("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=aa(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Oe("beforetoggle",s),Oe("toggle",s),sa(s,"popover",c);break;case"xlinkActuate":Lt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Lt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Lt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Lt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Lt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Lt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Lt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Lt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Lt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":sa(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=rc.get(l)||l,sa(s,l,c))}}function Tm(s,r,l,c,y,_){switch(l){case"style":xl(s,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Rn(s,c):(typeof c=="number"||typeof c=="bigint")&&Rn(s,""+c);break;case"onScroll":c!=null&&Oe("scroll",s);break;case"onScrollEnd":c!=null&&Oe("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),_=s[Ut]||null,_=_!=null?_[l]:null,typeof _=="function"&&s.removeEventListener(r,_,y),typeof c=="function")){typeof _!="function"&&_!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,c,y);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):sa(s,l,c)}}}function nn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",s),Oe("load",s);var c=!1,y=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var C=l[_];if(C!=null)switch(_){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ut(s,r,_,C,l,null)}}y&&ut(s,r,"srcSet",l.srcSet,l,null),c&&ut(s,r,"src",l.src,l,null);return;case"input":Oe("invalid",s);var I=_=C=y=null,V=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":y=ee;break;case"type":C=ee;break;case"checked":V=ee;break;case"defaultChecked":Y=ee;break;case"value":_=ee;break;case"defaultValue":I=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,r));break;default:ut(s,r,c,ee,l,null)}}nc(s,_,I,V,Y,C,y,!1);return;case"select":Oe("invalid",s),c=C=_=null;for(y in l)if(l.hasOwnProperty(y)&&(I=l[y],I!=null))switch(y){case"value":_=I;break;case"defaultValue":C=I;break;case"multiple":c=I;default:ut(s,r,y,I,l,null)}r=_,l=C,s.multiple=!!c,r!=null?Xs(s,!!c,r,!1):l!=null&&Xs(s,!!c,l,!0);return;case"textarea":Oe("invalid",s),_=y=c=null;for(C in l)if(l.hasOwnProperty(C)&&(I=l[C],I!=null))switch(C){case"value":c=I;break;case"defaultValue":y=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:ut(s,r,C,I,l,null)}Ws(s,c,y,_);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(c=l[V],c!=null))switch(V){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ut(s,r,V,c,l,null)}return;case"dialog":Oe("beforetoggle",s),Oe("toggle",s),Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":Oe("load",s);break;case"video":case"audio":for(c=0;c<ou.length;c++)Oe(ou[c],s);break;case"image":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"embed":case"source":case"link":Oe("error",s),Oe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ut(s,r,Y,c,l,null)}return;default:if(oa(r)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&Tm(s,r,ee,c,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(c=l[I],c!=null&&ut(s,r,I,c,l,null))}function xI(s,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,C=null,I=null,V=null,Y=null,ee=null;for($ in l){var ie=l[$];if(l.hasOwnProperty($)&&ie!=null)switch($){case"checked":break;case"value":break;case"defaultValue":V=ie;default:c.hasOwnProperty($)||ut(s,r,$,null,c,ie)}}for(var J in c){var $=c[J];if(ie=l[J],c.hasOwnProperty(J)&&($!=null||ie!=null))switch(J){case"type":_=$;break;case"name":y=$;break;case"checked":Y=$;break;case"defaultChecked":ee=$;break;case"value":C=$;break;case"defaultValue":I=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:$!==ie&&ut(s,r,J,$,c,ie)}}ra(s,C,I,V,Y,ee,_,y);return;case"select":$=C=I=J=null;for(_ in l)if(V=l[_],l.hasOwnProperty(_)&&V!=null)switch(_){case"value":break;case"multiple":$=V;default:c.hasOwnProperty(_)||ut(s,r,_,null,c,V)}for(y in c)if(_=c[y],V=l[y],c.hasOwnProperty(y)&&(_!=null||V!=null))switch(y){case"value":J=_;break;case"defaultValue":I=_;break;case"multiple":C=_;default:_!==V&&ut(s,r,y,_,c,V)}r=I,l=C,c=$,J!=null?Xs(s,!!l,J,!1):!!c!=!!l&&(r!=null?Xs(s,!!l,r,!0):Xs(s,!!l,l?[]:"",!1));return;case"textarea":$=J=null;for(I in l)if(y=l[I],l.hasOwnProperty(I)&&y!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ut(s,r,I,null,c,y)}for(C in c)if(y=c[C],_=l[C],c.hasOwnProperty(C)&&(y!=null||_!=null))switch(C){case"value":J=y;break;case"defaultValue":$=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==_&&ut(s,r,C,y,c,_)}ic(s,J,$);return;case"option":for(var ge in l)if(J=l[ge],l.hasOwnProperty(ge)&&J!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":s.selected=!1;break;default:ut(s,r,ge,null,c,J)}for(V in c)if(J=c[V],$=l[V],c.hasOwnProperty(V)&&J!==$&&(J!=null||$!=null))switch(V){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ut(s,r,V,J,c,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in l)J=l[Ae],l.hasOwnProperty(Ae)&&J!=null&&!c.hasOwnProperty(Ae)&&ut(s,r,Ae,null,c,J);for(Y in c)if(J=c[Y],$=l[Y],c.hasOwnProperty(Y)&&J!==$&&(J!=null||$!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:ut(s,r,Y,J,c,$)}return;default:if(oa(r)){for(var ct in l)J=l[ct],l.hasOwnProperty(ct)&&J!==void 0&&!c.hasOwnProperty(ct)&&Tm(s,r,ct,void 0,c,J);for(ee in c)J=c[ee],$=l[ee],!c.hasOwnProperty(ee)||J===$||J===void 0&&$===void 0||Tm(s,r,ee,J,c,$);return}}for(var z in l)J=l[z],l.hasOwnProperty(z)&&J!=null&&!c.hasOwnProperty(z)&&ut(s,r,z,null,c,J);for(ie in c)J=c[ie],$=l[ie],!c.hasOwnProperty(ie)||J===$||J==null&&$==null||ut(s,r,ie,J,c,$)}function jv(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function II(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var y=l[c],_=y.transferSize,C=y.initiatorType,I=y.duration;if(_&&I&&jv(C)){for(C=0,I=y.responseEnd,c+=1;c<l.length;c++){var V=l[c],Y=V.startTime;if(Y>I)break;var ee=V.transferSize,ie=V.initiatorType;ee&&jv(ie)&&(V=V.responseEnd,C+=ee*(V<I?1:(I-Y)/(V-Y)))}if(--c,r+=8*(_+C)/(y.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Em=null,Sm=null;function od(s){return s.nodeType===9?s:s.ownerDocument}function $v(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Am(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cm=null;function RI(){var s=window.event;return s&&s.type==="popstate"?s===Cm?!1:(Cm=s,!0):(Cm=null,!1)}var Xv=typeof setTimeout=="function"?setTimeout:void 0,bI=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,NI=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(s){return Wv.resolve(null).then(s).catch(MI)}:Xv;function MI(s){setTimeout(function(){throw s})}function Er(s){return s==="head"}function Zv(s,r){var l=r,c=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(c===0){s.removeChild(y),Ba(r);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")lu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,lu(l);for(var _=l.firstChild;_;){var C=_.nextSibling,I=_.nodeName;_[ti]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=C}}else l==="body"&&lu(s.ownerDocument.body);l=y}while(l);Ba(r)}function e0(s,r){var l=s;s=0;do{var c=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=c}while(l)}function wm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":wm(l),ms(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function DI(s,r,l,c){for(;s.nodeType===1;){var y=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[ti])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=di(s.nextSibling),s===null)break}return null}function PI(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=di(s.nextSibling),s===null))return null;return s}function t0(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=di(s.nextSibling),s===null))return null;return s}function xm(s){return s.data==="$?"||s.data==="$~"}function Im(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function kI(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function di(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Rm=null;function n0(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return di(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function i0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function s0(s,r,l){switch(r=od(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function lu(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);ms(s)}var fi=new Map,r0=new Set;function ad(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ds=re.d;re.d={f:VI,r:UI,D:LI,C:OI,L:qI,m:FI,X:zI,S:BI,M:GI};function VI(){var s=Ds.f(),r=Wc();return s||r}function UI(s){var r=ye(s);r!==null&&r.tag===5&&r.type==="form"?S_(r):Ds.r(s)}var Oa=typeof document>"u"?null:document;function o0(s,r,l){var c=Oa;if(c&&typeof r=="string"&&r){var y=In(r);y='link[rel="'+s+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),r0.has(y)||(r0.add(y),s={rel:s,crossOrigin:l,href:r},c.querySelector(y)===null&&(r=c.createElement("link"),nn(r,"link",s),Ve(r),c.head.appendChild(r)))}}function LI(s){Ds.D(s),o0("dns-prefetch",s,null)}function OI(s,r){Ds.C(s,r),o0("preconnect",s,r)}function qI(s,r,l){Ds.L(s,r,l);var c=Oa;if(c&&s&&r){var y='link[rel="preload"][as="'+In(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+In(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+In(l.imageSizes)+'"]')):y+='[href="'+In(s)+'"]';var _=y;switch(r){case"style":_=qa(s);break;case"script":_=Fa(s)}fi.has(_)||(s=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),fi.set(_,s),c.querySelector(y)!==null||r==="style"&&c.querySelector(uu(_))||r==="script"&&c.querySelector(cu(_))||(r=c.createElement("link"),nn(r,"link",s),Ve(r),c.head.appendChild(r)))}}function FI(s,r){Ds.m(s,r);var l=Oa;if(l&&s){var c=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+In(c)+'"][href="'+In(s)+'"]',_=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Fa(s)}if(!fi.has(_)&&(s=E({rel:"modulepreload",href:s},r),fi.set(_,s),l.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cu(_)))return}c=l.createElement("link"),nn(c,"link",s),Ve(c),l.head.appendChild(c)}}}function BI(s,r,l){Ds.S(s,r,l);var c=Oa;if(c&&s){var y=Qe(c).hoistableStyles,_=qa(s);r=r||"default";var C=y.get(_);if(!C){var I={loading:0,preload:null};if(C=c.querySelector(uu(_)))I.loading=5;else{s=E({rel:"stylesheet",href:s,"data-precedence":r},l),(l=fi.get(_))&&bm(s,l);var V=C=c.createElement("link");Ve(V),nn(V,"link",s),V._p=new Promise(function(Y,ee){V.onload=Y,V.onerror=ee}),V.addEventListener("load",function(){I.loading|=1}),V.addEventListener("error",function(){I.loading|=2}),I.loading|=4,ld(C,r,c)}C={type:"stylesheet",instance:C,count:1,state:I},y.set(_,C)}}}function zI(s,r){Ds.X(s,r);var l=Oa;if(l&&s){var c=Qe(l).hoistableScripts,y=Fa(s),_=c.get(y);_||(_=l.querySelector(cu(y)),_||(s=E({src:s,async:!0},r),(r=fi.get(y))&&Nm(s,r),_=l.createElement("script"),Ve(_),nn(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(y,_))}}function GI(s,r){Ds.M(s,r);var l=Oa;if(l&&s){var c=Qe(l).hoistableScripts,y=Fa(s),_=c.get(y);_||(_=l.querySelector(cu(y)),_||(s=E({src:s,async:!0,type:"module"},r),(r=fi.get(y))&&Nm(s,r),_=l.createElement("script"),Ve(_),nn(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(y,_))}}function a0(s,r,l,c){var y=(y=Re.current)?ad(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=qa(l.href),l=Qe(y).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=qa(l.href);var _=Qe(y).hoistableStyles,C=_.get(s);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,C),(_=y.querySelector(uu(s)))&&!_._p&&(C.instance=_,C.state.loading=5),fi.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fi.set(s,l),_||HI(y,s,l,C.state))),r&&c===null)throw Error(i(528,""));return C}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fa(l),l=Qe(y).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function qa(s){return'href="'+In(s)+'"'}function uu(s){return'link[rel="stylesheet"]['+s+"]"}function l0(s){return E({},s,{"data-precedence":s.precedence,precedence:null})}function HI(s,r,l,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),nn(r,"link",l),Ve(r),s.head.appendChild(r))}function Fa(s){return'[src="'+In(s)+'"]'}function cu(s){return"script[async]"+s}function u0(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+In(l.href)+'"]');if(c)return r.instance=c,Ve(c),c;var y=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ve(c),nn(c,"style",y),ld(c,l.precedence,s),r.instance=c;case"stylesheet":y=qa(l.href);var _=s.querySelector(uu(y));if(_)return r.state.loading|=4,r.instance=_,Ve(_),_;c=l0(l),(y=fi.get(y))&&bm(c,y),_=(s.ownerDocument||s).createElement("link"),Ve(_);var C=_;return C._p=new Promise(function(I,V){C.onload=I,C.onerror=V}),nn(_,"link",c),r.state.loading|=4,ld(_,l.precedence,s),r.instance=_;case"script":return _=Fa(l.src),(y=s.querySelector(cu(_)))?(r.instance=y,Ve(y),y):(c=l,(y=fi.get(_))&&(c=E({},l),Nm(c,y)),s=s.ownerDocument||s,y=s.createElement("script"),Ve(y),nn(y,"link",c),s.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,ld(c,l.precedence,s));return r.instance}function ld(s,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,_=y,C=0;C<c.length;C++){var I=c[C];if(I.dataset.precedence===r)_=I;else if(_!==y)break}_?_.parentNode.insertBefore(s,_.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function bm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Nm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var ud=null;function c0(s,r,l){if(ud===null){var c=new Map,y=ud=new Map;y.set(l,c)}else y=ud,c=y.get(l),c||(c=new Map,y.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),y=0;y<l.length;y++){var _=l[y];if(!(_[ti]||_[it]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(r)||"";C=s+C;var I=c.get(C);I?I.push(_):c.set(C,[_])}}return c}function d0(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function YI(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function f0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function KI(s,r,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=qa(c.href),_=r.querySelector(uu(y));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=cd.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=_,Ve(_);return}_=r.ownerDocument||r,c=l0(c),(y=fi.get(y))&&bm(c,y),_=_.createElement("link"),Ve(_);var C=_;C._p=new Promise(function(I,V){C.onload=I,C.onerror=V}),nn(_,"link",c),l.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=cd.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var Mm=0;function JI(s,r){return s.stylesheets&&s.count===0&&fd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var c=setTimeout(function(){if(s.stylesheets&&fd(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+r);0<s.imgBytes&&Mm===0&&(Mm=62500*II());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&fd(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>Mm?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function cd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var dd=null;function fd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,dd=new Map,r.forEach(jI,s),dd=null,cd.call(s))}function jI(s,r){if(!(r.state.loading&4)){var l=dd.get(s);if(l)var c=l.get(null);else{l=new Map,dd.set(s,l);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var C=y[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),c=C)}c&&l.set(null,c)}y=r.instance,C=y.getAttribute("data-precedence"),_=l.get(C)||c,_===c&&l.set(null,y),l.set(C,y),this.count++,c=cd.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),_?_.parentNode.insertBefore(y,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),r.state.loading|=4}}var du={$$typeof:W,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function $I(s,r,l,c,y,_,C,I,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function h0(s,r,l,c,y,_,C,I,V,Y,ee,ie){return s=new $I(s,r,l,C,V,Y,ee,ie,I),r=1,_===!0&&(r|=24),_=Hn(3,null,null,r),s.current=_,_.stateNode=s,r=ch(),r.refCount++,s.pooledCache=r,r.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:r},mh(_),s}function m0(s){return s?(s=ya,s):ya}function p0(s,r,l,c,y,_){y=m0(y),c.context===null?c.context=y:c.pendingContext=y,c=cr(r),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=dr(s,c,r),l!==null&&(Pn(l,s,r),Gl(l,s,r))}function g0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Dm(s,r){g0(s,r),(s=s.alternate)&&g0(s,r)}function y0(s){if(s.tag===13||s.tag===31){var r=_o(s,67108864);r!==null&&Pn(r,s,67108864),Dm(s,67108864)}}function _0(s){if(s.tag===13||s.tag===31){var r=$n();r=hs(r);var l=_o(s,r);l!==null&&Pn(l,s,r),Dm(s,r)}}var hd=!0;function QI(s,r,l,c){var y=K.T;K.T=null;var _=re.p;try{re.p=2,Pm(s,r,l,c)}finally{re.p=_,K.T=y}}function XI(s,r,l,c){var y=K.T;K.T=null;var _=re.p;try{re.p=8,Pm(s,r,l,c)}finally{re.p=_,K.T=y}}function Pm(s,r,l,c){if(hd){var y=km(c);if(y===null)vm(s,r,c,md,l),T0(s,c);else if(ZI(y,s,r,l,c))c.stopPropagation();else if(T0(s,c),r&4&&-1<WI.indexOf(s)){for(;y!==null;){var _=ye(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=An(_.pendingLanes);if(C!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;C;){var V=1<<31-Et(C);I.entanglements[1]|=V,C&=~V}Wi(_),(tt&6)===0&&(Qc=jt()+500,ru(0))}}break;case 31:case 13:I=_o(_,2),I!==null&&Pn(I,_,2),Wc(),Dm(_,2)}if(_=km(c),_===null&&vm(s,r,c,md,l),_===y)break;y=_}y!==null&&c.stopPropagation()}else vm(s,r,c,null,l)}}function km(s){return s=ni(s),Vm(s)}var md=null;function Vm(s){if(md=null,s=Bn(s),s!==null){var r=a(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=u(r),s!==null)return s;s=null}else if(l===31){if(s=d(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return md=s,null}function v0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case Ks:return 2;case Zr:return 8;case Ti:case Zo:return 32;case eo:return 268435456;default:return 32}default:return 32}}var Um=!1,Sr=null,Ar=null,Cr=null,fu=new Map,hu=new Map,wr=[],WI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T0(s,r){switch(s){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":fu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(r.pointerId)}}function mu(s,r,l,c,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[y]},r!==null&&(r=ye(r),r!==null&&y0(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),s)}function ZI(s,r,l,c,y){switch(r){case"focusin":return Sr=mu(Sr,s,r,l,c,y),!0;case"dragenter":return Ar=mu(Ar,s,r,l,c,y),!0;case"mouseover":return Cr=mu(Cr,s,r,l,c,y),!0;case"pointerover":var _=y.pointerId;return fu.set(_,mu(fu.get(_)||null,s,r,l,c,y)),!0;case"gotpointercapture":return _=y.pointerId,hu.set(_,mu(hu.get(_)||null,s,r,l,c,y)),!0}return!1}function E0(s){var r=Bn(s.target);if(r!==null){var l=a(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){s.blockedOn=r,Fn(s.priority,function(){_0(l)});return}}else if(r===31){if(r=d(l),r!==null){s.blockedOn=r,Fn(s.priority,function(){_0(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function pd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=km(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Il=c,l.target.dispatchEvent(c),Il=null}else return r=ye(l),r!==null&&y0(r),s.blockedOn=l,!1;r.shift()}return!0}function S0(s,r,l){pd(s)&&l.delete(r)}function eR(){Um=!1,Sr!==null&&pd(Sr)&&(Sr=null),Ar!==null&&pd(Ar)&&(Ar=null),Cr!==null&&pd(Cr)&&(Cr=null),fu.forEach(S0),hu.forEach(S0)}function gd(s,r){s.blockedOn===r&&(s.blockedOn=null,Um||(Um=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eR)))}var yd=null;function A0(s){yd!==s&&(yd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yd===s&&(yd=null);for(var r=0;r<s.length;r+=3){var l=s[r],c=s[r+1],y=s[r+2];if(typeof c!="function"){if(Vm(c||l)===null)continue;break}var _=ye(l);_!==null&&(s.splice(r,3),r-=3,kh(_,{pending:!0,data:y,method:l.method,action:c},c,y))}}))}function Ba(s){function r(V){return gd(V,s)}Sr!==null&&gd(Sr,s),Ar!==null&&gd(Ar,s),Cr!==null&&gd(Cr,s),fu.forEach(r),hu.forEach(r);for(var l=0;l<wr.length;l++){var c=wr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<wr.length&&(l=wr[0],l.blockedOn===null);)E0(l),l.blockedOn===null&&wr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var y=l[c],_=l[c+1],C=y[Ut]||null;if(typeof _=="function")C||A0(l);else if(C){var I=null;if(_&&_.hasAttribute("formAction")){if(y=_,C=_[Ut]||null)I=C.formAction;else if(Vm(y)!==null)continue}else I=C.action;typeof I=="function"?l[c+1]=I:(l.splice(c,3),c-=3),A0(l)}}}function C0(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function Lm(s){this._internalRoot=s}_d.prototype.render=Lm.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,c=$n();p0(l,c,s,r,null,null)},_d.prototype.unmount=Lm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;p0(s.current,2,null,s,null,null),Wc(),r[ei]=null}};function _d(s){this._internalRoot=s}_d.prototype.unstable_scheduleHydration=function(s){if(s){var r=so();s={blockedOn:null,target:s,priority:r};for(var l=0;l<wr.length&&r!==0&&r<wr[l].priority;l++);wr.splice(l,0,s),l===0&&E0(s)}};var w0=e.version;if(w0!=="19.2.1")throw Error(i(527,w0,"19.2.1"));re.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var tR={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{On=vd.inject(tR),Vt=vd}catch{}}return gu.createRoot=function(s,r){if(!o(s))throw Error(i(299));var l=!1,c="",y=D_,_=P_,C=k_;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError)),r=h0(s,1,!1,null,null,l,c,null,y,_,C,C0),s[ei]=r.current,_m(s),new Lm(r)},gu.hydrateRoot=function(s,r,l){if(!o(s))throw Error(i(299));var c=!1,y="",_=D_,C=P_,I=k_,V=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),r=h0(s,1,!0,r,l??null,c,y,V,_,C,I,C0),r.context=m0(null),l=r.current,c=$n(),c=hs(c),y=cr(c),y.callback=null,dr(l,y,c),l=c,r.current.lanes=l,fs(r,l),Wi(r),s[ei]=r.current,_m(s),new _d(r)},gu.version="19.2.1",gu}var V0;function fR(){if(V0)return Fm.exports;V0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fm.exports=dR(),Fm.exports}var hR=fR();const mR=jS(hR),pR="modulepreload",gR=function(t){return"/"+t},U0={},Kr=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let u=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=u(n.map(m=>{if(m=gR(m),m in U0)return;U0[m]=!0;const v=m.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${E}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":pR,v||(A.as="script"),A.crossOrigin="",A.href=m,h&&A.setAttribute("nonce",h),document.head.appendChild(A),v)return new Promise((x,L)=>{A.addEventListener("load",x),A.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},yR=()=>{};var L0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_R=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],d=t[n++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,d=u?t[o+1]:0,h=o+2<t.length,m=h?t[o+2]:0,v=a>>2,E=(a&3)<<4|d>>4;let A=(d&15)<<2|m>>6,x=m&63;h||(x=64,u||(A=64)),i.push(n[v],n[E],n[A],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_R(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||m==null||E==null)throw new vR;const A=a<<2|d>>4;if(i.push(A),m!==64){const x=d<<4&240|m>>2;if(i.push(x),E!==64){const L=m<<6&192|E;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TR=function(t){const e=$S(t);return QS.encodeByteArray(e,!0)},Fd=function(t){return TR(t).replace(/\./g,"")},XS=function(t){try{return QS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=()=>ER().__FIREBASE_DEFAULTS__,AR=()=>{if(typeof process>"u"||typeof L0>"u")return;const t=L0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XS(t[1]);return e&&JSON.parse(e)},gf=()=>{try{return yR()||SR()||AR()||CR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=gf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},wR=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ZS=()=>{var t;return(t=gf())==null?void 0:t.config},eA=t=>{var e;return(e=gf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fd(JSON.stringify(n)),Fd(JSON.stringify(u)),""].join(".")}const wu={};function RR(){const t={prod:[],emulator:[]};for(const e of Object.keys(wu))wu[e]?t.emulator.push(e):t.prod.push(e);return t}function bR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let O0=!1;function nA(t,e){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||wu[t]===e||wu[t]||O0)return;wu[t]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",a=RR().prod.length>0;function u(){const A=document.getElementById(i);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function h(A,x){A.setAttribute("width","24"),A.setAttribute("id",x),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function m(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{O0=!0,u()},A}function v(A,x){A.setAttribute("id",x),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=bR(i),x=n("text"),L=document.getElementById(x)||document.createElement("span"),F=n("learnmore"),B=document.getElementById(F)||document.createElement("a"),Q=n("preprendIcon"),X=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const W=A.element;d(W),v(B,F);const ae=m();h(X,Q),W.append(X,L,B,ae),document.body.appendChild(W)}a?(L.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function MR(){var e;const t=(e=gf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kR(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VR(){return!MR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sA(){try{return typeof indexedDB=="object"}catch{return!1}}function rA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function UR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="FirebaseError";class Vi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=LR,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?OR(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Vi(o,d,i)}}function OR(t,e){return t.replace(qR,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const qR=/\{\$([^}]+)}/g;function FR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(q0(a)&&q0(u)){if(!qr(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function q0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Tu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BR(t,e){const n=new zR(t,e);return n.subscribe.bind(n)}class zR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Hm),o.error===void 0&&(o.error=Hm),o.complete===void 0&&(o.complete=Hm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1e3,YR=2,KR=14400*1e3,JR=.5;function F0(t,e=HR,n=YR){const i=e*Math.pow(n,t),o=Math.round(JR*i*(Math.random()-.5)*2);return Math.min(KR,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new xR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QR(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$R(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $R(t){return t===Mo?void 0:t}function QR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const WR={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},ZR=Ge.INFO,eb={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},tb=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=eb[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yf{constructor(e){this.name=e,this._logLevel=ZR,this._logHandler=tb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const nb=(t,e)=>e.some(n=>t instanceof n);let B0,z0;function ib(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sb(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oA=new WeakMap,cp=new WeakMap,aA=new WeakMap,Ym=new WeakMap,eg=new WeakMap;function rb(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(kr(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&oA.set(n,t)}).catch(()=>{}),eg.set(e,t),e}function ob(t){if(cp.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});cp.set(t,e)}let dp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ab(t){dp=t(dp)}function lb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Km(this),e,...n);return aA.set(i,e.sort?e.sort():[e]),kr(i)}:sb().includes(t)?function(...e){return t.apply(Km(this),e),kr(oA.get(this))}:function(...e){return kr(t.apply(Km(this),e))}}function ub(t){return typeof t=="function"?lb(t):(t instanceof IDBTransaction&&ob(t),nb(t,ib())?new Proxy(t,dp):t)}function kr(t){if(t instanceof IDBRequest)return rb(t);if(Ym.has(t))return Ym.get(t);const e=ub(t);return e!==t&&(Ym.set(t,e),eg.set(e,t)),e}const Km=t=>eg.get(t);function lA(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),d=kr(u);return i&&u.addEventListener("upgradeneeded",h=>{i(kr(u.result),h.oldVersion,h.newVersion,kr(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const cb=["get","getKey","getAll","getAllKeys","count"],db=["put","add","delete","clear"],Jm=new Map;function G0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=db.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||cb.includes(n)))return;const a=async function(u,...d){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),o&&h.done]))[0]};return Jm.set(e,a),a}ab(t=>({...t,get:(e,n,i)=>G0(e,n)||t.get(e,n,i),has:(e,n)=>!!G0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hb(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function hb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fp="@firebase/app",H0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new yf("@firebase/app"),mb="@firebase/app-compat",pb="@firebase/analytics-compat",gb="@firebase/analytics",yb="@firebase/app-check-compat",_b="@firebase/app-check",vb="@firebase/auth",Tb="@firebase/auth-compat",Eb="@firebase/database",Sb="@firebase/data-connect",Ab="@firebase/database-compat",Cb="@firebase/functions",wb="@firebase/functions-compat",xb="@firebase/installations",Ib="@firebase/installations-compat",Rb="@firebase/messaging",bb="@firebase/messaging-compat",Nb="@firebase/performance",Mb="@firebase/performance-compat",Db="@firebase/remote-config",Pb="@firebase/remote-config-compat",kb="@firebase/storage",Vb="@firebase/storage-compat",Ub="@firebase/firestore",Lb="@firebase/ai",Ob="@firebase/firestore-compat",qb="firebase",Fb="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",Bb={[fp]:"fire-core",[mb]:"fire-core-compat",[gb]:"fire-analytics",[pb]:"fire-analytics-compat",[_b]:"fire-app-check",[yb]:"fire-app-check-compat",[vb]:"fire-auth",[Tb]:"fire-auth-compat",[Eb]:"fire-rtdb",[Sb]:"fire-data-connect",[Ab]:"fire-rtdb-compat",[Cb]:"fire-fn",[wb]:"fire-fn-compat",[xb]:"fire-iid",[Ib]:"fire-iid-compat",[Rb]:"fire-fcm",[bb]:"fire-fcm-compat",[Nb]:"fire-perf",[Mb]:"fire-perf-compat",[Db]:"fire-rc",[Pb]:"fire-rc-compat",[kb]:"fire-gcs",[Vb]:"fire-gcs-compat",[Ub]:"fire-fst",[Ob]:"fire-fst-compat",[Lb]:"fire-vertex","fire-js":"fire-js",[qb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Map,zb=new Map,mp=new Map;function Y0(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function os(t){const e=t.name;if(mp.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,t);for(const n of Bd.values())Y0(n,t);for(const n of zb.values())Y0(n,t);return!0}function Ko(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Yo("app","Firebase",Gb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=Fb;function uA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:hp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Vr.create("bad-app-name",{appName:String(o)});if(n||(n=ZS()),!n)throw Vr.create("no-options");const a=Bd.get(o);if(a){if(qr(n,a.options)&&qr(i,a.config))return a;throw Vr.create("duplicate-app",{appName:o})}const u=new XR(o);for(const h of mp.values())u.addComponent(h);const d=new Hb(n,i,u);return Bd.set(o,d),d}function tg(t=hp){const e=Bd.get(t);if(!e&&t===hp&&ZS())return uA();if(!e)throw Vr.create("no-app",{appName:t});return e}function pi(t,e,n){let i=Bb[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(u.join(" "));return}os(new Pi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="firebase-heartbeat-database",Kb=1,Pu="firebase-heartbeat-store";let jm=null;function cA(){return jm||(jm=lA(Yb,Kb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),jm}async function Jb(t){try{const n=(await cA()).transaction(Pu),i=await n.objectStore(Pu).get(dA(t));return await n.done,i}catch(e){if(e instanceof Vi)Us.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function K0(t,e){try{const i=(await cA()).transaction(Pu,"readwrite");await i.objectStore(Pu).put(e,dA(t)),await i.done}catch(n){if(n instanceof Vi)Us.warn(n.message);else{const i=Vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(i.message)}}}function dA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=1024,$b=30;class Qb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>$b){const u=Zb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Us.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J0(),{heartbeatsToSend:i,unsentEntries:o}=Xb(this._heartbeatsCache.heartbeats),a=Fd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Us.warn(n),""}}}function J0(){return new Date().toISOString().substring(0,10)}function Xb(t,e=jb){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),j0(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),j0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Wb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sA()?rA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return K0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return K0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function j0(t){return Fd(JSON.stringify({version:2,heartbeats:t})).length}function Zb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){os(new Pi("platform-logger",e=>new fb(e),"PRIVATE")),os(new Pi("heartbeat",e=>new Qb(e),"PRIVATE")),pi(fp,H0,t),pi(fp,H0,"esm2020"),pi("fire-js","")}eN("");var tN="firebase",nN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(tN,nN,"app");function fA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iN=fA,hA=new Yo("auth","Firebase",fA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new yf("@firebase/auth");function sN(t,...e){zd.logLevel<=Ge.WARN&&zd.warn(`Auth (${ul}): ${t}`,...e)}function Rd(t,...e){zd.logLevel<=Ge.ERROR&&zd.error(`Auth (${ul}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,...e){throw ng(t,...e)}function es(t,...e){return ng(t,...e)}function mA(t,e,n){const i={...iN(),[e]:n};return new Yo("auth","Firebase",i).create(e,{appName:t.name})}function Vs(t){return mA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ng(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return hA.create(t,...e)}function we(t,e,...n){if(!t)throw ng(e,...n)}function Ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rd(e),new Error(e)}function Ls(t,e){t||Ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function rN(){return $0()==="http:"||$0()==="https:"}function $0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rN()||iA()||"connection"in navigator)?navigator.onLine:!0}function aN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=NR()||PR()}get(){return oN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cN=new Gu(3e4,6e4);function Jr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function jr(t,e,n,i,o={}){return gA(t,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=zu({key:t.config.apiKey,...u}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:h,...a};return DR()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&ll(t.emulatorConfig.host)&&(m.credentials="include"),pA.fetch()(await yA(t,t.config.apiHost,n,d),m)})}async function gA(t,e,n){t._canInitEmulator=!1;const i={...lN,...e};try{const o=new fN(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Td(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[h,m]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw Td(t,"user-disabled",u);const v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw mA(t,v,m);ki(t,v)}}catch(o){if(o instanceof Vi)throw o;ki(t,"network-request-failed",{message:String(o)})}}async function Hu(t,e,n,i,o={}){const a=await jr(t,e,n,i,o);return"mfaPendingCredential"in a&&ki(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function yA(t,e,n,i){const o=`${e}${n}?${i}`,a=t,u=a.config.emulator?ig(t.config,o):`${t.config.apiScheme}://${o}`;return uN.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function dN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(es(this.auth,"network-request-failed")),cN.get())})}}function Td(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=es(t,e,i);return o.customData._tokenResponse=n,o}function Q0(t){return t!==void 0&&t.enterprise!==void 0}class hN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mN(t,e){return jr(t,"GET","/v2/recaptchaConfig",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e){return jr(t,"POST","/v1/accounts:delete",e)}async function Gd(t,e){return jr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gN(t,e=!1){const n=kt(t),i=await n.getIdToken(e),o=sg(i);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:xu($m(o.auth_time)),issuedAtTime:xu($m(o.iat)),expirationTime:xu($m(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function $m(t){return Number(t)*1e3}function sg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const o=XS(n);return o?JSON.parse(o):(Rd("Failed to decode base64 JWT payload"),null)}catch(o){return Rd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function X0(t){const e=sg(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Vi&&yN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function yN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t){var E;const e=t.auth,n=await t.getIdToken(),i=await ku(t,Gd(e,{idToken:n}));we(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=(E=o.providerUserInfo)!=null&&E.length?_A(o.providerUserInfo):[],u=TN(t.providerData,a),d=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function vN(t){const e=kt(t);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TN(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function _A(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e){const n=await gA(t,{},async()=>{const i=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=await yA(t,o,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:i};return t.emulatorConfig&&ll(t.emulatorConfig.host)&&(h.credentials="include"),pA.fetch()(u,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SN(t,e){return jr(t,"POST","/v2/accounts:revokeToken",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=X0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:a}=await EN(e,n);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:a}=n,u=new ja;return i&&(we(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(we(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new _N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ku(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gN(this,e)}reload(){return vN(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await ku(this,pN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,m=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:x,providerData:L,stsTokenManager:F}=n;we(E&&F,e,"internal-error");const B=ja.fromJSON(this.name,F);we(typeof E=="string",e,"internal-error"),Ir(i,e.name),Ir(o,e.name),we(typeof A=="boolean",e,"internal-error"),we(typeof x=="boolean",e,"internal-error"),Ir(a,e.name),Ir(u,e.name),Ir(d,e.name),Ir(h,e.name),Ir(m,e.name),Ir(v,e.name);const Q=new Ni({uid:E,auth:e,email:o,emailVerified:A,displayName:i,isAnonymous:x,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:B,createdAt:m,lastLoginAt:v});return L&&Array.isArray(L)&&(Q.providerData=L.map(X=>({...X}))),h&&(Q._redirectEventId=h),Q}static async _fromIdTokenResponse(e,n,i=!1){const o=new ja;o.updateFromServerResponse(n);const a=new Ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Hd(a),a}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];we(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?_A(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new ja;d.updateFromIdToken(i);const h=new Ni({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;function ks(t){Ls(t instanceof Function,"Expected a class definition");let e=W0.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vA.type="NONE";const Z0=vA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t,e,n){return`firebase:${t}:${e}:${n}`}class $a{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=bd(this.userKey,o.apiKey,a),this.fullPersistenceKey=bd("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gd(this.auth,{idToken:e}).catch(()=>{});return n?Ni._fromGetAccountInfoResponse(this.auth,n,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new $a(ks(Z0),e,i);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ks(Z0);const u=bd(i,e.config.apiKey,e.name);let d=null;for(const m of n)try{const v=await m._get(u);if(v){let E;if(typeof v=="string"){const A=await Gd(e,{idToken:v}).catch(()=>{});if(!A)break;E=await Ni._fromGetAccountInfoResponse(e,A,v)}else E=Ni._fromJSON(e,v);m!==a&&(d=E),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new $a(a,e,i):(a=h[0],d&&await a._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new $a(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wA(e))return"Blackberry";if(xA(e))return"Webos";if(EA(e))return"Safari";if((e.includes("chrome/")||SA(e))&&!e.includes("edge/"))return"Chrome";if(CA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function TA(t=mn()){return/firefox\//i.test(t)}function EA(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SA(t=mn()){return/crios\//i.test(t)}function AA(t=mn()){return/iemobile/i.test(t)}function CA(t=mn()){return/android/i.test(t)}function wA(t=mn()){return/blackberry/i.test(t)}function xA(t=mn()){return/webos/i.test(t)}function rg(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AN(t=mn()){var e;return rg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function CN(){return kR()&&document.documentMode===10}function IA(t=mn()){return rg(t)||CA(t)||xA(t)||wA(t)||/windows phone/i.test(t)||AA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t,e=[]){let n;switch(t){case"Browser":n=eT(mn());break;case"Worker":n=`${eT(mn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ul}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((u,d)=>{try{const h=e(a);u(h)}catch(h){d(h)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e={}){return jr(t,"GET","/v2/passwordPolicy",Jr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=6;class RN{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tT(this),this.idTokenSubscription=new tT(this),this.beforeStateQueue=new wN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gd(this,{idToken:e}),i=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(hi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(Vs(this));const n=e?kt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xN(this),n=new RN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await SN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,o);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&sN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Jo(t){return kt(t)}class tT{constructor(e){this.auth=e,this.observer=null,this.addObserver=BR(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NN(t){_f=t}function bA(t){return _f.loadJS(t)}function MN(){return _f.recaptchaEnterpriseScript}function DN(){return _f.gapiScript}function PN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kN{constructor(){this.enterprise=new VN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const UN="recaptcha-enterprise",NA="NO_RECAPTCHA";class LN{constructor(e){this.type=UN,this.auth=Jo(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{mN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new hN(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(h=>{d(h)})})}function o(a,u,d){const h=window.grecaptcha;Q0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(NA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kN().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(d=>{if(!n&&Q0(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=MN();h.length!==0&&(h+=d),bA(h).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function nT(t,e,n,i=!1,o=!1){const a=new LN(t);let u;if(o)u=NA;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function yp(t,e,n,i,o){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await nT(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await nT(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e){const n=Ko(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(qr(a,e??{}))return o;ki(o,"already-initialized")}return n.initialize({options:e})}function qN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function FN(t,e,n){const i=Jo(t);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=MA(e),{host:u,port:d}=BN(e),h=d===null?"":`:${d}`,m={url:`${a}//${u}${h}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(qr(m,i.config.emulator)&&qr(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ll(u)?(tA(`${a}//${u}${h}`),nA("Auth",!0)):zN()}function MA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BN(t){const e=MA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:iT(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:iT(u)}}}function iT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ps("not implemented")}_getIdTokenResponse(e){return Ps("not implemented")}_linkToIdToken(e,n){return Ps("not implemented")}_getReauthenticationResolver(e){return Ps("not implemented")}}async function GN(t,e){return jr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e){return Hu(t,"POST","/v1/accounts:signInWithPassword",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}async function KN(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends og{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Vu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Vu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,n,"signInWithPassword",HN);case"emailLink":return YN(e,{email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,i,"signUpPassword",GN);case"emailLink":return KN(e,{idToken:n,email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e){return Hu(t,"POST","/v1/accounts:signInWithIdp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="http://localhost";class Oo extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...a}=n;if(!i||!o)return null;const u=new Oo(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Qa(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:JN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $N(t){const e=vu(Tu(t)).link,n=e?vu(Tu(e)).deep_link_id:null,i=vu(Tu(t)).deep_link_id;return(i?vu(Tu(i)).link:null)||i||n||e||t}class ag{constructor(e){const n=vu(Tu(e)),i=n.apiKey??null,o=n.oobCode??null,a=jN(n.mode??null);we(i&&o&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=$N(e);try{return new ag(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,n){return Vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ag.parseLink(n);return we(i,"argument-error"),Vu._fromEmailAndCode(e,i.code,i.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends DA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Yu{constructor(){super("facebook.com")}static credential(e){return Oo._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oo._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return br.credential(n,i)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Yu{constructor(){super("github.com")}static credential(e){return Oo._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Yu{constructor(){super("twitter.com")}static credential(e,n){return Oo._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Mr.credential(n,i)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,e){return Hu(t,"POST","/v1/accounts:signUp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const a=await Ni._fromIdTokenResponse(e,i,o),u=sT(i);return new qo({user:a,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=sT(i);return new qo({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function sT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Vi{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Yd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Yd(e,n,i,o)}}function PA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Yd._fromErrorAndOperation(t,a,e,i):a})}async function XN(t,e,n=!1){const i=await ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e,n=!1){const{auth:i}=t;if(hi(i.app))return Promise.reject(Vs(i));const o="reauthenticate";try{const a=await ku(t,PA(i,o,e,t),n);we(a.idToken,i,"internal-error");const u=sg(a.idToken);we(u,i,"internal-error");const{sub:d}=u;return we(t.uid===d,i,"user-mismatch"),qo._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ki(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,e,n=!1){if(hi(t.app))return Promise.reject(Vs(t));const i="signIn",o=await PA(t,i,e),a=await qo._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(a.user),a}async function ZN(t,e){return kA(Jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t){const e=Jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UA(t,e,n){if(hi(t.app))return Promise.reject(Vs(t));const i=Jo(t),u=await yp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QN).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&VA(t),h}),d=await qo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function e1(t,e,n){return hi(t.app)?Promise.reject(Vs(t)):ZN(kt(t),cl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&VA(t),i})}function t1(t,e,n,i){return kt(t).onIdTokenChanged(e,n,i)}function n1(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function i1(t,e,n,i){return kt(t).onAuthStateChanged(e,n,i)}function s1(t){return kt(t).signOut()}const Kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kd,"1"),this.storage.removeItem(Kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=1e3,o1=10;class OA extends LA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);CN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,o1):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},r1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OA.type="LOCAL";const a1=OA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA extends LA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qA.type="SESSION";const FA=qA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new vf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async m=>m(n.origin,a)),h=await l1(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,h)=>{const m=lg("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===m)switch(A.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(A.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function c1(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function d1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function h1(){return BA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebaseLocalStorageDb",m1=1,Jd="firebaseLocalStorage",GA="fbase_key";class Ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tf(t,e){return t.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function p1(){const t=indexedDB.deleteDatabase(zA);return new Ku(t).toPromise()}function _p(){const t=indexedDB.open(zA,m1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Jd,{keyPath:GA})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Jd)?e(i):(i.close(),await p1(),e(await _p()))})})}async function rT(t,e,n){const i=Tf(t,!0).put({[GA]:e,value:n});return new Ku(i).toPromise()}async function g1(t,e){const n=Tf(t,!1).get(e),i=await new Ku(n).toPromise();return i===void 0?null:i.value}function oT(t,e){const n=Tf(t,!0).delete(e);return new Ku(n).toPromise()}const y1=800,_1=3;class HA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>_1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(h1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await d1(),!this.activeServiceWorker)return;this.sender=new u1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await rT(e,Kd,"1"),await oT(e,Kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>rT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>g1(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Tf(o,!1).getAll();return new Ku(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HA.type="LOCAL";const v1=HA;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t,e){return e?ks(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E1(t){return kA(t.auth,new ug(t),t.bypassAuthState)}function S1(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),WN(n,new ug(t),t.bypassAuthState)}async function A1(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),XN(n,new ug(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E1;case"linkViaPopup":case"linkViaRedirect":return A1;case"reauthViaPopup":case"reauthViaRedirect":return S1;default:ki(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Gu(2e3,1e4);class Ka extends YA{constructor(e,n,i,o,a){super(e,n,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C1.get())};e()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="pendingRedirect",Nd=new Map;class x1 extends YA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const i=await I1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I1(t,e){const n=N1(e),i=b1(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function R1(t,e){Nd.set(t._key(),e)}function b1(t){return ks(t._redirectPersistence)}function N1(t){return bd(w1,t.config.apiKey,t.name)}async function M1(t,e,n=!1){if(hi(t.app))return Promise.reject(Vs(t));const i=Jo(t),o=T1(i,e),u=await new x1(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=600*1e3;class P1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!KA(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(es(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D1&&this.cachedEventUids.clear(),this.cachedEventUids.has(aT(e))}saveEventToCache(e){this.cachedEventUids.add(aT(e)),this.lastProcessedEventTime=Date.now()}}function aT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(t,e={}){return jr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L1=/^https?/;async function O1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V1(t);for(const n of e)try{if(q1(n))return}catch{}ki(t,"unauthorized-domain")}function q1(t){const e=pp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!L1.test(n))return!1;if(U1.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Gu(3e4,6e4);function lT(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function B1(t){return new Promise((e,n)=>{var o,a,u;function i(){lT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lT(),n(es(t,"network-request-failed"))},timeout:F1.get()})}if((a=(o=ts().gapi)==null?void 0:o.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=ts().gapi)!=null&&u.load)i();else{const d=PN("iframefcb");return ts()[d]=()=>{gapi.load?i():n(es(t,"network-request-failed"))},bA(`${DN()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw Md=null,e})}let Md=null;function z1(t){return Md=Md||B1(t),Md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Gu(5e3,15e3),H1="__/auth/iframe",Y1="emulator/auth/iframe",K1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j1(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ig(e,Y1):`https://${t.config.authDomain}/${H1}`,i={apiKey:e.apiKey,appName:t.name,v:ul},o=J1.get(t.config.apiHost);o&&(i.eid=o);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${zu(i).slice(1)}`}async function $1(t){const e=await z1(t),n=ts().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:j1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K1,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=es(t,"network-request-failed"),d=ts().setTimeout(()=>{a(u)},G1.get());function h(){ts().clearTimeout(d),o(i)}i.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X1=500,W1=600,Z1="_blank",eM="http://localhost";class uT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tM(t,e,n,i=X1,o=W1){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h={...Q1,width:i.toString(),height:o.toString(),top:a,left:u},m=mn().toLowerCase();n&&(d=SA(m)?Z1:n),TA(m)&&(e=e||eM,h.scrollbars="yes");const v=Object.entries(h).reduce((A,[x,L])=>`${A}${x}=${L},`,"");if(AN(m)&&d!=="_self")return nM(e||"",d),new uT(null);const E=window.open(e||"",d,v);we(E,t,"popup-blocked");try{E.focus()}catch{}return new uT(E)}function nM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="__/auth/handler",sM="emulator/auth/handler",rM=encodeURIComponent("fac");async function cT(t,e,n,i,o,a){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ul,eventId:o};if(e instanceof DA){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",FR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof Yu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const h=await t._getAppCheckToken(),m=h?`#${rM}=${encodeURIComponent(h)}`:"";return`${oM(t)}?${zu(d).slice(1)}${m}`}function oM({config:t}){return t.emulator?ig(t,sM):`https://${t.authDomain}/${iM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="webStorageSupport";class aM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FA,this._completeRedirectFn=M1,this._overrideRedirectResult=R1}async _openPopup(e,n,i,o){var u;Ls((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await cT(e,n,i,pp(),o);return tM(e,a,lg())}async _openRedirect(e,n,i,o){await this._originValidation(e);const a=await cT(e,n,i,pp(),o);return c1(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Ls(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await $1(e),i=new P1(e);return n.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qm,{type:Qm},o=>{var u;const a=(u=o==null?void 0:o[0])==null?void 0:u[Qm];a!==void 0&&n(!!a),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IA()||EA()||rg()}}const lM=aM;var dT="@firebase/auth",fT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dM(t){os(new Pi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RA(t)},m=new bN(i,o,a,h);return qN(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),os(new Pi("auth-internal",e=>{const n=Jo(e.getProvider("auth").getImmediate());return(i=>new uM(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(dT,fT,cM(t)),pi(dT,fT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=300,hM=eA("authIdTokenMaxAge")||fM;let hT=null;const mM=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>hM)return;const o=n==null?void 0:n.token;hT!==o&&(hT=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JA(t=tg()){const e=Ko(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ON(t,{popupRedirectResolver:lM,persistence:[v1,a1,FA]}),i=eA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=mM(a.toString());n1(n,u,()=>u(n.currentUser)),t1(n,d=>u(d))}}const o=WS("auth");return o&&FN(n,`http://${o}`),n}function pM(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}NN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const a=es("internal-error");a.customData=o,n(a)},i.type="text/javascript",i.charset="UTF-8",pM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dM("Browser");var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,jA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function R(){}R.prototype=N.prototype,D.F=N.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(k,P,U){for(var M=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)M[Se-2]=arguments[Se];return N.prototype[P].apply(k,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,N,R){R||(R=0);const k=Array(16);if(typeof N=="string")for(var P=0;P<16;++P)k[P]=N.charCodeAt(R++)|N.charCodeAt(R++)<<8|N.charCodeAt(R++)<<16|N.charCodeAt(R++)<<24;else for(P=0;P<16;++P)k[P]=N[R++]|N[R++]<<8|N[R++]<<16|N[R++]<<24;N=D.g[0],R=D.g[1],P=D.g[2];let U=D.g[3],M;M=N+(U^R&(P^U))+k[0]+3614090360&4294967295,N=R+(M<<7&4294967295|M>>>25),M=U+(P^N&(R^P))+k[1]+3905402710&4294967295,U=N+(M<<12&4294967295|M>>>20),M=P+(R^U&(N^R))+k[2]+606105819&4294967295,P=U+(M<<17&4294967295|M>>>15),M=R+(N^P&(U^N))+k[3]+3250441966&4294967295,R=P+(M<<22&4294967295|M>>>10),M=N+(U^R&(P^U))+k[4]+4118548399&4294967295,N=R+(M<<7&4294967295|M>>>25),M=U+(P^N&(R^P))+k[5]+1200080426&4294967295,U=N+(M<<12&4294967295|M>>>20),M=P+(R^U&(N^R))+k[6]+2821735955&4294967295,P=U+(M<<17&4294967295|M>>>15),M=R+(N^P&(U^N))+k[7]+4249261313&4294967295,R=P+(M<<22&4294967295|M>>>10),M=N+(U^R&(P^U))+k[8]+1770035416&4294967295,N=R+(M<<7&4294967295|M>>>25),M=U+(P^N&(R^P))+k[9]+2336552879&4294967295,U=N+(M<<12&4294967295|M>>>20),M=P+(R^U&(N^R))+k[10]+4294925233&4294967295,P=U+(M<<17&4294967295|M>>>15),M=R+(N^P&(U^N))+k[11]+2304563134&4294967295,R=P+(M<<22&4294967295|M>>>10),M=N+(U^R&(P^U))+k[12]+1804603682&4294967295,N=R+(M<<7&4294967295|M>>>25),M=U+(P^N&(R^P))+k[13]+4254626195&4294967295,U=N+(M<<12&4294967295|M>>>20),M=P+(R^U&(N^R))+k[14]+2792965006&4294967295,P=U+(M<<17&4294967295|M>>>15),M=R+(N^P&(U^N))+k[15]+1236535329&4294967295,R=P+(M<<22&4294967295|M>>>10),M=N+(P^U&(R^P))+k[1]+4129170786&4294967295,N=R+(M<<5&4294967295|M>>>27),M=U+(R^P&(N^R))+k[6]+3225465664&4294967295,U=N+(M<<9&4294967295|M>>>23),M=P+(N^R&(U^N))+k[11]+643717713&4294967295,P=U+(M<<14&4294967295|M>>>18),M=R+(U^N&(P^U))+k[0]+3921069994&4294967295,R=P+(M<<20&4294967295|M>>>12),M=N+(P^U&(R^P))+k[5]+3593408605&4294967295,N=R+(M<<5&4294967295|M>>>27),M=U+(R^P&(N^R))+k[10]+38016083&4294967295,U=N+(M<<9&4294967295|M>>>23),M=P+(N^R&(U^N))+k[15]+3634488961&4294967295,P=U+(M<<14&4294967295|M>>>18),M=R+(U^N&(P^U))+k[4]+3889429448&4294967295,R=P+(M<<20&4294967295|M>>>12),M=N+(P^U&(R^P))+k[9]+568446438&4294967295,N=R+(M<<5&4294967295|M>>>27),M=U+(R^P&(N^R))+k[14]+3275163606&4294967295,U=N+(M<<9&4294967295|M>>>23),M=P+(N^R&(U^N))+k[3]+4107603335&4294967295,P=U+(M<<14&4294967295|M>>>18),M=R+(U^N&(P^U))+k[8]+1163531501&4294967295,R=P+(M<<20&4294967295|M>>>12),M=N+(P^U&(R^P))+k[13]+2850285829&4294967295,N=R+(M<<5&4294967295|M>>>27),M=U+(R^P&(N^R))+k[2]+4243563512&4294967295,U=N+(M<<9&4294967295|M>>>23),M=P+(N^R&(U^N))+k[7]+1735328473&4294967295,P=U+(M<<14&4294967295|M>>>18),M=R+(U^N&(P^U))+k[12]+2368359562&4294967295,R=P+(M<<20&4294967295|M>>>12),M=N+(R^P^U)+k[5]+4294588738&4294967295,N=R+(M<<4&4294967295|M>>>28),M=U+(N^R^P)+k[8]+2272392833&4294967295,U=N+(M<<11&4294967295|M>>>21),M=P+(U^N^R)+k[11]+1839030562&4294967295,P=U+(M<<16&4294967295|M>>>16),M=R+(P^U^N)+k[14]+4259657740&4294967295,R=P+(M<<23&4294967295|M>>>9),M=N+(R^P^U)+k[1]+2763975236&4294967295,N=R+(M<<4&4294967295|M>>>28),M=U+(N^R^P)+k[4]+1272893353&4294967295,U=N+(M<<11&4294967295|M>>>21),M=P+(U^N^R)+k[7]+4139469664&4294967295,P=U+(M<<16&4294967295|M>>>16),M=R+(P^U^N)+k[10]+3200236656&4294967295,R=P+(M<<23&4294967295|M>>>9),M=N+(R^P^U)+k[13]+681279174&4294967295,N=R+(M<<4&4294967295|M>>>28),M=U+(N^R^P)+k[0]+3936430074&4294967295,U=N+(M<<11&4294967295|M>>>21),M=P+(U^N^R)+k[3]+3572445317&4294967295,P=U+(M<<16&4294967295|M>>>16),M=R+(P^U^N)+k[6]+76029189&4294967295,R=P+(M<<23&4294967295|M>>>9),M=N+(R^P^U)+k[9]+3654602809&4294967295,N=R+(M<<4&4294967295|M>>>28),M=U+(N^R^P)+k[12]+3873151461&4294967295,U=N+(M<<11&4294967295|M>>>21),M=P+(U^N^R)+k[15]+530742520&4294967295,P=U+(M<<16&4294967295|M>>>16),M=R+(P^U^N)+k[2]+3299628645&4294967295,R=P+(M<<23&4294967295|M>>>9),M=N+(P^(R|~U))+k[0]+4096336452&4294967295,N=R+(M<<6&4294967295|M>>>26),M=U+(R^(N|~P))+k[7]+1126891415&4294967295,U=N+(M<<10&4294967295|M>>>22),M=P+(N^(U|~R))+k[14]+2878612391&4294967295,P=U+(M<<15&4294967295|M>>>17),M=R+(U^(P|~N))+k[5]+4237533241&4294967295,R=P+(M<<21&4294967295|M>>>11),M=N+(P^(R|~U))+k[12]+1700485571&4294967295,N=R+(M<<6&4294967295|M>>>26),M=U+(R^(N|~P))+k[3]+2399980690&4294967295,U=N+(M<<10&4294967295|M>>>22),M=P+(N^(U|~R))+k[10]+4293915773&4294967295,P=U+(M<<15&4294967295|M>>>17),M=R+(U^(P|~N))+k[1]+2240044497&4294967295,R=P+(M<<21&4294967295|M>>>11),M=N+(P^(R|~U))+k[8]+1873313359&4294967295,N=R+(M<<6&4294967295|M>>>26),M=U+(R^(N|~P))+k[15]+4264355552&4294967295,U=N+(M<<10&4294967295|M>>>22),M=P+(N^(U|~R))+k[6]+2734768916&4294967295,P=U+(M<<15&4294967295|M>>>17),M=R+(U^(P|~N))+k[13]+1309151649&4294967295,R=P+(M<<21&4294967295|M>>>11),M=N+(P^(R|~U))+k[4]+4149444226&4294967295,N=R+(M<<6&4294967295|M>>>26),M=U+(R^(N|~P))+k[11]+3174756917&4294967295,U=N+(M<<10&4294967295|M>>>22),M=P+(N^(U|~R))+k[2]+718787259&4294967295,P=U+(M<<15&4294967295|M>>>17),M=R+(U^(P|~N))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+U&4294967295}i.prototype.v=function(D,N){N===void 0&&(N=D.length);const R=N-this.blockSize,k=this.C;let P=this.h,U=0;for(;U<N;){if(P==0)for(;U<=R;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<N;)if(k[P++]=D.charCodeAt(U++),P==this.blockSize){o(this,k),P=0;break}}else for(;U<N;)if(k[P++]=D[U++],P==this.blockSize){o(this,k),P=0;break}}this.h=P,this.o+=N},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;N=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=N&255,N/=256;for(this.v(D),D=Array(16),N=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)D[N++]=this.g[R]>>>k&255;return D};function a(D,N){var R=d;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=N(D)}function u(D,N){this.h=N;const R=[];let k=!0;for(let P=D.length-1;P>=0;P--){const U=D[P]|0;k&&U==N||(R[P]=U,k=!1)}this.g=R}var d={};function h(D){return-128<=D&&D<128?a(D,function(N){return new u([N|0],N<0?-1:0)}):new u([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return E;if(D<0)return B(m(-D));const N=[];let R=1;for(let k=0;D>=R;k++)N[k]=D/R|0,R*=4294967296;return new u(N,0)}function v(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return B(v(D.substring(1),N));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=m(Math.pow(N,8));let k=E;for(let U=0;U<D.length;U+=8){var P=Math.min(8,D.length-U);const M=parseInt(D.substring(U,U+P),N);P<8?(P=m(Math.pow(N,P)),k=k.j(P).add(m(M))):(k=k.j(R),k=k.add(m(M)))}return k}var E=h(0),A=h(1),x=h(16777216);t=u.prototype,t.m=function(){if(F(this))return-B(this).m();let D=0,N=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);D+=(k>=0?k:4294967296+k)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if(F(this))return"-"+B(this).toString(D);const N=m(Math.pow(D,6));var R=this;let k="";for(;;){const P=ae(R,N).g;R=Q(R,P.j(N));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=P,L(R))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(let N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function F(D){return D.h==-1}t.l=function(D){return D=Q(this,D),F(D)?-1:L(D)?0:1};function B(D){const N=D.g.length,R=[];for(let k=0;k<N;k++)R[k]=~D.g[k];return new u(R,~D.h).add(A)}t.abs=function(){return F(this)?B(this):this},t.add=function(D){const N=Math.max(this.g.length,D.g.length),R=[];let k=0;for(let P=0;P<=N;P++){let U=k+(this.i(P)&65535)+(D.i(P)&65535),M=(U>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);k=M>>>16,U&=65535,M&=65535,R[P]=M<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function Q(D,N){return D.add(B(N))}t.j=function(D){if(L(this)||L(D))return E;if(F(this))return F(D)?B(this).j(B(D)):B(B(this).j(D));if(F(D))return B(this.j(B(D)));if(this.l(x)<0&&D.l(x)<0)return m(this.m()*D.m());const N=this.g.length+D.g.length,R=[];for(var k=0;k<2*N;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let P=0;P<D.g.length;P++){const U=this.i(k)>>>16,M=this.i(k)&65535,Se=D.i(P)>>>16,Ie=D.i(P)&65535;R[2*k+2*P]+=M*Ie,X(R,2*k+2*P),R[2*k+2*P+1]+=U*Ie,X(R,2*k+2*P+1),R[2*k+2*P+1]+=M*Se,X(R,2*k+2*P+1),R[2*k+2*P+2]+=U*Se,X(R,2*k+2*P+2)}for(D=0;D<N;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=N;D<2*N;D++)R[D]=0;return new u(R,0)};function X(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function W(D,N){this.g=D,this.h=N}function ae(D,N){if(L(N))throw Error("division by zero");if(L(D))return new W(E,E);if(F(D))return N=ae(B(D),N),new W(B(N.g),B(N.h));if(F(N))return N=ae(D,B(N)),new W(B(N.g),N.h);if(D.g.length>30){if(F(D)||F(N))throw Error("slowDivide_ only works with positive integers.");for(var R=A,k=N;k.l(D)<=0;)R=de(R),k=de(k);var P=ce(R,1),U=ce(k,1);for(k=ce(k,2),R=ce(R,2);!L(k);){var M=U.add(k);M.l(D)<=0&&(P=P.add(R),U=M),k=ce(k,1),R=ce(R,1)}return N=Q(D,P.j(N)),new W(P,N)}for(P=E;D.l(N)>=0;){for(R=Math.max(1,Math.floor(D.m()/N.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=m(R),M=U.j(N);F(M)||M.l(D)>0;)R-=k,U=m(R),M=U.j(N);L(U)&&(U=A),P=P.add(U),D=Q(D,M)}return new W(P,D)}t.B=function(D){return ae(this,D).h},t.and=function(D){const N=Math.max(this.g.length,D.g.length),R=[];for(let k=0;k<N;k++)R[k]=this.i(k)&D.i(k);return new u(R,this.h&D.h)},t.or=function(D){const N=Math.max(this.g.length,D.g.length),R=[];for(let k=0;k<N;k++)R[k]=this.i(k)|D.i(k);return new u(R,this.h|D.h)},t.xor=function(D){const N=Math.max(this.g.length,D.g.length),R=[];for(let k=0;k<N;k++)R[k]=this.i(k)^D.i(k);return new u(R,this.h^D.h)};function de(D){const N=D.g.length+1,R=[];for(let k=0;k<N;k++)R[k]=D.i(k)<<1|D.i(k-1)>>>31;return new u(R,D.h)}function ce(D,N){const R=N>>5;N%=32;const k=D.g.length-R,P=[];for(let U=0;U<k;U++)P[U]=N>0?D.i(U+R)>>>N|D.i(U+R+1)<<32-N:D.i(U+R);return new u(P,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,jA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ur=u}).apply(typeof mT<"u"?mT:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $A,Eu,QA,Dd,vp,XA,WA,ZA;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var S=0;S<g.length;++S){var w=g[S];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function o(g,S){if(S)e:{var w=i;g=g.split(".");for(var b=0;b<g.length-1;b++){var G=g[b];if(!(G in w))break e;w=w[G]}g=g[g.length-1],b=w[g],S=S(b),S!=b&&S!=null&&e(w,g,{configurable:!0,writable:!0,value:S})}}o("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(g){return g||function(S){var w=[],b;for(b in S)Object.prototype.hasOwnProperty.call(S,b)&&w.push([b,S[b]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function h(g,S,w){return g.call.apply(g.bind,arguments)}function m(g,S,w){return m=h,m.apply(null,arguments)}function v(g,S){var w=Array.prototype.slice.call(arguments,1);return function(){var b=w.slice();return b.push.apply(b,arguments),g.apply(this,b)}}function E(g,S){function w(){}w.prototype=S.prototype,g.Z=S.prototype,g.prototype=new w,g.prototype.constructor=g,g.Ob=function(b,G,j){for(var ue=Array(arguments.length-2),De=2;De<arguments.length;De++)ue[De-2]=arguments[De];return S.prototype[G].apply(b,ue)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function x(g){const S=g.length;if(S>0){const w=Array(S);for(let b=0;b<S;b++)w[b]=g[b];return w}return[]}function L(g,S){for(let b=1;b<arguments.length;b++){const G=arguments[b];var w=typeof G;if(w=w!="object"?w:G?Array.isArray(G)?"array":w:"null",w=="array"||w=="object"&&typeof G.length=="number"){w=g.length||0;const j=G.length||0;g.length=w+j;for(let ue=0;ue<j;ue++)g[w+ue]=G[ue]}else g.push(G)}}class F{constructor(S,w){this.i=S,this.j=w,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function B(g){u.setTimeout(()=>{throw g},0)}function Q(){var g=D;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class X{constructor(){this.h=this.g=null}add(S,w){const b=W.get();b.set(S,w),this.h?this.h.next=b:this.g=b,this.h=b}}var W=new F(()=>new ae,g=>g.reset());class ae{constructor(){this.next=this.g=this.h=null}set(S,w){this.h=S,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ce=!1,D=new X,N=()=>{const g=Promise.resolve(void 0);de=()=>{g.then(R)}};function R(){for(var g;g=Q();){try{g.h.call(g.g)}catch(w){B(w)}var S=W;S.j(g),S.h<100&&(S.h++,g.next=S.g,S.g=g)}ce=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const w=()=>{};u.addEventListener("test",w,S),u.removeEventListener("test",w,S)}catch{}return g})();function M(g){return/^[\s\xa0]*$/.test(g)}function Se(g,S){P.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,S)}E(Se,P),Se.prototype.init=function(g,S){const w=this.type=g.type,b=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget,S||(w=="mouseover"?S=g.fromElement:w=="mouseout"&&(S=g.toElement)),this.relatedTarget=S,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),K=0;function re(g,S,w,b,G){this.listener=g,this.proxy=null,this.src=S,this.type=w,this.capture=!!b,this.ha=G,this.key=++K,this.da=this.fa=!1}function he(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Fe(g,S,w){for(const b in g)S.call(w,g[b],b,g)}function $e(g,S){for(const w in g)S.call(void 0,g[w],w,g)}function q(g){const S={};for(const w in g)S[w]=g[w];return S}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(g,S){let w,b;for(let G=1;G<arguments.length;G++){b=arguments[G];for(w in b)g[w]=b[w];for(let j=0;j<ne.length;j++)w=ne[j],Object.prototype.hasOwnProperty.call(b,w)&&(g[w]=b[w])}}function me(g){this.src=g,this.g={},this.h=0}me.prototype.add=function(g,S,w,b,G){const j=g.toString();g=this.g[j],g||(g=this.g[j]=[],this.h++);const ue=Re(g,S,b,G);return ue>-1?(S=g[ue],w||(S.fa=!1)):(S=new re(S,this.src,j,!!b,G),S.fa=w,g.push(S)),S};function Ce(g,S){const w=S.type;if(w in g.g){var b=g.g[w],G=Array.prototype.indexOf.call(b,S,void 0),j;(j=G>=0)&&Array.prototype.splice.call(b,G,1),j&&(he(S),g.g[w].length==0&&(delete g.g[w],g.h--))}}function Re(g,S,w,b){for(let G=0;G<g.length;++G){const j=g[G];if(!j.da&&j.listener==S&&j.capture==!!w&&j.ha==b)return G}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),wt={};function ht(g,S,w,b,G){if(Array.isArray(S)){for(let j=0;j<S.length;j++)ht(g,S[j],w,b,G);return null}return w=Hs(w),g&&g[Ie]?g.J(S,w,d(b)?!!b.capture:!1,G):Li(g,S,w,!1,b,G)}function Li(g,S,w,b,G,j){if(!S)throw Error("Invalid event type");const ue=d(G)?!!G.capture:!!G;let De=us(g);if(De||(g[Ue]=De=new me(g)),w=De.add(S,w,b,ue,j),w.proxy)return w;if(b=yi(),w.proxy=b,b.src=g,b.listener=w,g.addEventListener)U||(G=ue),G===void 0&&(G=!1),g.addEventListener(S.toString(),b,G);else if(g.attachEvent)g.attachEvent(Sn(S.toString()),b);else if(g.addListener&&g.removeListener)g.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return w}function yi(){function g(w){return S.call(g.src,g.listener,w)}const S=Oi;return g}function _i(g,S,w,b,G){if(Array.isArray(S))for(var j=0;j<S.length;j++)_i(g,S[j],w,b,G);else b=d(b)?!!b.capture:!!b,w=Hs(w),g&&g[Ie]?(g=g.i,j=String(S).toString(),j in g.g&&(S=g.g[j],w=Re(S,w,b,G),w>-1&&(he(S[w]),Array.prototype.splice.call(S,w,1),S.length==0&&(delete g.g[j],g.h--)))):g&&(g=us(g))&&(S=g.g[S.toString()],g=-1,S&&(g=Re(S,w,b,G)),(w=g>-1?S[g]:null)&&Ln(w))}function Ln(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[Ie])Ce(S.i,g);else{var w=g.type,b=g.proxy;S.removeEventListener?S.removeEventListener(w,b,g.capture):S.detachEvent?S.detachEvent(Sn(w),b):S.addListener&&S.removeListener&&S.removeListener(b),(w=us(S))?(Ce(w,g),w.h==0&&(w.src=null,S[Ue]=null)):he(g)}}}function Sn(g){return g in wt?wt[g]:wt[g]="on"+g}function Oi(g,S){if(g.da)g=!0;else{S=new Se(S,this);const w=g.listener,b=g.ha||g.src;g.fa&&Ln(g),g=w.call(b,S)}return g}function us(g){return g=g[Ue],g instanceof me?g:null}var Gs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hs(g){return typeof g=="function"?g:(g[Gs]||(g[Gs]=function(S){return g.handleEvent(S)}),g[Gs])}function xt(){k.call(this),this.i=new me(this),this.M=this,this.G=null}E(xt,k),xt.prototype[Ie]=!0,xt.prototype.removeEventListener=function(g,S,w,b){_i(this,g,S,w,b)};function It(g,S){var w,b=g.G;if(b)for(w=[];b;b=b.G)w.push(b);if(g=g.M,b=S.type||S,typeof S=="string")S=new P(S,g);else if(S instanceof P)S.target=S.target||g;else{var G=S;S=new P(b,g),le(S,G)}G=!0;let j,ue;if(w)for(ue=w.length-1;ue>=0;ue--)j=S.g=w[ue],G=vi(j,b,!0,S)&&G;if(j=S.g=g,G=vi(j,b,!0,S)&&G,G=vi(j,b,!1,S)&&G,w)for(ue=0;ue<w.length;ue++)j=S.g=w[ue],G=vi(j,b,!1,S)&&G}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var g=this.i;for(const S in g.g){const w=g.g[S];for(let b=0;b<w.length;b++)he(w[b]);delete g.g[S],g.h--}}this.G=null},xt.prototype.J=function(g,S,w,b){return this.i.add(String(g),S,!1,w,b)},xt.prototype.K=function(g,S,w,b){return this.i.add(String(g),S,!0,w,b)};function vi(g,S,w,b){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();let G=!0;for(let j=0;j<S.length;++j){const ue=S[j];if(ue&&!ue.da&&ue.capture==w){const De=ue.listener,Nt=ue.ha||ue.src;ue.fa&&Ce(g.i,ue),G=De.call(Nt,b)!==!1&&G}}return G&&!b.defaultPrevented}function Ys(g,S){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=m(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(g,S||0)}function Wo(g){g.g=Ys(()=>{g.g=null,g.i&&(g.i=!1,Wo(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class jt extends k{constructor(S,w){super(),this.m=S,this.l=w,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(g){k.call(this),this.h=g,this.g={}}E(qi,k);var Ks=[];function Zr(g){Fe(g.g,function(S,w){this.g.hasOwnProperty(w)&&Ln(S)},g),g.g={}}qi.prototype.N=function(){qi.Z.N.call(this),Zr(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=u.JSON.stringify,Zo=u.JSON.parse,eo=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function to(){}function no(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vt(){P.call(this,"d")}E(Vt,P);function pn(){P.call(this,"c")}E(pn,P);var Et={},ea=null;function cs(){return ea=ea||new xt}Et.Ia="serverreachability";function io(g){P.call(this,Et.Ia,g)}E(io,P);function Wn(g){const S=cs();It(S,new io(S))}Et.STAT_EVENT="statevent";function ds(g,S){P.call(this,Et.STAT_EVENT,g),this.stat=S}E(ds,P);function pt(g){const S=cs();It(S,new ds(S,g))}Et.Ja="timingevent";function An(g,S){P.call(this,Et.Ja,g),this.size=S}E(An,P);function Zn(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},S)}function Cn(){this.g=!0}Cn.prototype.ua=function(){this.g=!1};function ta(g,S,w,b,G,j){g.info(function(){if(g.g)if(j){var ue="",De=j.split("&");for(let et=0;et<De.length;et++){var Nt=De[et].split("=");if(Nt.length>1){const St=Nt[0];Nt=Nt[1];const si=St.split("_");ue=si.length>=2&&si[1]=="type"?ue+(St+"="+Nt+"&"):ue+(St+"=redacted&")}}}else ue=null;else ue=j;return"XMLHTTP REQ ("+b+") [attempt "+G+"]: "+S+`
`+w+`
`+ue})}function na(g,S,w,b,G,j,ue){g.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+G+"]: "+S+`
`+w+`
`+j+" "+ue})}function qn(g,S,w,b){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+_l(g,w)+(b?" "+b:"")})}function fs(g,S){g.info(function(){return"TIMEOUT: "+S})}Cn.prototype.info=function(){};function _l(g,S){if(!g.g)return S;if(!S)return null;try{const j=JSON.parse(S);if(j){for(g=0;g<j.length;g++)if(Array.isArray(j[g])){var w=j[g];if(!(w.length<2)){var b=w[1];if(Array.isArray(b)&&!(b.length<1)){var G=b[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<b.length;ue++)b[ue]=""}}}}return Ti(j)}catch{return S}}var Fi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Js={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},js;function hs(){}E(hs,to),hs.prototype.g=function(){return new XMLHttpRequest},js=new hs;function Ei(g){return encodeURIComponent(String(g))}function so(g){var S=1;g=g.split(":");const w=[];for(;S>0&&g.length;)w.push(g.shift()),S--;return g.length&&w.push(g.join(":")),w}function Fn(g,S,w,b){this.j=g,this.i=S,this.l=w,this.S=b||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gn}function gn(){this.i=null,this.g="",this.h=!1}var it={},Ut={};function ei(g,S,w){g.M=1,g.A=oo(Lt(S)),g.u=w,g.R=!0,$s(g,null)}function $s(g,S){g.F=Date.now(),ti(g),g.B=Lt(g.A);var w=g.B,b=g.S;Array.isArray(b)||(b=[String(b)]),oa(w.i,"t",b),g.C=0,w=g.j.L,g.h=new gn,g.g=hc(g.j,w?S:null,!g.u),g.P>0&&(g.O=new jt(m(g.Y,g,g.g),g.P)),S=g.V,w=g.g,b=g.ba;var G="readystatechange";Array.isArray(G)||(G&&(Ks[0]=G.toString()),G=Ks);for(let j=0;j<G.length;j++){const ue=ht(w,G[j],b||S.handleEvent,!1,S.h||S);if(!ue)break;S.g[ue.key]=ue}S=g.J?q(g.J):{},g.u?(g.v||(g.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,S)):(g.v="GET",g.g.ea(g.B,g.v,null,S)),Wn(),ta(g.i,g.v,g.B,g.l,g.S,g.u)}Fn.prototype.ba=function(g){g=g.target;const S=this.O;S&&Ci(g)==3?S.j():this.Y(g)},Fn.prototype.Y=function(g){try{if(g==this.g)e:{const De=Ci(this.g),Nt=this.g.ya(),et=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||De!=4||Nt==7||(Nt==8||et<=0?Wn(3):Wn(2)),Bn(this);var S=this.g.ca();this.X=S;var w=vl(this);if(this.o=S==200,na(this.i,this.v,this.B,this.l,this.S,De,S),this.o){if(this.U&&!this.L){t:{if(this.g){var b,G=this.g;if((b=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(b)){var j=b;break t}}j=null}if(g=j)qn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qe(this,g);else{this.o=!1,this.m=3,pt(12),je(this),ye(this);break e}}if(this.R){g=!0;let St;for(;!this.K&&this.C<w.length;)if(St=ro(this,w),St==Ut){De==4&&(this.m=4,pt(14),g=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(St==it){this.m=4,pt(15),qn(this.i,this.l,w,"[Invalid Chunk]"),g=!1;break}else qn(this.i,this.l,St,null),Qe(this,St);if(ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||w.length!=0||this.h.h||(this.m=1,pt(16),g=!1),this.o=this.o&&g,!g)qn(this.i,this.l,w,"[Invalid Chunked Response]"),je(this),ye(this);else if(w.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Dl(ue),ue.P=!0,pt(11))}}else qn(this.i,this.l,w,null),Qe(this,w);De==4&&je(this),this.o&&!this.K&&(De==4?uc(this.j,this):(this.o=!1,ti(this)))}else gs(this.g),S==400&&w.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),je(this),ye(this)}}}catch{}finally{}};function vl(g){if(!ia(g))return g.g.la();const S=Wt(g.g);if(S==="")return"";let w="";const b=S.length,G=Ci(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return je(g),ye(g),"";g.h.i=new u.TextDecoder}for(let j=0;j<b;j++)g.h.h=!0,w+=g.h.i.decode(S[j],{stream:!(G&&j==b-1)});return S.length=0,g.h.g+=w,g.C=0,g.h.g}function ia(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function ro(g,S){var w=g.C,b=S.indexOf(`
`,w);return b==-1?Ut:(w=Number(S.substring(w,b)),isNaN(w)?it:(b+=1,b+w>S.length?Ut:(S=S.slice(b,b+w),g.C=b+w,S)))}Fn.prototype.cancel=function(){this.K=!0,je(this)};function ti(g){g.T=Date.now()+g.H,ms(g,g.H)}function ms(g,S){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Zn(m(g.aa,g),S)}function Bn(g){g.D&&(u.clearTimeout(g.D),g.D=null)}Fn.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(fs(this.i,this.B),this.M!=2&&(Wn(),pt(17)),je(this),this.m=2,ye(this)):ms(this,this.T-g)};function ye(g){g.j.I==0||g.K||uc(g.j,g)}function je(g){Bn(g);var S=g.O;S&&typeof S.dispose=="function"&&S.dispose(),g.O=null,Zr(g.V),g.g&&(S=g.g,g.g=null,S.abort(),S.dispose())}function Qe(g,S){try{var w=g.j;if(w.I!=0&&(w.g==g||Bi(w.h,g))){if(!g.L&&Bi(w.h,g)&&w.I==3){try{var b=w.Ba.g.parse(S)}catch{b=null}if(Array.isArray(b)&&b.length==3){var G=b;if(G[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<g.F)da(w),ir(w);else break e;mo(w),pt(18)}}else w.xa=G[1],0<w.xa-w.K&&G[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Zn(m(w.Va,w),6e3));xn(w.h)<=1&&w.ta&&(w.ta=void 0)}else Ji(w,11)}else if((g.L||w.g==g)&&da(w),!M(S))for(G=w.Ba.g.parse(S),S=0;S<G.length;S++){let et=G[S];const St=et[0];if(!(St<=w.K))if(w.K=St,et=et[1],w.I==2)if(et[0]=="c"){w.M=et[1],w.ba=et[2];const si=et[3];si!=null&&(w.ka=si,w.j.info("VER="+w.ka));const ji=et[4];ji!=null&&(w.za=ji,w.j.info("SVER="+w.za));const wi=et[5];wi!=null&&typeof wi=="number"&&wi>0&&(b=1.5*wi,w.O=b,w.j.info("backChannelRequestTimeoutMs_="+b)),b=w;const xi=g.g;if(xi){const po=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var j=b.h;j.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Tl(j,j.h),j.h=null))}if(b.G){const fa=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(b.wa=fa,st(b.J,b.G,fa))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-g.F,w.j.info("Handshake RTT: "+w.T+"ms")),b=w;var ue=g;if(b.na=fc(b,b.L?b.ba:null,b.W),ue.L){El(b.h,ue);var De=ue,Nt=b.O;Nt&&(De.H=Nt),De.D&&(Bn(De),ti(De)),b.g=ue}else ac(b);w.i.length>0&&Ki(w)}else et[0]!="stop"&&et[0]!="close"||Ji(w,7);else w.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Ji(w,7):Nl(w):et[0]!="noop"&&w.l&&w.l.qa(et),w.A=0)}}Wn(4)}catch{}}var Ve=class{constructor(g,S){this.g=g,this.map=S}};function yn(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function xn(g){return g.h?1:g.g?g.g.size:0}function Bi(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function Tl(g,S){g.g?g.g.add(S):g.h=S}function El(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}yn.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Sl(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const w of g.g.values())S=S.concat(w.G);return S}return x(g.i)}var tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(g,S){if(g){g=g.split("&");for(let w=0;w<g.length;w++){const b=g[w].indexOf("=");let G,j=null;b>=0?(G=g[w].substring(0,b),j=g[w].substring(b+1)):G=g[w],S(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function zn(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;g instanceof zn?(this.l=g.l,$t(this,g.j),this.o=g.o,this.g=g.g,Qs(this,g.u),this.h=g.h,Al(this,rc(g.i)),this.m=g.m):g&&(S=String(g).match(tc))?(this.l=!1,$t(this,S[1]||"",!0),this.o=zi(S[2]||""),this.g=zi(S[3]||"",!0),Qs(this,S[4]),this.h=zi(S[5]||"",!0),Al(this,S[6]||"",!0),this.m=zi(S[7]||"")):(this.l=!1,this.i=new Ws(null,this.l))}zn.prototype.toString=function(){const g=[];var S=this.j;S&&g.push(ao(S,ra,!0),":");var w=this.g;return(w||S=="file")&&(g.push("//"),(S=this.o)&&g.push(ao(S,ra,!0),"@"),g.push(Ei(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&g.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&g.push("/"),g.push(ao(w,w.charAt(0)=="/"?Cl:nc,!0))),(w=this.i.toString())&&g.push("?",w),(w=this.m)&&g.push("#",ao(w,ic)),g.join("")},zn.prototype.resolve=function(g){const S=Lt(this);let w=!!g.j;w?$t(S,g.j):w=!!g.o,w?S.o=g.o:w=!!g.g,w?S.g=g.g:w=g.u!=null;var b=g.h;if(w)Qs(S,g.u);else if(w=!!g.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var G=S.h.lastIndexOf("/");G!=-1&&(b=S.h.slice(0,G+1)+b)}if(G=b,G==".."||G==".")b="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){b=G.lastIndexOf("/",0)==0,G=G.split("/");const j=[];for(let ue=0;ue<G.length;){const De=G[ue++];De=="."?b&&ue==G.length&&j.push(""):De==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),b&&ue==G.length&&j.push("")):(j.push(De),b=!0)}b=j.join("/")}else b=G}return w?S.h=b:w=g.i.toString()!=="",w?Al(S,rc(g.i)):w=!!g.m,w&&(S.m=g.m),S};function Lt(g){return new zn(g)}function $t(g,S,w){g.j=w?zi(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function Qs(g,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);g.u=S}else g.u=null}function Al(g,S,w){S instanceof Ws?(g.i=S,aa(g.i,g.l)):(w||(S=ao(S,Xs)),g.i=new Ws(S,g.l))}function st(g,S,w){g.i.set(S,w)}function oo(g){return st(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function zi(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ao(g,S,w){return typeof g=="string"?(g=encodeURI(g).replace(S,In),w&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function In(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var ra=/[#\/\?@]/g,nc=/[#\?:]/g,Cl=/[#\?]/g,Xs=/[#\?@]/g,ic=/#/g;function Ws(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function Rn(g){g.g||(g.g=new Map,g.h=0,g.i&&sa(g.i,function(S,w){g.add(decodeURIComponent(S.replace(/\+/g," ")),w)}))}t=Ws.prototype,t.add=function(g,S){Rn(this),this.i=null,g=Zs(this,g);let w=this.g.get(g);return w||this.g.set(g,w=[]),w.push(S),this.h+=1,this};function sc(g,S){Rn(g),S=Zs(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function wl(g,S){return Rn(g),S=Zs(g,S),g.g.has(S)}t.forEach=function(g,S){Rn(this),this.g.forEach(function(w,b){w.forEach(function(G){g.call(S,G,b,this)},this)},this)};function xl(g,S){Rn(g);let w=[];if(typeof S=="string")wl(g,S)&&(w=w.concat(g.g.get(Zs(g,S))));else for(g=Array.from(g.g.values()),S=0;S<g.length;S++)w=w.concat(g[S]);return w}t.set=function(g,S){return Rn(this),this.i=null,g=Zs(this,g),wl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},t.get=function(g,S){return g?(g=xl(this,g),g.length>0?String(g[0]):S):S};function oa(g,S,w){sc(g,S),w.length>0&&(g.i=null,g.g.set(Zs(g,S),x(w)),g.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(let b=0;b<S.length;b++){var w=S[b];const G=Ei(w);w=xl(this,w);for(let j=0;j<w.length;j++){let ue=G;w[j]!==""&&(ue+="="+Ei(w[j])),g.push(ue)}}return this.i=g.join("&")};function rc(g){const S=new Ws;return S.i=g.i,g.g&&(S.g=new Map(g.g),S.h=g.h),S}function Zs(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function aa(g,S){S&&!g.j&&(Rn(g),g.i=null,g.g.forEach(function(w,b){const G=b.toLowerCase();b!=G&&(sc(this,b),oa(this,G,w))},g)),g.j=S}function Si(g,S){const w=new Cn;if(u.Image){const b=new Image;b.onload=v(ni,w,"TestLoadImage: loaded",!0,S,b),b.onerror=v(ni,w,"TestLoadImage: error",!1,S,b),b.onabort=v(ni,w,"TestLoadImage: abort",!1,S,b),b.ontimeout=v(ni,w,"TestLoadImage: timeout",!1,S,b),u.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=g}else S(!1)}function Il(g,S){const w=new Cn,b=new AbortController,G=setTimeout(()=>{b.abort(),ni(w,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:b.signal}).then(j=>{clearTimeout(G),j.ok?ni(w,"TestPingServer: ok",!0,S):ni(w,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(G),ni(w,"TestPingServer: error",!1,S)})}function ni(g,S,w,b,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),b(w)}catch{}}function er(){this.g=new eo}function Gi(g){this.i=g.Sb||null,this.h=g.ab||!1}E(Gi,to),Gi.prototype.g=function(){return new lo(this.i,this.h)};function lo(g,S){xt.call(this),this.H=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(lo,xt),t=lo.prototype,t.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=S,this.readyState=1,Ai(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(S.body=g),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?tr(this):Ai(this),this.readyState==3&&la(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,tr(this))},t.Na=function(g){this.g&&(this.response=g,tr(this))},t.ga=function(){this.g&&tr(this)};function tr(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Ai(g)}t.setRequestHeader=function(g,S){this.A.append(g,S)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var w=S.next();!w.done;)w=w.value,g.push(w[0]+": "+w[1]),w=S.next();return g.join(`\r
`)};function Ai(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ii(g){let S="";return Fe(g,function(w,b){S+=b,S+=":",S+=w,S+=`\r
`}),S}function uo(g,S,w){e:{for(b in w){var b=!1;break e}b=!0}b||(w=ii(w),typeof g=="string"?w!=null&&Ei(w):st(g,S,w))}function at(g){xt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(at,xt);var Hi=/^https?$/i,Rl=["POST","PUT"];t=at.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,S,w,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():js.g(),this.g.onreadystatechange=A(m(this.Ca,this));try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(j){co(this,j);return}if(g=w||"",w=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var G in b)w.set(G,b[G]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())w.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(w.keys()).find(j=>j.toLowerCase()=="content-type"),G=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(Rl,S,void 0)>=0)||b||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ue]of w)this.g.setRequestHeader(j,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(j){co(this,j)}};function co(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.o=5,bl(g),ps(g)}function bl(g){g.A||(g.A=!0,It(g,"complete"),It(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,It(this,"complete"),It(this,"abort"),ps(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fo(this):this.Xa())},t.Xa=function(){fo(this)};function fo(g){if(g.h&&typeof a<"u"){if(g.v&&Ci(g)==4)setTimeout(g.Ca.bind(g),0);else if(It(g,"readystatechange"),Ci(g)==4){g.h=!1;try{const j=g.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var w;if(!(w=S)){var b;if(b=j===0){let ue=String(g.D).match(tc)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),b=!Hi.test(ue?ue.toLowerCase():"")}w=b}if(w)It(g,"complete"),It(g,"success");else{g.o=6;try{var G=Ci(g)>2?g.g.statusText:""}catch{G=""}g.l=G+" ["+g.ca()+"]",bl(g)}}finally{ps(g)}}}}function ps(g,S){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const w=g.g;g.g=null,S||It(g,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ci(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),Zo(S)}};function Wt(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(g){const S={};g=(g.g&&Ci(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<g.length;b++){if(M(g[b]))continue;var w=so(g[b]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const j=S[G]||[];S[G]=j,j.push(w)}$e(S,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(g,S,w){return w&&w.internalChannelParams&&w.internalChannelParams[g]||S}function nr(g){this.za=0,this.i=[],this.j=new Cn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yi("baseRetryDelayMs",5e3,g),this.Za=Yi("retryDelaySeedMs",1e4,g),this.Ta=Yi("forwardChannelMaxRetries",2,g),this.va=Yi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new yn(g&&g.concurrentRequestLimit),this.Ba=new er,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nr.prototype,t.ka=8,t.I=1,t.connect=function(g,S,w,b){pt(0),this.W=g,this.H=S||{},w&&b!==void 0&&(this.H.OSID=w,this.H.OAID=b),this.F=this.X,this.J=fc(this,null,this.W),Ki(this)};function Nl(g){if(ua(g),g.I==3){var S=g.V++,w=Lt(g.J);if(st(w,"SID",g.M),st(w,"RID",S),st(w,"TYPE","terminate"),ho(g,w),S=new Fn(g,g.j,S),S.M=2,S.A=oo(Lt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=S.A,w=!0),w||(S.g=hc(S.j,null),S.g.ea(S.A)),S.F=Date.now(),ti(S)}dc(g)}function ir(g){g.g&&(Dl(g),g.g.cancel(),g.g=null)}function ua(g){ir(g),g.v&&(u.clearTimeout(g.v),g.v=null),da(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function Ki(g){if(!wn(g.h)&&!g.m){g.m=!0;var S=g.Ea;de||N(),ce||(de(),ce=!0),D.add(S,g),g.D=0}}function ca(g,S){return xn(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=S.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Zn(m(g.Ea,g,S),cc(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const G=new Fn(this,this.j,g);let j=this.o;if(this.U&&(j?(j=q(j),le(j,this.U)):j=this.U),this.u!==null||this.R||(G.J=j,j=null),this.S)e:{for(var S=0,w=0;w<this.i.length;w++){t:{var b=this.i[w];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(S+=b,S>4096){S=w;break e}if(S===4096||w===this.i.length-1){S=w+1;break e}}S=1e3}else S=1e3;S=oc(this,G,S),w=Lt(this.J),st(w,"RID",g),st(w,"CVER",22),this.G&&st(w,"X-HTTP-Session-Id",this.G),ho(this,w),j&&(this.R?S="headers="+Ei(ii(j))+"&"+S:this.u&&uo(w,this.u,j)),Tl(this.h,G),this.Ra&&st(w,"TYPE","init"),this.S?(st(w,"$req",S),st(w,"SID","null"),G.U=!0,ei(G,w,null)):ei(G,w,S),this.I=2}}else this.I==3&&(g?Ml(this,g):this.i.length==0||wn(this.h)||Ml(this))};function Ml(g,S){var w;S?w=S.l:w=g.V++;const b=Lt(g.J);st(b,"SID",g.M),st(b,"RID",w),st(b,"AID",g.K),ho(g,b),g.u&&g.o&&uo(b,g.u,g.o),w=new Fn(g,g.j,w,g.D+1),g.u===null&&(w.J=g.o),S&&(g.i=S.G.concat(g.i)),S=oc(g,w,1e3),w.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Tl(g.h,w),ei(w,b,S)}function ho(g,S){g.H&&Fe(g.H,function(w,b){st(S,b,w)}),g.l&&Fe({},function(w,b){st(S,b,w)})}function oc(g,S,w){w=Math.min(g.i.length,w);const b=g.l?m(g.l.Ka,g.l,g):null;e:{var G=g.i;let De=-1;for(;;){const Nt=["count="+w];De==-1?w>0?(De=G[0].g,Nt.push("ofs="+De)):De=0:Nt.push("ofs="+De);let et=!0;for(let St=0;St<w;St++){var j=G[St].g;const si=G[St].map;if(j-=De,j<0)De=Math.max(0,G[St].g-100),et=!1;else try{j="req"+j+"_"||"";try{var ue=si instanceof Map?si:Object.entries(si);for(const[ji,wi]of ue){let xi=wi;d(wi)&&(xi=Ti(wi)),Nt.push(j+ji+"="+encodeURIComponent(xi))}}catch(ji){throw Nt.push(j+"type="+encodeURIComponent("_badmap")),ji}}catch{b&&b(si)}}if(et){ue=Nt.join("&");break e}}ue=void 0}return g=g.i.splice(0,w),S.G=g,ue}function ac(g){if(!g.g&&!g.v){g.Y=1;var S=g.Da;de||N(),ce||(de(),ce=!0),D.add(S,g),g.A=0}}function mo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Zn(m(g.Da,g),cc(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Zn(m(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),ir(this),lc(this))};function Dl(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function lc(g){g.g=new Fn(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var S=Lt(g.na);st(S,"RID","rpc"),st(S,"SID",g.M),st(S,"AID",g.K),st(S,"CI",g.F?"0":"1"),!g.F&&g.ia&&st(S,"TO",g.ia),st(S,"TYPE","xmlhttp"),ho(g,S),g.u&&g.o&&uo(S,g.u,g.o),g.O&&(g.g.H=g.O);var w=g.g;g=g.ba,w.M=1,w.A=oo(Lt(S)),w.u=null,w.R=!0,$s(w,g)}t.Va=function(){this.C!=null&&(this.C=null,ir(this),mo(this),pt(19))};function da(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function uc(g,S){var w=null;if(g.g==S){da(g),Dl(g),g.g=null;var b=2}else if(Bi(g.h,S))w=S.G,El(g.h,S),b=1;else return;if(g.I!=0){if(S.o)if(b==1){w=S.u?S.u.length:0,S=Date.now()-S.F;var G=g.D;b=cs(),It(b,new An(b,w)),Ki(g)}else ac(g);else if(G=S.m,G==3||G==0&&S.X>0||!(b==1&&ca(g,S)||b==2&&mo(g)))switch(w&&w.length>0&&(S=g.h,S.i=S.i.concat(w)),G){case 1:Ji(g,5);break;case 4:Ji(g,10);break;case 3:Ji(g,6);break;default:Ji(g,2)}}}function cc(g,S){let w=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(w*=2),w*S}function Ji(g,S){if(g.j.info("Error code "+S),S==2){var w=m(g.bb,g),b=g.Ua;const G=!b;b=new zn(b||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||$t(b,"https"),oo(b),G?Si(b.toString(),w):Il(b.toString(),w)}else pt(2);g.I=0,g.l&&g.l.pa(S),dc(g),ua(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function dc(g){if(g.I=0,g.ja=[],g.l){const S=Sl(g.h);(S.length!=0||g.i.length!=0)&&(L(g.ja,S),L(g.ja,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.oa()}}function fc(g,S,w){var b=w instanceof zn?Lt(w):new zn(w);if(b.g!="")S&&(b.g=S+"."+b.g),Qs(b,b.u);else{var G=u.location;b=G.protocol,S=S?S+"."+G.hostname:G.hostname,G=+G.port;const j=new zn(null);b&&$t(j,b),S&&(j.g=S),G&&Qs(j,G),w&&(j.h=w),b=j}return w=g.G,S=g.wa,w&&S&&st(b,w,S),st(b,"VER",g.ka),ho(g,b),b}function hc(g,S,w){if(S&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Aa&&!g.ma?new at(new Gi({ab:w})):new at(g.ma),S.Fa(g.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}t=mc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sr(){}sr.prototype.g=function(g,S){return new _n(g,S)};function _n(g,S){xt.call(this),this.g=new nr(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(g?g["X-WebChannel-Client-Profile"]=S.sa:g={"X-WebChannel-Client-Profile":S.sa}),this.g.U=g,(g=S&&S.Qb)&&!M(g)&&(this.g.u=g),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!M(S)&&(this.g.G=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new ys(this)}E(_n,xt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Nl(this.g)},_n.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var w={};w.__data__=g,g=w}else this.v&&(w={},w.__data__=Ti(g),g=w);S.i.push(new Ve(S.Ya++,g)),S.I==3&&Ki(S)},_n.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,_n.Z.N.call(this)};function pc(g){Vt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const w in S){g=w;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}E(pc,Vt);function gc(){pn.call(this),this.status=1}E(gc,pn);function ys(g){this.g=g}E(ys,mc),ys.prototype.ra=function(){It(this.g,"a")},ys.prototype.qa=function(g){It(this.g,new pc(g))},ys.prototype.pa=function(g){It(this.g,new gc)},ys.prototype.oa=function(){It(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,ZA=function(){return new sr},WA=function(){return cs()},XA=Et,vp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,Dd=Fi,Js.COMPLETE="complete",QA=Js,no.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Eu=no,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,$A=at}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const pT="@firebase/firestore",gT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new yf("@firebase/firestore");function za(){return Fo.logLevel}function pe(t,...e){if(Fo.logLevel<=Ge.DEBUG){const n=e.map(cg);Fo.debug(`Firestore (${dl}): ${t}`,...n)}}function Os(t,...e){if(Fo.logLevel<=Ge.ERROR){const n=e.map(cg);Fo.error(`Firestore (${dl}): ${t}`,...n)}}function nl(t,...e){if(Fo.logLevel<=Ge.WARN){const n=e.map(cg);Fo.warn(`Firestore (${dl}): ${t}`,...n)}}function cg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,eC(t,i,n)}function eC(t,e,n){let i=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Os(i),new Error(i)}function nt(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||eC(e,o,i)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class yM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _M{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let i=this.i;const o=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Lr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},d=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Lr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt(typeof i.accessToken=="string",31837,{l:i}),new tC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class vM{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TM{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new vM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const i=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=SM(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function He(t,e){return t<e?-1:t>e?1:0}function Tp(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return Xm(o)===Xm(a)?He(o,a):Xm(o)?1:-1}return He(t.length,e.length)}const AM=55296,CM=57343;function Xm(t){const e=t.charCodeAt(0);return e>=AM&&e<=CM}function il(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="__name__";class Zi{constructor(e,n,i){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&xe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=Zi.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return He(e.length,n.length)}static compareSegments(e,n){const i=Zi.isNumericId(e),o=Zi.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):Tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}}class vt extends Zi{construct(e,n,i){return new vt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const wM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Zi{construct(e,n,i){return new rn(e,n,i)}static isValidIdentifier(e){return wM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_T}static keyField(){return new rn([_T])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(i+=d,o++):(a(),o++)}if(a(),u)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(vt.fromString(e))}static fromName(e){return new Ee(vt.fromString(e).popFirst(5))}static empty(){return new Ee(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xM(t,e,n,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vT(t){if(!Ee.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TT(t){if(Ee.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fg(t);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ju(t,e){if(!iC(t))throw new ve(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new ve(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=-62135596800,ST=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*ST);return new Tt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ET)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ST}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ju(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ET;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Gt("string",Tt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Tt(0,0))}static max(){return new be(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function IM(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new Fr(o,Ee.empty(),e)}function RM(t){return new Fr(t.readTime,t.key,Uu)}class Fr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Fr(be.min(),Ee.empty(),Uu)}static max(){return new Fr(be.max(),Ee.empty(),Uu)}}function bM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==NM)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,i)=>{n(e)}))}static reject(e){return new se(((n,i)=>{i(e)}))}static waitFor(e){return new se(((n,i)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&n()}),(h=>i(h)))})),u=!0,a===o&&n()}))}static or(e){let n=se.resolve(!1);for(const i of e)n=n.next((o=>o?se.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,a)=>{i.push(n.call(this,o,a))})),this.waitFor(i)}static mapArray(e,n){return new se(((i,o)=>{const a=e.length,u=new Array(a);let d=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next((v=>{u[m]=v,++d,d===a&&i(u)}),(v=>o(v)))}}))}static doWhile(e,n){return new se(((i,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):i()};a()}))}}function DM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-1;function Sf(t){return t==null}function jd(t){return t===0&&1/t==-1/0}function PM(t){return typeof t=="number"&&Number.isInteger(t)&&!jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="";function kM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AT(e)),e=VM(t.get(n),e);return AT(e)}function VM(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case sC:n+="";break;default:n+=a}}return n}function AT(t){return t+sC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sd(this.root,e,this.comparator,!0)}}class Sd{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??sn.RED,this.left=o??sn.EMPTY,this.right=a??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new sn(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wT(this.data.getIterator())}getIteratorFrom(e){return new wT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class wT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Jt(rn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oC("Invalid base64 string: "+a):a}})(e);return new on(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const UM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=UM.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="server_timestamp",lC="__type__",uC="__previous_value__",cC="__local_write_time__";function mg(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lC])==null?void 0:i.stringValue)===aC}function Af(t){const e=t.mapValue.fields[uC];return mg(e)?Af(e):e}function Lu(t){const e=Br(t.mapValue.fields[cC].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,i,o,a,u,d,h,m,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=v}}const $d="(default)";class Ou{constructor(e,n){this.projectId=e,this.database=n||$d}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===$d}isEqual(e){return e instanceof Ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="__type__",OM="__max__",Ad={mapValue:{}},fC="__vector__",Qd="value";function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mg(t)?4:FM(t)?9007199254740991:qM(t)?10:11:xe(28295,{value:t})}function as(t,e){if(t===e)return!0;const n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lu(t).isEqual(Lu(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Br(o.timestampValue),d=Br(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return zr(o.bytesValue).isEqual(zr(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Pt(o.geoPointValue.latitude)===Pt(a.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Pt(o.integerValue)===Pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Pt(o.doubleValue),d=Pt(a.doubleValue);return u===d?jd(u)===jd(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return il(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(CT(u)!==CT(d))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(d[h]===void 0||!as(u[h],d[h])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function qu(t,e){return(t.values||[]).find((n=>as(n,e)))!==void 0}function sl(t,e){if(t===e)return 0;const n=Gr(t),i=Gr(e);if(n!==i)return He(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=Pt(a.integerValue||a.doubleValue),h=Pt(u.integerValue||u.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return xT(t.timestampValue,e.timestampValue);case 4:return xT(Lu(t),Lu(e));case 5:return Tp(t.stringValue,e.stringValue);case 6:return(function(a,u){const d=zr(a),h=zr(u);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),h=u.split("/");for(let m=0;m<d.length&&m<h.length;m++){const v=He(d[m],h[m]);if(v!==0)return v}return He(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=He(Pt(a.latitude),Pt(u.latitude));return d!==0?d:He(Pt(a.longitude),Pt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return IT(t.arrayValue,e.arrayValue);case 10:return(function(a,u){var A,x,L,F;const d=a.fields||{},h=u.fields||{},m=(A=d[Qd])==null?void 0:A.arrayValue,v=(x=h[Qd])==null?void 0:x.arrayValue,E=He(((L=m==null?void 0:m.values)==null?void 0:L.length)||0,((F=v==null?void 0:v.values)==null?void 0:F.length)||0);return E!==0?E:IT(m,v)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Ad.mapValue&&u===Ad.mapValue)return 0;if(a===Ad.mapValue)return 1;if(u===Ad.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),m=u.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let E=0;E<h.length&&E<v.length;++E){const A=Tp(h[E],v[E]);if(A!==0)return A;const x=sl(d[h[E]],m[v[E]]);if(x!==0)return x}return He(h.length,v.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function xT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Br(t),i=Br(e),o=He(n.seconds,i.seconds);return o!==0?o:He(n.nanos,i.nanos)}function IT(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=sl(n[o],i[o]);if(a)return a}return He(n.length,i.length)}function rl(t){return Ep(t)}function Ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Br(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return zr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Ep(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Ep(n.fields[u])}`;return o+"}"})(t.mapValue):xe(61005,{value:t})}function Pd(t){switch(Gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(t);return e?16+Pd(e):16;case 5:return 2*t.stringValue.length;case 6:return zr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+Pd(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return $r(i.fields,((a,u)=>{o+=a.length+Pd(u)})),o})(t.mapValue);default:throw xe(13486,{value:t})}}function Sp(t){return!!t&&"integerValue"in t}function pg(t){return!!t&&"arrayValue"in t}function RT(t){return!!t&&"nullValue"in t}function bT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kd(t){return!!t&&"mapValue"in t}function qM(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dC])==null?void 0:i.stringValue)===fC}function Iu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Iu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Iu(t.arrayValue.values[n]);return e}return{...t}}function FM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Iu(n)}setAll(e){let n=rn.emptyPath(),i={},o=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,i,o),i={},o=[],n=d.popLast()}u?i[d.lastSegment()]=Iu(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];kd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){$r(n,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new Vn(Iu(this.value))}}function hC(t){const e=[];return $r(t.fields,((n,i)=>{const o=new rn([n]);if(kd(i)){const a=hC(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,i,o,a,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,be.min(),be.min(),be.min(),Vn.empty(),0)}static newFoundDocument(e,n,i,o){return new fn(e,1,n,be.min(),i,o,0)}static newNoDocument(e,n){return new fn(e,2,n,be.min(),be.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,be.min(),be.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.position=e,this.inclusive=n}}function NT(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=Ee.comparator(Ee.fromName(u.referenceValue),n.key):i=sl(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function MT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function BM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{}class Kt extends mC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new GM(e,n,i):n==="array-contains"?new KM(e,i):n==="in"?new JM(e,i):n==="not-in"?new jM(e,i):n==="array-contains-any"?new $M(e,i):new Kt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new HM(e,i):new YM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sl(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ls extends mC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ls(e,n)}matches(e){return pC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pC(t){return t.op==="and"}function gC(t){return zM(t)&&pC(t)}function zM(t){for(const e of t.filters)if(e instanceof ls)return!1;return!0}function Ap(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(gC(t))return t.filters.map((e=>Ap(e))).join(",");{const e=t.filters.map((n=>Ap(n))).join(",");return`${t.op}(${e})`}}function yC(t,e){return t instanceof Kt?(function(i,o){return o instanceof Kt&&i.op===o.op&&i.field.isEqual(o.field)&&as(i.value,o.value)})(t,e):t instanceof ls?(function(i,o){return o instanceof ls&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,u,d)=>a&&yC(u,o.filters[d])),!0):!1})(t,e):void xe(19439)}function _C(t){return t instanceof Kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`})(t):t instanceof ls?(function(n){return n.op.toString()+" {"+n.getFilters().map(_C).join(" ,")+"}"})(t):"Filter"}class GM extends Kt{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class HM extends Kt{constructor(e,n){super(e,"in",n),this.keys=vC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YM extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=vC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Ee.fromName(i.referenceValue)))}class KM extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pg(n)&&qu(n.arrayValue,this.value)}}class JM extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class jM extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qu(this.value.arrayValue,n)}}class $M extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>qu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n=null,i=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function DT(t,e=null,n=[],i=[],o=null,a=null,u=null){return new QM(t,e,n,i,o,a,u)}function gg(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Ap(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>rl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>rl(i))).join(",")),e.Te=n}return e.Te}function yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MT(t.startAt,e.startAt)&&MT(t.endAt,e.endAt)}function Cp(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n=null,i=[],o=[],a=null,u="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XM(t,e,n,i,o,a,u,d){return new Cf(t,e,n,i,o,a,u,d)}function _g(t){return new Cf(t)}function PT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WM(t){return t.collectionGroup!==null}function Ru(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Jt(rn.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Wd(a,i))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new Wd(rn.keyField(),i))}return e.Ie}function ns(t){const e=Me(t);return e.Ee||(e.Ee=ZM(e,Ru(t))),e.Ee}function ZM(t,e){if(t.limitType==="F")return DT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Wd(o.field,a)}));const n=t.endAt?new Xd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Xd(t.startAt.position,t.startAt.inclusive):null;return DT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function wp(t,e,n){return new Cf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wf(t,e){return yg(ns(t),ns(e))&&t.limitType===e.limitType}function TC(t){return`${gg(ns(t))}|lt:${t.limitType}`}function Ga(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>_C(o))).join(", ")}]`),Sf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>rl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>rl(o))).join(",")),`Target(${i})`})(ns(t))}; limitType=${t.limitType})`}function xf(t,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ee.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,o){for(const a of Ru(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,d,h){const m=NT(u,d,h);return u.inclusive?m<=0:m<0})(i.startAt,Ru(i),o)||i.endAt&&!(function(u,d,h){const m=NT(u,d,h);return u.inclusive?m>=0:m>0})(i.endAt,Ru(i),o))})(t,e)}function eD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EC(t){return(e,n)=>{let i=!1;for(const o of Ru(t)){const a=tD(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function tD(t,e,n){const i=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(a,u,d){const h=u.data.field(a),m=d.data.field(a);return h!==null&&m!==null?sl(h,m):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,((n,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return rC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Ct(Ee.comparator);function qs(){return nD}const SC=new Ct(Ee.comparator);function Su(...t){let e=SC;for(const n of t)e=e.insert(n.key,n);return e}function AC(t){let e=SC;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Do(){return bu()}function CC(){return bu()}function bu(){return new jo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const iD=new Ct(Ee.comparator),sD=new Jt(Ee.comparator);function Ye(...t){let e=sD;for(const n of t)e=e.add(n);return e}const rD=new Jt(He);function oD(){return rD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(e)?"-0":e}}function wC(t){return{integerValue:""+t}}function aD(t,e){return PM(e)?wC(e):vg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this._=void 0}}function lD(t,e,n){return t instanceof Zd?(function(o,a){const u={fields:{[lC]:{stringValue:aC},[cC]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&mg(a)&&(a=Af(a)),a&&(u.fields[uC]=a),{mapValue:u}})(n,e):t instanceof Fu?IC(t,e):t instanceof Bu?RC(t,e):(function(o,a){const u=xC(o,a),d=kT(u)+kT(o.Ae);return Sp(u)&&Sp(o.Ae)?wC(d):vg(o.serializer,d)})(t,e)}function uD(t,e,n){return t instanceof Fu?IC(t,e):t instanceof Bu?RC(t,e):n}function xC(t,e){return t instanceof ef?(function(i){return Sp(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Zd extends If{}class Fu extends If{constructor(e){super(),this.elements=e}}function IC(t,e){const n=bC(e);for(const i of t.elements)n.some((o=>as(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Bu extends If{constructor(e){super(),this.elements=e}}function RC(t,e){let n=bC(e);for(const i of t.elements)n=n.filter((o=>!as(o,i)));return{arrayValue:{values:n}}}class ef extends If{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kT(t){return Pt(t.integerValue||t.doubleValue)}function bC(t){return pg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cD(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof Fu&&o instanceof Fu||i instanceof Bu&&o instanceof Bu?il(i.elements,o.elements,as):i instanceof ef&&o instanceof ef?as(i.Ae,o.Ae):i instanceof Zd&&o instanceof Zd})(t.transform,e.transform)}class dD{constructor(e,n){this.version=e,this.transformResults=n}}class Di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rf{}function NC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tg(t.key,Di.none()):new ju(t.key,t.data,Di.none());{const n=t.data,i=Vn.empty();let o=new Jt(rn.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Qr(t.key,i,new Qn(o.toArray()),Di.none())}}function fD(t,e,n){t instanceof ju?(function(o,a,u){const d=o.value.clone(),h=UT(o.fieldTransforms,a,u.transformResults);d.setAll(h),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Qr?(function(o,a,u){if(!Vd(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=UT(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(MC(o)),h.setAll(d),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Nu(t,e,n,i){return t instanceof ju?(function(a,u,d,h){if(!Vd(a.precondition,u))return d;const m=a.value.clone(),v=LT(a.fieldTransforms,h,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof Qr?(function(a,u,d,h){if(!Vd(a.precondition,u))return d;const m=LT(a.fieldTransforms,h,u),v=u.data;return v.setAll(MC(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(t,e,n,i):(function(a,u,d){return Vd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function hD(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=xC(i.transform,o||null);a!=null&&(n===null&&(n=Vn.empty()),n.set(i.field,a))}return n||null}function VT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&il(i,o,((a,u)=>cD(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends Rf{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qr extends Rf{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function MC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function UT(t,e,n){const i=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,d=e.data.field(a.field);i.set(a.field,uD(u,d,n[o]))}return i}function LT(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,lD(a,u,e))}return i}class Tg extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mD extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&fD(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Nu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Nu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=CC();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(o.key)?null:d;const h=NC(u,d);h!==null&&i.set(o.key,h),u.isValidDocument()||u.convertToNoDocument(be.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,((n,i)=>VT(n,i)))&&il(this.baseMutations,e.baseMutations,((n,i)=>VT(n,i)))}}class Eg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){nt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return iD})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Eg(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Je;function _D(t){switch(t){case oe.OK:return xe(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function DC(t){if(t===void 0)return Os("GRPC error has no .code"),oe.UNKNOWN;switch(t){case zt.OK:return oe.OK;case zt.CANCELLED:return oe.CANCELLED;case zt.UNKNOWN:return oe.UNKNOWN;case zt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case zt.INTERNAL:return oe.INTERNAL;case zt.UNAVAILABLE:return oe.UNAVAILABLE;case zt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case zt.NOT_FOUND:return oe.NOT_FOUND;case zt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case zt.ABORTED:return oe.ABORTED;case zt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case zt.DATA_LOSS:return oe.DATA_LOSS;default:return xe(39323,{code:t})}}(Je=zt||(zt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Ur([4294967295,4294967295],0);function OT(t){const e=vD().encode(t),n=new jA;return n.update(e),new Uint8Array(n.digest())}function qT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ur([n,i],0),new Ur([o,a],0)]}class Sg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Au(`Invalid padding: ${n}`);if(i<0)throw new Au(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ur.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Ur.fromNumber(i)));return o.compare(TD)===1&&(o=new Ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OT(e),[i,o]=qT(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Sg(a,o,n);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=OT(e),[i,o]=qT(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new bf(be.min(),o,new Ct(He),qs(),Ye())}}class $u{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new $u(i,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class PC{constructor(e,n){this.targetId=e,this.Ce=n}}class kC{constructor(e,n,i=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class FT{constructor(){this.ve=0,this.Fe=BT(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:xe(38017,{changeType:a})}})),new $u(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=BT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ED{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.Je=Cd(),this.He=Cd(),this.Ye=new Ct(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Cp(a))if(i===0){const u=new Ee(a.path);this.et(n,u,fn.newNoDocument(u,be.min()))}else nt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const d=this.ut(e),h=d?this.ct(d,e,u):1;if(h!==0){this.it(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,d;try{u=zr(i).toUint8Array()}catch(h){if(h instanceof oC)return nl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Sg(u,o,a)}catch(h){return nl(h instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Cp(d.target)){const h=new Ee(d.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,fn.newNoDocument(h,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let i=Ye();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((h=>{const m=this.ot(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new bf(e,n,this.Ye,this.je,i);return this.je=qs(),this.Je=Cd(),this.He=Cd(),this.Ye=new Ct(He),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cd(){return new Ct(Ee.comparator)}function BT(){return new Ct(Ee.comparator)}const SD={asc:"ASCENDING",desc:"DESCENDING"},AD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CD={and:"AND",or:"OR"};class wD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xp(t,e){return t.useProto3Json||Sf(e)?e:{value:e}}function tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xD(t,e){return tf(t,e.toTimestamp())}function is(t){return nt(!!t,49232),be.fromTimestamp((function(n){const i=Br(n);return new Tt(i.seconds,i.nanos)})(t))}function Ag(t,e){return Ip(t,e).canonicalString()}function Ip(t,e){const n=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function UC(t){const e=vt.fromString(t);return nt(BC(e),10190,{key:e.toString()}),e}function Rp(t,e){return Ag(t.databaseId,e.path)}function Wm(t,e){const n=UC(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(OC(n))}function LC(t,e){return Ag(t.databaseId,e)}function ID(t){const e=UC(t);return e.length===4?vt.emptyPath():OC(e)}function bp(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OC(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zT(t,e,n){return{name:Rp(t,e),fields:n.value.mapValue.fields}}function RD(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(nt(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(nt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const v=m.code===void 0?oe.UNKNOWN:DC(m.code);return new ve(v,m.message||"")})(u);n=new kC(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Wm(t,i.document.name),a=is(i.document.updateTime),u=i.document.createTime?is(i.document.createTime):be.min(),d=new Vn({mapValue:{fields:i.document.fields}}),h=fn.newFoundDocument(o,a,u,d),m=i.targetIds||[],v=i.removedTargetIds||[];n=new Ud(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Wm(t,i.document),a=i.readTime?is(i.readTime):be.min(),u=fn.newNoDocument(o,a),d=i.removedTargetIds||[];n=new Ud([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Wm(t,i.document),a=i.removedTargetIds||[];n=new Ud([],a,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new yD(o,a),d=i.targetId;n=new PC(d,u)}}return n}function bD(t,e){let n;if(e instanceof ju)n={update:zT(t,e.key,e.value)};else if(e instanceof Tg)n={delete:Rp(t,e.key)};else if(e instanceof Qr)n={update:zT(t,e.key,e.data),updateMask:OD(e.fieldMask)};else{if(!(e instanceof mD))return xe(16599,{Vt:e.type});n={verify:Rp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const d=u.transform;if(d instanceof Zd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Fu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Bu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ef)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw xe(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:xD(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)})(t,e.precondition)),n}function ND(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?is(o.updateTime):is(a);return u.isEqual(be.min())&&(u=is(a)),new dD(u,o.transformResults||[])})(n,e)))):[]}function MD(t,e){return{documents:[LC(t,e.path)]}}function DD(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=LC(t,o);const a=(function(m){if(m.length!==0)return FC(ls.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(A){return{field:Ha(A.field),direction:VD(A.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=xp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function PD(t){let e=ID(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){nt(i===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=(function(E){const A=qC(E);return A instanceof ls&&gC(A)?A.getFilters():[A]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((A=>(function(L){return new Wd(Ya(L.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(A)))})(n.orderBy));let d=null;n.limit&&(d=(function(E){let A;return A=typeof E=="object"?E.value:E,Sf(A)?null:A})(n.limit));let h=null;n.startAt&&(h=(function(E){const A=!!E.before,x=E.values||[];return new Xd(x,A)})(n.startAt));let m=null;return n.endAt&&(m=(function(E){const A=!E.before,x=E.values||[];return new Xd(x,A)})(n.endAt)),XM(e,o,u,a,d,"F",h,m)}function kD(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ya(n.unaryFilter.field);return Kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ya(n.unaryFilter.field);return Kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ya(n.unaryFilter.field);return Kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ya(n.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Kt.create(Ya(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ls.create(n.compositeFilter.filters.map((i=>qC(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function VD(t){return SD[t]}function UD(t){return AD[t]}function LD(t){return CD[t]}function Ha(t){return{fieldPath:t.canonicalString()}}function Ya(t){return rn.fromServerFormat(t.fieldPath)}function FC(t){return t instanceof Kt?(function(n){if(n.op==="=="){if(bT(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(RT(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bT(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(RT(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:UD(n.op),value:n.value}}})(t):t instanceof ls?(function(n){const i=n.getFilters().map((o=>FC(o)));return i.length===1?i[0]:{compositeFilter:{op:LD(n.op),filters:i}}})(t):xe(54877,{filter:t})}function OD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function BC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,i,o,a=be.min(),u=be.min(),d=on.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.yt=e}}function FD(t){const e=PD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.Cn=new zD}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Fr.min())}updateCollectionGroup(e,n,i){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class zD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Jt(vt.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Jt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zC=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(zC,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LruGarbageCollector",GD=1048576;function YT([t,e],[n,i]){const o=He(t,n);return o===0?He(e,i):o}class HD{constructor(e){this.Ir=e,this.buffer=new Jt(YT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();YT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(HT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hl(n)?pe(HT,"Ignoring IndexedDB error during garbage collection: ",n):await fl(n)}await this.Vr(3e5)}))}}class KD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Ef.ce);const i=new HD(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(GT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,a,u,d,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,n)))).next((E=>(a=E,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(m=Date.now(),za()<=Ge.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${E} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function JD(t,e){return new KD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.changes=new jo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?se.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Nu(i.mutation,o,Qn.empty(),Tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const o=Do();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((a=>{let u=Su();return a.forEach(((d,h)=>{u=u.insert(d,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Do();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const o=[];return i.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,i,o){let a=qs();const u=bu(),d=(function(){return bu()})();return n.forEach(((h,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Qr)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Nu(v.mutation,m,v.mutation.getFieldMask(),Tt.now())):u.set(m.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((m,v)=>u.set(m,v))),n.forEach(((m,v)=>d.set(m,new $D(v,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=bu();let o=new Ct(((u,d)=>u-d)),a=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((h=>{const m=n.get(h);if(m===null)return;let v=i.get(h)||Qn.empty();v=d.applyToLocalView(m,v),i.set(h,v);const E=(o.get(d.batchId)||Ye()).add(h);o=o.insert(d.batchId,E)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),m=h.key,v=h.value,E=CC();v.forEach((A=>{if(!a.has(A)){const x=NC(n.get(A),i.get(A));x!==null&&E.set(A,x),a=a.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return se.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):se.resolve(Do());let d=Uu,h=a;return u.next((m=>se.forEach(m,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{h=h.insert(v,A)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,h,m,Ye()))).next((v=>({batchId:d,changes:AC(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((i=>{let o=Su();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=Su();return this.indexManager.getCollectionParents(e,a).next((d=>se.forEach(d,(h=>{const m=(function(E,A){return new Cf(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next((v=>{v.forEach(((E,A)=>{u=u.insert(E,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o)))).next((u=>{a.forEach(((h,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,fn.newInvalidDocument(v)))}));let d=Su();return u.forEach(((h,m)=>{const v=a.get(h);v!==void 0&&Nu(v.mutation,m,Qn.empty(),Tt.now()),xf(n,m)&&(d=d.insert(h,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:is(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:FD(o.bundledQuery),readTime:is(o.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.overlays=new Ct(Ee.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Do();return se.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,a)=>{this.St(e,n,a)})),se.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,n,i){const o=Do(),a=n.length+1,u=new Ee(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const h=d.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>i&&o.set(h.getKey(),h)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new Ct(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=Do(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Do(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=o)););return se.resolve(d)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new gD(n,i));let a=this.qr.get(n);a===void 0&&(a=Ye(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.Qr=new Jt(Xt.$r),this.Ur=new Jt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Xt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ee(new vt([])),i=new Xt(n,e),o=new Xt(n,e+1),a=[];return this.Ur.forEachInRange([i,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new vt([])),i=new Xt(n,e),o=new Xt(n,e+1);let a=Ye();return this.Ur.forEachInRange([i,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new Xt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(Xt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new pD(a,n,i,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Xt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),a=o<0?0:o;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?hg:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,o],(u=>{const d=this.Xr(u.Yr);a.push(d)})),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Jt(He);return n.forEach((o=>{const a=new Xt(o,0),u=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{i=i.add(d.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;Ee.isDocumentKey(a)||(a=a.child(""));const u=new Xt(new Ee(a),0);let d=new Jt(He);return this.Zr.forEachWhile((h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(d=d.add(h.Yr)),!0)}),u),se.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(n.mutations,(o=>{const a=new Xt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Xt(n,0),o=this.Zr.firstAfterOrEqual(i);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.ri=e,this.docs=(function(){return new Ct(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return se.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let i=qs();return n.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():fn.newInvalidDocument(o))})),se.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=qs();const u=n.path,d=new Ee(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||bM(RM(v),i)<=0||(o.has(v.key)||xf(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,n,i,o){xe(9500)}ii(e,n){return se.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new nP(this)}getSize(e){return se.resolve(this.size)}}class nP extends jD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.persistence=e,this.si=new jo((n=>gg(n)),yg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Cg,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),se.waitFor(a).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return se.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),se.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),se.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return se.resolve(i)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ef(0),this.li=!1,this.li=!0,this.hi=new ZD,this.referenceDelegate=e(this),this.Pi=new iP(this),this.indexManager=new BD,this.remoteDocumentCache=(function(o){return new tP(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new qD(n),this.Ii=new XD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new eP(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){pe("MemoryPersistence","Starting transaction:",e);const o=new sP(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class sP extends MM{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Ri=new Cg,this.Vi=null}static mi(e){return new wg(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),se.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const o=Ee.fromPath(i);return this.gi(e,o).next((a=>{a||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nf{constructor(e,n){this.persistence=e,this.pi=new jo((i=>kM(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=JD(this,n)}static mi(e,n){return new nf(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((i,o)=>this.br(e,i,o).next((a=>a?se.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((d=>{d||(i++,a.removeEntry(u,be.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pd(e.data.value)),n}br(e,n,i){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return se.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ye(),o=Ye();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new xg(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VR()?8:DM(mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,o,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new rP;return this.Ss(e,n,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>a.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(za()<=Ge.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(za()<=Ge.DEBUG&&pe("QueryEngine","Query:",Ga(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(za()<=Ge.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):se.resolve())}ys(e,n){if(PT(n))return se.resolve(null);let i=ns(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=wp(n,null,"F"),i=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Ye(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((h=>{const m=this.Ds(n,d);return this.Cs(n,m,u,h.readTime)?this.ys(e,wp(n,null,"F")):this.vs(e,m,n,h)}))))})))))}ws(e,n,i,o){return PT(n)||o.isEqual(be.min())?se.resolve(null):this.ps.getDocuments(e,i).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,i,o)?se.resolve(null):(za()<=Ge.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.vs(e,u,n,IM(o,Uu)).next((d=>d)))}))}Ds(e,n){let i=new Jt(EC(e));return n.forEach(((o,a)=>{xf(e,a)&&(i=i.add(a))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,i){return za()<=Ge.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ps.getDocumentsMatchingQuery(e,n,Fr.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",aP=3e8;class lP{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Ct(He),this.xs=new jo((a=>gg(a)),yg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function uP(t,e,n,i){return new lP(t,e,n,i)}async function HC(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],d=[];let h=Ye();for(const m of o){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return n.localDocuments.getDocuments(i,h).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function cP(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,m,v){const E=m.batch,A=E.keys();let x=se.resolve();return A.forEach((L=>{x=x.next((()=>v.getEntry(h,L))).next((F=>{const B=m.docVersions.get(L);nt(B!==null,48541),F.version.compareTo(B)<0&&(E.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),v.addEntry(F)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(h,E)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let h=Ye();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(h=h.add(d.batch.mutations[m].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function YC(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function dP(t,e){const n=Me(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];e.targetChanges.forEach(((v,E)=>{const A=o.get(E);if(!A)return;d.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(a,v.addedDocuments,E))));let x=A.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?x=x.withResumeToken(on.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),o=o.insert(E,x),(function(F,B,Q){return F.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=aP?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(A,x,v)&&d.push(n.Pi.updateTargetData(a,x))}));let h=qs(),m=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(fP(a,u,e.documentUpdates).next((v=>{h=v.ks,m=v.qs}))),!i.isEqual(be.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next((E=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));d.push(v)}return se.waitFor(d).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,m))).next((()=>h))})).then((a=>(n.Ms=o,a)))}function fP(t,e,n){let i=Ye(),o=Ye();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let u=qs();return n.forEach(((d,h)=>{const m=a.get(d);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),h.isNoDocument()&&h.version.isEqual(be.min())?(e.removeEntry(d,h.readTime),u=u.insert(d,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(d,h)):pe(Ig,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",h.version)})),{ks:u,qs:o}}))}function hP(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=hg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function mP(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((a=>a?(o=a,se.resolve(o)):n.Pi.allocateTargetId(i).next((u=>(o=new Pr(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Np(t,e,n){const i=Me(t),o=i.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!hl(u))throw u;pe(Ig,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function KT(t,e,n){const i=Me(t);let o=be.min(),a=Ye();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,m,v){const E=Me(h),A=E.xs.get(v);return A!==void 0?se.resolve(E.Ms.get(A)):E.Pi.getTargetData(m,v)})(i,u,ns(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,d.targetId).next((h=>{a=h}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?o:be.min(),n?a:Ye()))).next((d=>(pP(i,eD(e),d),{documents:d,Qs:a})))))}function pP(t,e,n){let i=t.Os.get(e)||be.min();n.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Os.set(e,i)}class JT{constructor(){this.activeTargetIds=oD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gP{constructor(){this.Mo=new JT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new JT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="ConnectivityMonitor";class $T{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(jT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(jT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function Mp(){return wd===null?wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="RestConnection",_P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===$d?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,a){const u=Mp(),d=this.zo(e,n.toUriEncodedString());pe(Zm,`Sending RPC '${e}' ${u}:`,d,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,o,a);const{host:m}=new URL(d),v=ll(m);return this.Jo(e,d,h,i,v).then((E=>(pe(Zm,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw nl(Zm,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",i),E}))}Ho(e,n,i,o,a,u){return this.Go(e,n,i,o,a)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const i=_P[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class EP extends vP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,a){const u=Mp();return new Promise(((d,h)=>{const m=new $A;m.setWithCredentials(!0),m.listenOnce(QA.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Dd.NO_ERROR:const E=m.getResponseJson();pe(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case Dd.TIMEOUT:pe(ln,`RPC '${e}' ${u} timed out`),h(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const A=m.getStatus();if(pe(ln,`RPC '${e}' ${u} failed with status:`,A,"response text:",m.getResponseText()),A>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const L=x==null?void 0:x.error;if(L&&L.status&&L.message){const F=(function(Q){const X=Q.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(X)>=0?X:oe.UNKNOWN})(L.status);h(new ve(F,L.message))}else h(new ve(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{pe(ln,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);pe(ln,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",v,i,15)}))}T_(e,n,i){const o=Mp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ZA(),d=WA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const v=a.join("");pe(ln,`Creating RPC '${e}' stream ${o}: ${v}`,h);const E=u.createWebChannel(v,h);this.I_(E);let A=!1,x=!1;const L=new TP({Yo:B=>{x?pe(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(A||(pe(ln,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),pe(ln,`RPC '${e}' stream ${o} sending:`,B),E.send(B))},Zo:()=>E.close()}),F=(B,Q,X)=>{B.listen(Q,(W=>{try{X(W)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return F(E,Eu.EventType.OPEN,(()=>{x||(pe(ln,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),F(E,Eu.EventType.CLOSE,(()=>{x||(x=!0,pe(ln,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(E))})),F(E,Eu.EventType.ERROR,(B=>{x||(x=!0,nl(ln,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),L.a_(new ve(oe.UNAVAILABLE,"The operation could not be completed")))})),F(E,Eu.EventType.MESSAGE,(B=>{var Q;if(!x){const X=B.data[0];nt(!!X,16349);const W=X,ae=(W==null?void 0:W.error)||((Q=W[0])==null?void 0:Q.error);if(ae){pe(ln,`RPC '${e}' stream ${o} received error:`,ae);const de=ae.status;let ce=(function(R){const k=zt[R];if(k!==void 0)return DC(k)})(de),D=ae.message;ce===void 0&&(ce=oe.INTERNAL,D="Unknown error status: "+de+" with message "+ae.message),x=!0,L.a_(new ve(ce,D)),E.close()}else pe(ln,`RPC '${e}' stream ${o} received:`,X),L.u_(X)}})),F(d,XA.STAT_EVENT,(B=>{B.stat===vp.PROXY?pe(ln,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===vp.NOPROXY&&pe(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){return new wD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="PersistentStream";class JC{constructor(e,n,i,o,a,u,d,h){this.Mi=e,this.S_=i,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Os(n.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(QT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(QT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SP extends JC{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=RD(this.serializer,e),i=(function(a){if(!("targetChange"in a))return be.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?is(u.readTime):be.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=bp(this.serializer),n.addTarget=(function(a,u){let d;const h=u.target;if(d=Cp(h)?{documents:MD(a,h)}:{query:DD(a,h).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=VC(a,u.resumeToken);const m=xp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(be.min())>0){d.readTime=tf(a,u.snapshotVersion.toTimestamp());const m=xp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const i=kD(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=bp(this.serializer),n.removeTarget=e,this.q_(n)}}class AP extends JC{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ND(e.writeResults,e.commitTime),i=is(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=bp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>bD(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{}class wP extends CP{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Ip(n,i),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(oe.UNKNOWN,a.toString())}))}Ho(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Ip(n,i),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="RemoteStore";class IP{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{$o(this)&&(pe(Bo,"Restarting streams for network reachability change."),await(async function(h){const m=Me(h);m.Ea.add(4),await Qu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Mf(m)})(this))}))})),this.Ra=new xP(i,o)}}async function Mf(t){if($o(t))for(const e of t.da)await e(!0)}async function Qu(t){for(const e of t.da)await e(!1)}function jC(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mg(n)?Ng(n):ml(n).O_()&&bg(n,e))}function Rg(t,e){const n=Me(t),i=ml(n);n.Ia.delete(e),i.O_()&&$C(n,e),n.Ia.size===0&&(i.O_()?i.L_():$o(n)&&n.Ra.set("Unknown"))}function bg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ml(t).Y_(e)}function $C(t,e){t.Va.Ue(e),ml(t).Z_(e)}function Ng(t){t.Va=new ED({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ml(t).start(),t.Ra.ua()}function Mg(t){return $o(t)&&!ml(t).x_()&&t.Ia.size>0}function $o(t){return Me(t).Ea.size===0}function QC(t){t.Va=void 0}async function RP(t){t.Ra.set("Online")}async function bP(t){t.Ia.forEach(((e,n)=>{bg(t,e)}))}async function NP(t,e){QC(t),Mg(t)?(t.Ra.ha(e),Ng(t)):t.Ra.set("Unknown")}async function MP(t,e,n){if(t.Ra.set("Online"),e instanceof kC&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))})(t,e)}catch(i){pe(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await sf(t,i)}else if(e instanceof Ud?t.Va.Ze(e):e instanceof PC?t.Va.st(e):t.Va.tt(e),!n.isEqual(be.min()))try{const i=await YC(t.localStore);n.compareTo(i)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(h.resumeToken,u))}})),d.targetMismatches.forEach(((h,m)=>{const v=a.Ia.get(h);if(!v)return;a.Ia.set(h,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),$C(a,h);const E=new Pr(v.target,h,m,v.sequenceNumber);bg(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){pe(Bo,"Failed to raise snapshot:",i),await sf(t,i)}}async function sf(t,e,n){if(!hl(e))throw e;t.Ea.add(1),await Qu(t),t.Ra.set("Offline"),n||(n=()=>YC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Bo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mf(t)}))}function XC(t,e){return e().catch((n=>sf(t,n,e)))}async function Df(t){const e=Me(t),n=Hr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hg;for(;DP(e);)try{const o=await hP(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,PP(e,o)}catch(o){await sf(e,o)}WC(e)&&ZC(e)}function DP(t){return $o(t)&&t.Ta.length<10}function PP(t,e){t.Ta.push(e);const n=Hr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function WC(t){return $o(t)&&!Hr(t).x_()&&t.Ta.length>0}function ZC(t){Hr(t).start()}async function kP(t){Hr(t).ra()}async function VP(t){const e=Hr(t);for(const n of t.Ta)e.ea(n.mutations)}async function UP(t,e,n){const i=t.Ta.shift(),o=Eg.from(i,e,n);await XC(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Df(t)}async function LP(t,e){e&&Hr(t).X_&&await(async function(i,o){if((function(u){return _D(u)&&u!==oe.ABORTED})(o.code)){const a=i.Ta.shift();Hr(i).B_(),await XC(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Df(i)}})(t,e),WC(t)&&ZC(t)}async function XT(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),pe(Bo,"RemoteStore received new credentials");const i=$o(n);n.Ea.add(3),await Qu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mf(n)}async function OP(t,e){const n=Me(t);e?(n.Ea.delete(2),await Mf(n)):e||(n.Ea.add(2),await Qu(n),n.Ra.set("Unknown"))}function ml(t){return t.ma||(t.ma=(function(n,i,o){const a=Me(n);return a.sa(),new SP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:RP.bind(null,t),t_:bP.bind(null,t),r_:NP.bind(null,t),H_:MP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Mg(t)?Ng(t):t.Ra.set("Unknown")):(await t.ma.stop(),QC(t))}))),t.ma}function Hr(t){return t.fa||(t.fa=(function(n,i,o){const a=Me(n);return a.sa(),new AP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kP.bind(null,t),r_:LP.bind(null,t),ta:VP.bind(null,t),na:UP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Df(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Bo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,d=new Dg(e,n,u,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(t,e){if(Os("AsyncQueue",`${e}: ${t}`),hl(t))return new ve(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=Su(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Xa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.ga=new Ct(Ee.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class al{constructor(e,n,i,o,a,u,d,h,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new al(e,n,Xa.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FP{constructor(){this.queries=ZT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Me(n),a=o.queries;o.queries=ZT(),a.forEach(((u,d)=>{for(const h of d.Sa)h.onError(i)}))})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function ZT(){return new jo((t=>TC(t)),wf)}async function ew(t,e){const n=Me(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(i=2):(a=new qP,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const d=Pg(u,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&kg(n)}async function tw(t,e){const n=Me(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function BP(t,e){const n=Me(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(i=!0);u.wa=o}}i&&kg(n)}function zP(t,e,n){const i=Me(t),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);i.queries.delete(e)}function kg(t){t.Ca.forEach((e=>{e.next()}))}var Dp,eE;(eE=Dp||(Dp={})).Ma="default",eE.Cache="cache";class nw{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.key=e}}class sw{constructor(e){this.key=e}}class GP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=EC(e),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new WT,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,d=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const A=o.get(v),x=xf(this.query,E)?E:null,L=!!A&&this.mutatedKeys.has(A.key),F=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let B=!1;A&&x?A.data.isEqual(x.data)?L!==F&&(i.track({type:3,doc:x}),B=!0):this.su(A,x)||(i.track({type:2,doc:x}),B=!0,(h&&this.eu(x,h)>0||m&&this.eu(x,m)<0)&&(d=!0)):!A&&x?(i.track({type:0,doc:x}),B=!0):A&&!x&&(i.track({type:1,doc:A}),B=!0,(h||m)&&(d=!0)),B&&(x?(u=u.add(x),a=F?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Cs:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(x,L){const F=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:B})}};return F(x)-F(L)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),o=o??!1;const d=n&&!o?this._u():[],h=this.Xa.size===0&&this.current&&!o?1:0,m=h!==this.Za;return this.Za=h,u.length!==0||m?{snapshot:new al(this.query,e.tu,a,u,e.mutatedKeys,h===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new sw(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new iw(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vg="SyncEngine";class HP{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class YP{constructor(e){this.key=e,this.hu=!1}}class KP{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new jo((d=>TC(d)),wf),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(Ee.comparator),this.Au=new Map,this.Ru=new Cg,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JP(t,e,n=!0){const i=cw(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await rw(i,e,n,!0),o}async function jP(t,e){const n=cw(t);await rw(n,e,!0,!1)}async function rw(t,e,n,i){const o=await mP(t.localStore,ns(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let d;return i&&(d=await $P(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&jC(t.remoteStore,o),d}async function $P(t,e,n,i,o){t.pu=(E,A,x)=>(async function(F,B,Q,X){let W=B.view.ru(Q);W.Cs&&(W=await KT(F.localStore,B.query,!1).then((({documents:D})=>B.view.ru(D,W))));const ae=X&&X.targetChanges.get(B.targetId),de=X&&X.targetMismatches.get(B.targetId)!=null,ce=B.view.applyChanges(W,F.isPrimaryClient,ae,de);return nE(F,B.targetId,ce.au),ce.snapshot})(t,E,A,x);const a=await KT(t.localStore,e,!0),u=new GP(e,a.Qs),d=u.ru(a.documents),h=$u.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),m=u.applyChanges(d,t.isPrimaryClient,h);nE(t,n,m.au);const v=new HP(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function QP(t,e,n){const i=Me(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((u=>!wf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Rg(i.remoteStore,o.targetId),Pp(i,o.targetId)})).catch(fl)):(Pp(i,o.targetId),await Np(i.localStore,o.targetId,!0))}async function XP(t,e){const n=Me(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Rg(n.remoteStore,i.targetId))}async function WP(t,e,n){const i=r2(t);try{const o=await(function(u,d){const h=Me(u),m=Tt.now(),v=d.reduce(((x,L)=>x.add(L.key)),Ye());let E,A;return h.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let L=qs(),F=Ye();return h.Ns.getEntries(x,v).next((B=>{L=B,L.forEach(((Q,X)=>{X.isValidDocument()||(F=F.add(Q))}))})).next((()=>h.localDocuments.getOverlayedDocuments(x,L))).next((B=>{E=B;const Q=[];for(const X of d){const W=hD(X,E.get(X.key).overlayedDocument);W!=null&&Q.push(new Qr(X.key,W,hC(W.value.mapValue),Di.exists(!0)))}return h.mutationQueue.addMutationBatch(x,m,Q,d)})).next((B=>{A=B;const Q=B.applyToLocalDocumentSet(E,F);return h.documentOverlayCache.saveOverlays(x,B.batchId,Q)}))})).then((()=>({batchId:A.batchId,changes:AC(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,d,h){let m=u.Vu[u.currentUser.toKey()];m||(m=new Ct(He)),m=m.insert(d,h),u.Vu[u.currentUser.toKey()]=m})(i,o.batchId,n),await Xu(i,o.changes),await Df(i.remoteStore)}catch(o){const a=Pg(o,"Failed to persist write");n.reject(a)}}async function ow(t,e){const n=Me(t);try{const i=await dP(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?nt(u.hu,14607):o.removedDocuments.size>0&&(nt(u.hu,42227),u.hu=!1))})),await Xu(n,i,e)}catch(i){await fl(i)}}function tE(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const h=Me(u);h.onlineState=d;let m=!1;h.queries.forEach(((v,E)=>{for(const A of E.Sa)A.va(d)&&(m=!0)})),m&&kg(h)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ZP(t,e,n){const i=Me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let u=new Ct(Ee.comparator);u=u.insert(a,fn.newNoDocument(a,be.min()));const d=Ye().add(a),h=new bf(be.min(),new Map,new Ct(He),u,d);await ow(i,h),i.du=i.du.remove(a),i.Au.delete(e),Ug(i)}else await Np(i.localStore,e,!1).then((()=>Pp(i,e,n))).catch(fl)}async function e2(t,e){const n=Me(t),i=e.batch.batchId;try{const o=await cP(n.localStore,e);lw(n,i,null),aw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Xu(n,o)}catch(o){await fl(o)}}async function t2(t,e,n){const i=Me(t);try{const o=await(function(u,d){const h=Me(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return h.mutationQueue.lookupMutationBatch(m,d).next((E=>(nt(E!==null,37113),v=E.keys(),h.mutationQueue.removeMutationBatch(m,E)))).next((()=>h.mutationQueue.performConsistencyCheck(m))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>h.localDocuments.getDocuments(m,v)))}))})(i.localStore,e);lw(i,e,n),aw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Xu(i,o)}catch(o){await fl(o)}}function aw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function lw(t,e,n){const i=Me(t);let o=i.Vu[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Pp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||uw(t,i)}))}function uw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Rg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ug(t))}function nE(t,e,n){for(const i of n)i instanceof iw?(t.Ru.addReference(i.key,e),n2(t,i)):i instanceof sw?(pe(Vg,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||uw(t,i.key)):xe(19791,{wu:i})}function n2(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(pe(Vg,"New document in limbo: "+n),t.Eu.add(i),Ug(t))}function Ug(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(vt.fromString(e)),i=t.fu.next();t.Au.set(i,new YP(n)),t.du=t.du.insert(n,i),jC(t.remoteStore,new Pr(ns(_g(n.path)),i,"TargetPurposeLimboResolution",Ef.ce))}}async function Xu(t,e,n){const i=Me(t),o=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,h)=>{u.push(i.pu(h,e,n).then((m=>{var v;if((m||n)&&i.isPrimaryClient){const E=m?!m.fromCache:(v=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(h.targetId,E?"current":"not-current")}if(m){o.push(m);const E=xg.As(h.targetId,m);a.push(E)}})))})),await Promise.all(u),i.Pu.H_(o),await(async function(h,m){const v=Me(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>se.forEach(m,(A=>se.forEach(A.Es,(x=>v.persistence.referenceDelegate.addReference(E,A.targetId,x))).next((()=>se.forEach(A.ds,(x=>v.persistence.referenceDelegate.removeReference(E,A.targetId,x)))))))))}catch(E){if(!hl(E))throw E;pe(Ig,"Failed to update sequence numbers: "+E)}for(const E of m){const A=E.targetId;if(!E.fromCache){const x=v.Ms.get(A),L=x.snapshotVersion,F=x.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(A,F)}}})(i.localStore,a))}async function i2(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){pe(Vg,"User change. New user:",e.toKey());const i=await HC(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((h=>{h.reject(new ve(oe.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xu(n,i.Ls)}}function s2(t,e){const n=Me(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let o=Ye();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const d=n.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function cw(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZP.bind(null,e),e.Pu.H_=BP.bind(null,e.eventManager),e.Pu.yu=zP.bind(null,e.eventManager),e}function r2(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t2.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uP(this.persistence,new oP,e.initialUser,this.serializer)}Cu(e){return new GC(wg.mi,this.serializer)}Du(e){return new gP}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class o2 extends rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof nf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new YD(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new GC((i=>nf.mi(i,n)),this.serializer)}}class kp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),await OP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FP})()}createDatastore(e){const n=Nf(e.databaseInfo.databaseId),i=(function(a){return new EP(a)})(e.databaseInfo);return(function(a,u,d,h){return new wP(a,u,d,h)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,a,u,d){return new IP(i,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>tE(this.syncEngine,n,0)),(function(){return $T.v()?new $T:new yP})())}createSyncEngine(e,n){return(function(o,a,u,d,h,m,v){const E=new KP(o,a,u,d,h,m);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const a=Me(o);pe(Bo,"RemoteStore shutting down."),a.Ea.add(5),await Qu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}kp.provider={build:()=>new kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class a2{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{pe(Yr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(pe(Yr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Pg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function tp(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Yr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await HC(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function iE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l2(t);pe(Yr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>XT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>XT(e.remoteStore,o))),t._onlineComponents=e}async function l2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Yr,"Using user provided OfflineComponentProvider");try{await tp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await tp(t,new rf)}}else pe(Yr,"Using default OfflineComponentProvider"),await tp(t,new o2(void 0));return t._offlineComponents}async function fw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Yr,"Using user provided OnlineComponentProvider"),await iE(t,t._uninitializedComponentsProvider._online)):(pe(Yr,"Using default OnlineComponentProvider"),await iE(t,new kp))),t._onlineComponents}function u2(t){return fw(t).then((e=>e.syncEngine))}async function Vp(t){const e=await fw(t),n=e.eventManager;return n.onListen=JP.bind(null,e.syncEngine),n.onUnlisten=QP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XP.bind(null,e.syncEngine),n}function c2(t,e,n={}){const i=new Lr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,h,m){const v=new dw({next:A=>{v.Nu(),u.enqueueAndForget((()=>tw(a,E))),A.fromCache&&h.source==="server"?m.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),E=new nw(d,v,{includeMetadataChanges:!0,qa:!0});return ew(a,E)})(await Vp(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firestore.googleapis.com",rE=!0;class oE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mw,this.ssl=rE}else this.host=e.host,this.ssl=e.ssl??rE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GD)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new gM;switch(i.type){case"firstParty":return new TM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=sE.get(n);i&&(pe("ComponentProvider","Removing Datastore"),sE.delete(n),i.terminate())})(this),Promise.resolve()}}function d2(t,e,n,i={}){var m;t=Mi(t,Pf);const o=ll(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;o&&(tA(`https://${d}`),nA("Firestore",!0)),a.host!==mw&&a.host!==d&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:d,ssl:o,emulatorOptions:i};if(!qr(h,u)&&(t._setSettings(h),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=cn.MOCK_USER;else{v=IR(i.mockUserToken,(m=t._app)==null?void 0:m.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(A)}t._authCredentials=new yM(new tC(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wu(this.firestore,e,this._query)}}class Ht{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ju(n,Ht._jsonSchema))return new Ht(e,i||null,new Ee(vt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Gt("string",Ht._jsonSchemaVersion),referencePath:Gt("string")};class Or extends Wu{constructor(e,n,i){super(e,n,_g(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ee(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function f2(t,e,...n){if(t=kt(t),nC("collection","path",e),t instanceof Pf){const i=vt.fromString(e,...n);return TT(i),new Or(t,null,i)}{if(!(t instanceof Ht||t instanceof Or))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(vt.fromString(e,...n));return TT(i),new Or(t.firestore,null,i)}}function Po(t,e,...n){if(t=kt(t),arguments.length===1&&(e=dg.newId()),nC("doc","path",e),t instanceof Pf){const i=vt.fromString(e,...n);return vT(i),new Ht(t,null,new Ee(i))}{if(!(t instanceof Ht||t instanceof Or))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(vt.fromString(e,...n));return vT(i),new Ht(t.firestore,t instanceof Or?t.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="AsyncQueue";class lE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KC(this,"async_queue_retry"),this._c=()=>{const i=ep();i&&pe(aE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;pe(aE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",uE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Dg.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:uE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1})(t,["next","error","complete"])}class zo extends Pf{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new lE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lE(e),this._firestoreClient=void 0,await e}}}function h2(t,e){const n=typeof t=="object"?t:tg(),i=typeof t=="string"?t:$d,o=Ko(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=wR("firestore");a&&d2(o,...a)}return o}function Lg(t){if(t._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||m2(t),t._firestoreClient}function m2(t){var i,o,a;const e=t._freezeSettings(),n=(function(d,h,m,v){return new LM(d,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,hw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new a2(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mi(on.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mi(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ju(e,mi._jsonSchema))return mi.fromBase64String(e.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:Gt("string",mi._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(e){if(Ju(e,ss._jsonSchema))return new ss(e.latitude,e.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:Gt("string",ss._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ju(e,rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new rs(e.vectorValues);throw new ve(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:Gt("string",rs._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=/^__.*__$/;class g2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class pw{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class qg{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return of(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gw(this.Ac)&&p2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class y2{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Nf(e)}Cc(e,n,i,o=!1){return new qg({Ac:e,methodName:n,Dc:i,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yw(t){const e=t._freezeSettings(),n=Nf(t._databaseId);return new y2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _2(t,e,n,i,o,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);Fg("Data must be an object, but it was:",u,i);const d=_w(i,u);let h,m;if(a.merge)h=new Qn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const A=Up(e,E,n);if(!u.contains(A))throw new ve(oe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Tw(v,A)||v.push(A)}h=new Qn(v),m=u.fieldTransforms.filter((E=>h.covers(E.field)))}else h=null,m=u.fieldTransforms;return new g2(new Vn(d),h,m)}class Vf extends Og{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function v2(t,e,n,i){const o=t.Cc(1,e,n);Fg("Data must be an object, but it was:",o,i);const a=[],u=Vn.empty();$r(i,((h,m)=>{const v=Bg(e,h,n);m=kt(m);const E=o.yc(v);if(m instanceof Vf)a.push(v);else{const A=Uf(m,E);A!=null&&(a.push(v),u.set(v,A))}}));const d=new Qn(a);return new pw(u,d,o.fieldTransforms)}function T2(t,e,n,i,o,a){const u=t.Cc(1,e,n),d=[Up(e,i,n)],h=[o];if(a.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<a.length;A+=2)d.push(Up(e,a[A])),h.push(a[A+1]);const m=[],v=Vn.empty();for(let A=d.length-1;A>=0;--A)if(!Tw(m,d[A])){const x=d[A];let L=h[A];L=kt(L);const F=u.yc(x);if(L instanceof Vf)m.push(x);else{const B=Uf(L,F);B!=null&&(m.push(x),v.set(x,B))}}const E=new Qn(m);return new pw(v,E,u.fieldTransforms)}function Uf(t,e){if(vw(t=kt(t)))return Fg("Unsupported field value:",e,t),_w(t,e);if(t instanceof Og)return(function(i,o){if(!gw(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const a=[];let u=0;for(const d of i){let h=Uf(d,o.wc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}})(t,e)}return(function(i,o){if((i=kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return aD(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Tt.fromDate(i);return{timestampValue:tf(o.serializer,a)}}if(i instanceof Tt){const a=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:tf(o.serializer,a)}}if(i instanceof ss)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof mi)return{bytesValue:VC(o.serializer,i._byteString)};if(i instanceof Ht){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ag(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof rs)return(function(u,d){return{mapValue:{fields:{[dC]:{stringValue:fC},[Qd]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return vg(d.serializer,m)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${fg(i)}`)})(t,e)}function _w(t,e){const n={};return rC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,((i,o)=>{const a=Uf(o,e.mc(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function vw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof ss||t instanceof mi||t instanceof Ht||t instanceof Og||t instanceof rs)}function Fg(t,e,n){if(!vw(n)||!iC(n)){const i=fg(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Up(t,e,n){if((e=kt(e))instanceof kf)return e._internalPath;if(typeof e=="string")return Bg(t,e);throw of("Field path arguments must be of type string or ",t,!1,void 0,n)}const E2=new RegExp("[~\\*/\\[\\]]");function Bg(t,e,n){if(e.search(E2)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kf(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function of(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${i}`),u&&(h+=` in document ${o}`),h+=")"),new ve(oe.INVALID_ARGUMENT,d+t+h)}function Tw(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S2 extends Ew{data(){return super.data()}}function Sw(t,e){return typeof e=="string"?Bg(t,e):e instanceof kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A2{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return $r(e,((o,a)=>{i[o]=this.convertValue(a,n)})),i}convertVectorValue(e){var i,o,a;const n=(a=(o=(i=e.fields)==null?void 0:i[Qd].arrayValue)==null?void 0:o.values)==null?void 0:a.map((u=>Pt(u.doubleValue)));return new rs(n)}convertGeoPoint(e){return new ss(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Af(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const n=Br(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=vt.fromString(e);nt(BC(i),9688,{name:e});const o=new Ou(i.get(1),i.get(3)),a=new Ee(i.popFirst(5));return o.isEqual(n)||Os(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uo extends Ew{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Sw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Uo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Uo._jsonSchema={type:Gt("string",Uo._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Ld extends Uo{data(e={}){return super.data(e)}}class Lo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Ld(this._firestore,this._userDataWriter,i.key,i,new Cu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const h=new Ld(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const h=new Ld(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:w2(d.type),doc:h,oldIndex:m,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function w2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:Gt("string",Lo._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class zg extends A2{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function x2(t){t=Mi(t,Wu);const e=Mi(t.firestore,zo),n=Lg(e),i=new zg(e);return Aw(t._query),c2(n,t._query).then((o=>new Lo(e,i,t,o)))}function Lp(t,e,n){t=Mi(t,Ht);const i=Mi(t.firestore,zo),o=C2(t.converter,e,n);return Gg(i,[_2(yw(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Di.none())])}function Op(t,e,n,...i){t=Mi(t,Ht);const o=Mi(t.firestore,zo),a=yw(o);let u;return u=typeof(e=kt(e))=="string"||e instanceof kf?T2(a,"updateDoc",t._key,e,n,i):v2(a,"updateDoc",t._key,e),Gg(o,[u.toMutation(t._key,Di.exists(!0))])}function I2(t){return Gg(Mi(t.firestore,zo),[new Tg(t._key,Di.none())])}function R2(t,...e){var h,m,v;t=kt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||cE(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cE(e[i])){const E=e[i];e[i]=(h=E.next)==null?void 0:h.bind(E),e[i+1]=(m=E.error)==null?void 0:m.bind(E),e[i+2]=(v=E.complete)==null?void 0:v.bind(E)}let a,u,d;if(t instanceof Ht)u=Mi(t.firestore,zo),d=_g(t._key.path),a={next:E=>{e[i]&&e[i](b2(u,t,E))},error:e[i+1],complete:e[i+2]};else{const E=Mi(t,Wu);u=Mi(E.firestore,zo),d=E._query;const A=new zg(u);a={next:x=>{e[i]&&e[i](new Lo(u,A,E,x))},error:e[i+1],complete:e[i+2]},Aw(t._query)}return(function(A,x,L,F){const B=new dw(F),Q=new nw(x,B,L);return A.asyncQueue.enqueueAndForget((async()=>ew(await Vp(A),Q))),()=>{B.Nu(),A.asyncQueue.enqueueAndForget((async()=>tw(await Vp(A),Q)))}})(Lg(u),d,o,a)}function Gg(t,e){return(function(i,o){const a=new Lr;return i.asyncQueue.enqueueAndForget((async()=>WP(await u2(i),o,a))),a.promise})(Lg(t),e)}function b2(t,e,n){const i=n.docs.get(e._key),o=new zg(t);return new Uo(t,o,e._key,i,new Cu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){dl=o})(ul),os(new Pi("firestore",((i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new zo(new _M(i.getProvider("auth-internal")),new EM(u,i.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(m.options.projectId,v)})(u,o),u);return a={useFetchStreams:n,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),pi(pT,gT,e),pi(pT,gT,"esm2020")})();const Cw="@firebase/installations",Hg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=1e4,xw=`w:${Hg}`,Iw="FIS_v2",N2="https://firebaseinstallations.googleapis.com/v1",M2=3600*1e3,D2="installations",P2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Go=new Yo(D2,P2,k2);function Rw(t){return t instanceof Vi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw({projectId:t}){return`${N2}/projects/${t}/installations`}function Nw(t){return{token:t.token,requestStatus:2,expiresIn:U2(t.expiresIn),creationTime:Date.now()}}async function Mw(t,e){const i=(await e.json()).error;return Go.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Dw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function V2(t,{refreshToken:e}){const n=Dw(t);return n.append("Authorization",L2(e)),n}async function Pw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function U2(t){return Number(t.replace("s","000"))}function L2(t){return`${Iw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=bw(t),o=Dw(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:n,authVersion:Iw,appId:t.appId,sdkVersion:xw},d={method:"POST",headers:o,body:JSON.stringify(u)},h=await Pw(()=>fetch(i,d));if(h.ok){const m=await h.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:Nw(m.authToken)}}else throw await Mw("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=/^[cdef][\w-]{21}$/,qp="";function B2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=z2(t);return F2.test(n)?n:qp}catch{return qp}}function z2(t){return q2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;function Uw(t,e){const n=Lf(t);Lw(n,e),G2(n,e)}function Lw(t,e){const n=Vw.get(t);if(n)for(const i of n)i(e)}function G2(t,e){const n=H2();n&&n.postMessage({key:t,fid:e}),Y2()}let ko=null;function H2(){return!ko&&"BroadcastChannel"in self&&(ko=new BroadcastChannel("[Firebase] FID Change"),ko.onmessage=t=>{Lw(t.data.key,t.data.fid)}),ko}function Y2(){Vw.size===0&&ko&&(ko.close(),ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="firebase-installations-database",J2=1,Ho="firebase-installations-store";let np=null;function Yg(){return np||(np=lA(K2,J2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ho)}}})),np}async function af(t,e){const n=Lf(t),o=(await Yg()).transaction(Ho,"readwrite"),a=o.objectStore(Ho),u=await a.get(n);return await a.put(e,n),await o.done,(!u||u.fid!==e.fid)&&Uw(t,e.fid),e}async function Ow(t){const e=Lf(t),i=(await Yg()).transaction(Ho,"readwrite");await i.objectStore(Ho).delete(e),await i.done}async function Of(t,e){const n=Lf(t),o=(await Yg()).transaction(Ho,"readwrite"),a=o.objectStore(Ho),u=await a.get(n),d=e(u);return d===void 0?await a.delete(n):await a.put(d,n),await o.done,d&&(!u||u.fid!==d.fid)&&Uw(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(t){let e;const n=await Of(t.appConfig,i=>{const o=j2(i),a=$2(t,o);return e=a.registrationPromise,a.installationEntry});return n.fid===qp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function j2(t){const e=t||{fid:B2(),registrationStatus:0};return qw(e)}function $2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Go.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Q2(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:X2(t)}:{installationEntry:e}}async function Q2(t,e){try{const n=await O2(t,e);return af(t.appConfig,n)}catch(n){throw Rw(n)&&n.customData.serverCode===409?await Ow(t.appConfig):await af(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function X2(t){let e=await dE(t.appConfig);for(;e.registrationStatus===1;)await kw(100),e=await dE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Kg(t);return i||n}return e}function dE(t){return Of(t,e=>{if(!e)throw Go.create("installation-not-found");return qw(e)})}function qw(t){return W2(t)?{fid:t.fid,registrationStatus:0}:t}function W2(t){return t.registrationStatus===1&&t.registrationTime+ww<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2({appConfig:t,heartbeatServiceProvider:e},n){const i=ek(t,n),o=V2(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:xw,appId:t.appId}},d={method:"POST",headers:o,body:JSON.stringify(u)},h=await Pw(()=>fetch(i,d));if(h.ok){const m=await h.json();return Nw(m)}else throw await Mw("Generate Auth Token",h)}function ek(t,{fid:e}){return`${bw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jg(t,e=!1){let n;const i=await Of(t.appConfig,a=>{if(!Fw(a))throw Go.create("not-registered");const u=a.authToken;if(!e&&ik(u))return a;if(u.requestStatus===1)return n=tk(t,e),a;{if(!navigator.onLine)throw Go.create("app-offline");const d=rk(a);return n=nk(t,d),d}});return n?await n:i.authToken}async function tk(t,e){let n=await fE(t.appConfig);for(;n.authToken.requestStatus===1;)await kw(100),n=await fE(t.appConfig);const i=n.authToken;return i.requestStatus===0?Jg(t,e):i}function fE(t){return Of(t,e=>{if(!Fw(e))throw Go.create("not-registered");const n=e.authToken;return ok(n)?{...e,authToken:{requestStatus:0}}:e})}async function nk(t,e){try{const n=await Z2(t,e),i={...e,authToken:n};return await af(t.appConfig,i),n}catch(n){if(Rw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ow(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await af(t.appConfig,i)}throw n}}function Fw(t){return t!==void 0&&t.registrationStatus===2}function ik(t){return t.requestStatus===2&&!sk(t)}function sk(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+M2}function rk(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function ok(t){return t.requestStatus===1&&t.requestTime+ww<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t){const e=t,{installationEntry:n,registrationPromise:i}=await Kg(e);return i?i.catch(console.error):Jg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e=!1){const n=t;return await uk(n),(await Jg(n,e)).token}async function uk(t){const{registrationPromise:e}=await Kg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){if(!t||!t.options)throw ip("App Configuration");if(!t.name)throw ip("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ip(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ip(t){return Go.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="installations",dk="installations-internal",fk=t=>{const e=t.getProvider("app").getImmediate(),n=ck(e),i=Ko(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},hk=t=>{const e=t.getProvider("app").getImmediate(),n=Ko(e,Bw).getImmediate();return{getId:()=>ak(n),getToken:o=>lk(n,o)}};function mk(){os(new Pi(Bw,fk,"PUBLIC")),os(new Pi(dk,hk,"PRIVATE"))}mk();pi(Cw,Hg);pi(Cw,Hg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="analytics",pk="firebase_id",gk="origin",yk=60*1e3,_k="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new yf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new Yo("analytics","Analytics",vk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t){if(!t.startsWith(jg)){const e=Xn.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function zw(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Ek(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Sk(t,e){const n=Ek("firebase-js-sdk-policy",{createScriptURL:Tk}),i=document.createElement("script"),o=`${jg}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function Ak(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Ck(t,e,n,i,o,a){const u=i[o];try{if(u)await e[u];else{const h=(await zw(n)).find(m=>m.measurementId===o);h&&await e[h.appId]}}catch(d){Tn.error(d)}t("config",o,a)}async function wk(t,e,n,i,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const d=await zw(n);for(const h of u){const m=d.find(E=>E.measurementId===h),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",i,o||{})}catch(a){Tn.error(a)}}function xk(t,e,n,i){async function o(a,...u){try{if(a==="event"){const[d,h]=u;await wk(t,e,n,d,h)}else if(a==="config"){const[d,h]=u;await Ck(t,e,n,i,d,h)}else if(a==="consent"){const[d,h]=u;t("consent",d,h)}else if(a==="get"){const[d,h,m]=u;t("get",d,h,m)}else if(a==="set"){const[d]=u;t("set",d)}else t(a,...u)}catch(d){Tn.error(d)}}return o}function Ik(t,e,n,i,o){let a=function(...u){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=xk(a,t,e,n),{gtagCore:a,wrappedGtag:window[o]}}function Rk(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=30,Nk=1e3;class Mk{constructor(e={},n=Nk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Gw=new Mk;function Dk(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Pk(t){var u;const{appId:e,apiKey:n}=t,i={method:"GET",headers:Dk(n)},o=_k.replace("{app-id}",e),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let d="";try{const h=await a.json();(u=h.error)!=null&&u.message&&(d=h.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:d})}return a.json()}async function kk(t,e=Gw,n){const{appId:i,apiKey:o,measurementId:a}=t.options;if(!i)throw Xn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw Xn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Lk;return setTimeout(async()=>{d.abort()},yk),Hw({appId:i,apiKey:o,measurementId:a},u,d,e)}async function Hw(t,{throttleEndTimeMillis:e,backoffCount:n},i,o=Gw){var d;const{appId:a,measurementId:u}=t;try{await Vk(i,e)}catch(h){if(u)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw h}try{const h=await Pk(t);return o.deleteThrottleMetadata(a),h}catch(h){const m=h;if(!Uk(m)){if(o.deleteThrottleMetadata(a),u)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:a,measurementId:u};throw h}const v=Number((d=m==null?void 0:m.customData)==null?void 0:d.httpStatus)===503?F0(n,o.intervalMillis,bk):F0(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:n+1};return o.setThrottleMetadata(a,E),Tn.debug(`Calling attemptFetch again in ${v} millis`),Hw(t,E,i,o)}}function Vk(t,e){return new Promise((n,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(a),i(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Uk(t){if(!(t instanceof Vi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Lk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ok(t,e,n,i,o){if(o&&o.global){t("event",n,i);return}else{const a=await e,u={...i,send_to:a};t("event",n,u)}}async function qk(t,e,n,i){if(i&&i.global){const o={};for(const a of Object.keys(n))o[`user_properties.${a}`]=n[a];return t("set",o),Promise.resolve()}else{const o=await e;t("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(){if(sA())try{await rA()}catch(t){return Tn.warn(Xn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Tn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Bk(t,e,n,i,o,a,u){const d=kk(t);d.then(A=>{n[A.measurementId]=A.appId,t.options.measurementId&&A.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>Tn.error(A)),e.push(d);const h=Fk().then(A=>{if(A)return i.getId()}),[m,v]=await Promise.all([d,h]);Rk(a)||Sk(a,m.measurementId),o("js",new Date);const E=(u==null?void 0:u.config)??{};return E[gk]="firebase",E.update=!0,v!=null&&(E[pk]=v),o("config",m.measurementId,E),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.app=e}_delete(){return delete Wa[this.app.options.appId],Promise.resolve()}}let Wa={},hE=[];const mE={};let sp="dataLayer",Gk="gtag",pE,$g,gE=!1;function Hk(){const t=[];if(iA()&&t.push("This is a browser extension environment."),UR()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,o)=>`(${o+1}) ${i}`).join(" "),n=Xn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function Yk(t,e,n){Hk();const i=t.options.appId;if(!i)throw Xn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(Wa[i]!=null)throw Xn.create("already-exists",{id:i});if(!gE){Ak(sp);const{wrappedGtag:a,gtagCore:u}=Ik(Wa,hE,mE,sp,Gk);$g=a,pE=u,gE=!0}return Wa[i]=Bk(t,hE,mE,e,pE,sp,n),new zk(t)}function Kk(t=tg()){t=kt(t);const e=Ko(t,lf);return e.isInitialized()?e.getImmediate():Jk(t)}function Jk(t,e={}){const n=Ko(t,lf);if(n.isInitialized()){const o=n.getImmediate();if(qr(e,n.getOptions()))return o;throw Xn.create("already-initialized")}return n.initialize({options:e})}function jk(t,e,n){t=kt(t),qk($g,Wa[t.app.options.appId],e,n).catch(i=>Tn.error(i))}function Fp(t,e,n,i){t=kt(t),Ok($g,Wa[t.app.options.appId],e,n,i).catch(o=>Tn.error(o))}const yE="@firebase/analytics",_E="0.10.19";function $k(){os(new Pi(lf,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Yk(i,o,n)},"PUBLIC")),os(new Pi("analytics-internal",t,"PRIVATE")),pi(yE,_E),pi(yE,_E,"esm2020");function t(e){try{const n=e.getProvider(lf).getImmediate();return{logEvent:(i,o,a)=>Fp(n,i,o,a),setUserProperties:(i,o)=>jk(n,i,o)}}catch(n){throw Xn.create("interop-component-reg-failed",{reason:n})}}}$k();const Qk={apiKey:"AIzaSyDmqsdfWwUVK5koxlOnW_-k_TsMLGVCQ7o",authDomain:"inspiramais-6f73b.firebaseapp.com",projectId:"inspiramais-6f73b",storageBucket:"inspiramais-6f73b.firebasestorage.app",messagingSenderId:"747123918474",appId:"1:747123918474:web:bd55b098fd2f2c2ec0cf73",measurementId:"G-EBE8DRQ48E"},Qg=uA(Qk),xd=JA(Qg),Dr=h2(Qg),vE=Kk(Qg),Yw=Z.createContext(void 0),Xk=({children:t})=>{const[e,n]=Z.useState(null),[i,o]=Z.useState(!0),[a,u]=Z.useState(null);Z.useEffect(()=>i1(xd,x=>{n(x),o(!1)}),[]);const d=async A=>{u(null);try{await e1(xd,A.email,A.password)}catch(x){console.error("Login error:",x);let L="Falha ao entrar.";throw x.code==="auth/invalid-credential"&&(L="E-mail ou senha incorretos."),x.code==="auth/user-not-found"&&(L="Usurio no encontrado."),x.code==="auth/wrong-password"&&(L="Senha incorreta."),u(L),x}},h=async A=>{u(null);try{await UA(xd,A.email,A.password)}catch(x){console.error("Signup error:",x);let L="Falha ao criar conta.";throw x.code==="auth/email-already-in-use"&&(L="Este e-mail j est em uso."),x.code==="auth/weak-password"&&(L="A senha  muito fraca."),u(L),x}},m=async()=>{try{await s1(xd)}catch(A){console.error("Error during logout:",A)}},v=!!e,E=(e==null?void 0:e.email)||null;return T.jsx(Yw.Provider,{value:{currentUser:e,isAuthenticated:v,userEmail:E,login:d,signup:h,logout:m,isLoading:i,authError:a},children:t})},Kw=()=>{const t=Z.useContext(Yw);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Jw=Z.createContext(void 0),jw=[{id:"read_quotes",title:"Leitor Voraz",description:"Leia 5 citaes",target:5,current:0,xpReward:50,completed:!1,icon:"auto_stories"},{id:"like_quote",title:"Curadoria",description:"Curta 1 citao",target:1,current:0,xpReward:30,completed:!1,icon:"favorite"},{id:"share_quote",title:"Mensageiro",description:"Compartilhe sabedoria",target:1,current:0,xpReward:100,completed:!1,icon:"ios_share"}],rp={onboardingComplete:!1,isPremium:!1,subscriptionExpiry:"",source:"",age:"",name:"",gender:"",relationshipStatus:"",isReligious:"",beliefs:"",zodiac:"",feeling:"",feelingReason:"",improvementAreas:[],goals:"",appGoals:[],topics:[],stats:{xp:0,level:1,currentStreak:0,lastLoginDate:"",quests:jw,totalQuotesRead:0,totalLikes:0,totalShares:0}},Wk=t=>Math.floor(1+Math.sqrt((t||0)/100)),Zk=({children:t})=>{const{currentUser:e,isAuthenticated:n}=Kw(),[i,o]=Z.useState(null),[a,u]=Z.useState(!0);Z.useEffect(()=>{if(!n||!e){o(null),u(!1);return}u(!0);const v=Po(Dr,"users",e.uid),E=R2(v,A=>{if(A.exists()){const x=A.data(),L=new Date().toISOString().split("T")[0];let F=!1,B={...x.stats};if(B.quests||(B={...rp.stats,lastLoginDate:L},F=!0),B.lastLoginDate!==L){if(B.quests=jw.map(X=>({...X})),B.lastLoginDate){new Date(B.lastLoginDate);const X=new Date;X.setDate(X.getDate()-1);const W=X.toISOString().split("T")[0];B.lastLoginDate===W?B.currentStreak=(B.currentStreak||0)+1:B.currentStreak=1}else B.currentStreak=1;B.lastLoginDate=L,F=!0}let Q=x.isPremium||!1;if(Q&&x.subscriptionExpiry){const X=new Date(x.subscriptionExpiry);new Date>X&&(Q=!1,F=!0)}F?Op(v,{stats:B,isPremium:Q}).catch(console.error):o({...x,isPremium:Q})}else o(null);u(!1)},A=>{console.error("Firestore sync error:",A),u(!1)});return()=>E()},[e,n]);const d=async v=>{if(!e)return;const E=new Date().toISOString().split("T")[0],A={...rp,...v,stats:{...rp.stats,lastLoginDate:E,currentStreak:1}};try{await Lp(Po(Dr,"users",e.uid),A),o(A)}catch(x){console.error("Error initializing user in Firestore",x)}},h=Z.useCallback(async v=>{if(e){o(E=>E?{...E,...v}:null);try{const E=Po(Dr,"users",e.uid);await Lp(E,v,{merge:!0})}catch(E){console.error("Error updating user data:",E)}}},[e]),m=Z.useCallback(v=>{if(!i||!i.stats||!e)return null;const E=i.stats,A=E.quests?E.quests.map(Q=>({...Q})):[],x={...E,quests:A,totalQuotesRead:E.totalQuotesRead||0,totalLikes:E.totalLikes||0,totalShares:E.totalShares||0};v==="read_quotes"&&(x.totalQuotesRead+=1),v==="like_quote"&&(x.totalLikes+=1),v==="share_quote"&&(x.totalShares+=1);let L=!1,F=x.level;const B=x.quests.findIndex(Q=>Q.id===v);if(B!==-1){const Q=x.quests[B];if(!Q.completed&&(Q.current=(Q.current||0)+1,Q.current>=Q.target)){Q.completed=!0,x.xp+=Q.xpReward;const X=Wk(x.xp);X>x.level&&(x.level=X,L=!0,F=X)}}return h({stats:x}),L?{leveledUp:!0,newLevel:F}:null},[i,e,h]);return T.jsx(Jw.Provider,{value:{userData:i,setUserData:o,updateUserData:h,loading:a,completeQuest:m,initializeUser:d},children:t})},Un=()=>{const t=Z.useContext(Jw);if(t===void 0)throw new Error("useUserData must be used within a UserDataProvider");return t},qe=({iconName:t,className:e="",filled:n=!1,style:i,...o})=>{const a={...n?{fontVariationSettings:"'FILL' 1"}:{},width:"1em",height:"1em",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",...i};return T.jsx("span",{className:`material-symbols-outlined leading-none select-none ${e}`,style:a,...o,children:t})},eV=t=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",...t,children:[T.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),T.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),T.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),T.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),$w=t=>T.jsx(qe,{iconName:"lock",...t}),uf=t=>T.jsx(qe,{iconName:"workspace_premium",filled:!0,...t}),tV=t=>T.jsx(qe,{iconName:"share",...t}),qf=t=>T.jsx(qe,{iconName:"account_circle",...t}),Ff=t=>T.jsx(qe,{iconName:"arrow_back_ios_new",...t}),Y6=t=>T.jsx(qe,{iconName:"arrow_forward_ios",...t}),nV=t=>T.jsx(qe,{iconName:"keyboard_arrow_down",...t}),iV=t=>T.jsx(qe,{iconName:"credit_card",...t}),sV=t=>T.jsx(qe,{iconName:"settings",...t}),cf=t=>T.jsx(qe,{iconName:"check",...t}),Qw=t=>T.jsx(qe,{iconName:"check",filled:!0,...t}),K6=t=>T.jsx(qe,{iconName:"link",...t}),J6=t=>T.jsx(qe,{iconName:"content_copy",...t}),rV=t=>T.jsx(qe,{iconName:"format_quote",...t}),dn=t=>T.jsx(qe,{iconName:"check_circle",filled:!0,...t}),oV=t=>T.jsx(qe,{iconName:"filter_list",...t}),Bp=t=>T.jsx(qe,{iconName:"close",...t}),Xw=t=>T.jsx(qe,{iconName:"warning",...t}),j6=t=>T.jsx(qe,{iconName:"trending_up",...t}),aV=t=>T.jsx(qe,{iconName:"wb_sunny",...t}),lV=t=>T.jsx(qe,{iconName:"emoji_events",...t}),uV=t=>T.jsx(qe,{iconName:"local_fire_department",filled:!0,...t}),Vo=t=>T.jsx(qe,{iconName:"auto_awesome",...t}),cV=t=>T.jsx(qe,{iconName:"cached",...t}),$6=t=>T.jsx(qe,{iconName:"lightbulb",filled:!0,...t}),Q6=t=>T.jsx(qe,{iconName:"edit",...t}),dV=t=>T.jsx(qe,{iconName:"logout",...t}),fV=t=>T.jsx(qe,{iconName:"self_improvement",...t}),hV=t=>T.jsx(qe,{iconName:"psychology",...t}),X6=t=>T.jsx(qe,{iconName:"ads_click",...t}),W6=t=>T.jsx(qe,{iconName:"bolt",filled:!0,...t}),mV=t=>T.jsx(qe,{iconName:"star",filled:!0,...t}),pV=t=>T.jsx(qe,{iconName:"mail",...t}),gV=t=>T.jsx(qe,{iconName:"phone",...t}),Z6=t=>T.jsx(qe,{iconName:"download",...t}),zp=t=>T.jsx(qe,{iconName:"favorite",...t}),Xg=t=>T.jsx(qe,{iconName:"arrow_forward",...t}),En=({children:t,title:e,subtitle:n,footer:i,showSkip:o,onSkip:a,showBack:u,onBack:d,progress:h})=>T.jsxs("div",{className:"w-full h-full flex flex-col text-center bg-gray-50 p-4 md:p-6",children:[T.jsxs("header",{className:"flex-shrink-0 w-full max-w-xl mx-auto",role:"banner",children:[T.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center","aria-label":"Inspira mais",children:["Inspira",T.jsx("span",{className:"text-violet-500",children:"+"})]}),(u||o||h!==void 0)&&T.jsxs("div",{className:"flex justify-between items-center z-10 w-full mx-auto h-16 space-x-4 mt-2",role:"region","aria-label":"Barra de progresso e navegao",children:[T.jsx("div",{className:"w-14 flex-shrink-0",children:u&&T.jsx("button",{onClick:d,"aria-label":"Voltar",className:"w-12 h-12 rounded-full flex items-center justify-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 transition-colors",children:T.jsx(Ff,{className:"text-3xl"})})}),T.jsx("div",{className:"flex-grow",children:h!==void 0&&T.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":h,"aria-valuemin":0,"aria-valuemax":100,children:T.jsx("div",{className:"h-2 bg-violet-500 rounded-full transition-all duration-500",style:{width:`${h}%`}})})}),T.jsx("div",{className:"w-14 flex-shrink-0 text-right",children:o&&T.jsx("button",{onClick:a,"aria-label":"Pular esta etapa",className:"text-gray-500 hover:text-gray-800 transition-colors font-semibold text-lg px-2",children:"Pular"})})]})]}),T.jsxs("main",{className:"w-full max-w-xl mx-auto flex flex-col px-1 pt-4 flex-grow overflow-y-auto scrollbar-hide",children:[T.jsxs("div",{className:"flex-shrink-0 mb-8 text-center",role:"region","aria-label":"Ttulo da etapa de onboarding",children:[T.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-gray-900",children:e}),n&&T.jsx("p",{className:"text-gray-600 text-lg",children:n})]}),T.jsx("div",{className:"w-full",children:t}),i&&T.jsx("footer",{className:"w-full flex-shrink-0 pt-6 pb-4",children:i})]})]}),Qo=({onClick:t,disabled:e=!1,text:n="Continuar",type:i="button"})=>T.jsx("div",{className:"w-full",children:T.jsx("button",{type:i,onClick:t,disabled:e,className:"w-full bg-violet-500 text-white font-bold py-4 px-4 rounded-full transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-violet-600 active:bg-violet-700 transform active:scale-95 shadow-lg shadow-violet-500/30 hover:shadow-violet-500/40",children:n})}),yV=({onNext:t,onQuickStart:e,progress:n})=>T.jsx(En,{title:"Bem-vinda ao seu momento dirio",subtitle:"Encontre inspirao para fortalecer sua autoestima, clarear sua mente e nutrir sua alma.",progress:n,footer:T.jsxs("div",{className:"w-full space-y-3 animate-slide-in-up",style:{animationDelay:"0.5s"},children:[T.jsx(Qo,{onClick:t,text:"Personalizar Jornada"}),T.jsx("button",{onClick:e,className:"w-full text-gray-700 font-bold py-4 px-4 rounded-full transition-all bg-white ring-1 ring-gray-300 hover:bg-gray-100 active:bg-gray-200 transform active:scale-95","aria-label":"Incio Rpido, sem personalizao",children:"Entrar Agora"})]}),children:T.jsx("div",{className:"flex-grow flex items-center justify-center w-full my-4",children:T.jsx("div",{className:"my-4 animate-slide-in-up",style:{animationDelay:"0.3s"},children:T.jsx("div",{className:"relative w-48 h-48 flex items-center justify-center",children:T.jsx("div",{className:"relative w-full h-full rounded-full bg-violet-100 flex items-center justify-center","aria-hidden":"true",children:T.jsx("div",{className:"relative text-violet-500 flex items-center justify-center","aria-hidden":"true",children:T.jsx(fV,{style:{fontSize:"11rem"}})})})})})})}),_V=["Autoamor & Autoestima","Maternidade Real","Empreendedorismo Feminino","Liderana Feminina","Sagrado Feminino","Ciclos Naturais","Ansiedade & Sade Mental","Relacionamentos Saudveis","Carreira & Propsito","Independncia Financeira","Espiritualidade","Gratido Diria","Superao & Fora","Corpo Positivo","Amizade & Sororidade","Criatividade","Intuio","Equilbrio Vida-Trabalho","Resilincia","Felicidade Plena"],vV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState([]),{updateUserData:a}=Un(),u=m=>{o(v=>v.includes(m)?v.filter(E=>E!==m):[...v,m])},d=()=>{i.length>0&&(a({topics:i}),t())},h=()=>{t()};return T.jsx(En,{title:"O que toca seu corao hoje?",subtitle:"Selecione temas para guiarmos sua inspirao.",showSkip:!0,onSkip:h,showBack:!0,onBack:e,progress:n,footer:T.jsx(Qo,{onClick:d,disabled:i.length<3,text:"Concluir Personalizao"}),children:T.jsx("div",{role:"group","aria-label":"Tpicos de interesse",className:"flex flex-wrap gap-3 justify-center",children:_V.map(m=>T.jsx("button",{onClick:()=>u(m),className:`px-4 py-2 rounded-full transition-all duration-300 border-2 font-semibold text-base ${i.includes(m)?"bg-violet-500 border-violet-500 text-white":"bg-white border-gray-200 hover:border-violet-500 text-gray-800"}`,role:"checkbox","aria-checked":i.includes(m),children:m},m))})})},TV=["TikTok","Instagram","Facebook","Busca on-line","Amiga/Famlia","Outro"],EV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState(null),{updateUserData:a}=Un(),u=d=>{o(d),a({source:d}),setTimeout(()=>{t()},300)};return T.jsx(En,{title:"Como voc conheceu o Inspira+?",showBack:!0,onBack:e,progress:n,children:T.jsx("div",{role:"radiogroup","aria-label":"Opes de como conheceu o Inspira+",className:"space-y-3 w-full",children:TV.map(d=>T.jsxs("button",{onClick:()=>u(d),className:`w-full p-4 rounded-xl text-left transition-all duration-200 flex items-center justify-between font-medium text-lg border-2 ${i===d?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,role:"radio","aria-checked":i===d,children:[T.jsx("span",{children:d}),i===d&&T.jsx(dn,{className:"text-2xl text-white","aria-hidden":"true"})]},d))})})},SV=["13 a 17","18 a 24","25 a 34","35 a 44","45 a 54","55+"],AV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState(null),{updateUserData:a}=Un(),u=d=>{o(d),a({age:d}),setTimeout(()=>{t()},300)};return T.jsx(En,{title:"Qual  sua idade?",showSkip:!0,onSkip:t,showBack:!0,onBack:e,progress:n,children:T.jsx("div",{role:"radiogroup","aria-label":"Opes de idade",className:"space-y-3 w-full",children:SV.map(d=>T.jsxs("button",{onClick:()=>u(d),className:`w-full p-4 rounded-xl text-left transition-all duration-200 flex items-center justify-between font-medium text-lg border-2 ${i===d?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,role:"radio","aria-checked":i===d,children:[T.jsx("span",{children:d}),i===d&&T.jsx(dn,{className:"text-2xl text-white","aria-hidden":"true"})]},d))})})},CV=["Em um relacionamento feliz","Em um relacionamento desafiador","Solteira feliz","Solteira  procura","No interessada nesse tpico"],wV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState(null),{updateUserData:a}=Un(),u=d=>{o(d),a({relationshipStatus:d}),setTimeout(()=>{t()},300)};return T.jsx(En,{title:"Como voc descreveria o seu relacionamento?",showSkip:!0,onSkip:t,showBack:!0,onBack:e,progress:n,children:T.jsx("div",{role:"radiogroup","aria-label":"Opes de status de relacionamento",className:"space-y-3 w-full",children:CV.map(d=>T.jsxs("button",{onClick:()=>u(d),className:`w-full p-4 rounded-xl text-left transition-all duration-200 flex items-center justify-between font-medium text-lg border-2 ${i===d?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,role:"radio","aria-checked":i===d,children:[T.jsx("span",{children:d}),i===d&&T.jsx(dn,{className:"text-2xl text-white","aria-hidden":"true"})]},d))})})},xV=["Sim","No","Espiritual, mas no religiosa"],IV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState(null),a=u=>{o(u),setTimeout(()=>{t(u)},300)};return T.jsx(En,{title:"Voc  religiosa?",showSkip:!0,onSkip:()=>t("Pular"),showBack:!0,onBack:e,progress:n,children:T.jsx("div",{role:"radiogroup","aria-label":"Opes de crena religiosa",className:"space-y-3 w-full",children:xV.map(u=>T.jsxs("button",{onClick:()=>a(u),className:`w-full p-4 rounded-xl text-left transition-all duration-200 flex items-center justify-between font-medium text-lg border-2 ${i===u?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,role:"radio","aria-checked":i===u,children:[T.jsx("span",{children:u}),i===u&&T.jsx(dn,{className:"text-2xl text-white","aria-hidden":"true"})]},u))})})},RV=["Cristianismo","Judasmo","Islamismo","Hindusmo","Budismo","Outro"],bV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState(null),{updateUserData:a}=Un(),u=d=>{o(d),a({beliefs:d}),setTimeout(()=>{t()},300)};return T.jsx(En,{title:"Qual descreve melhor suas crenas?",showSkip:!0,onSkip:t,showBack:!0,onBack:e,progress:n,children:T.jsx("div",{role:"radiogroup","aria-label":"Opes de crena espiritual",className:"space-y-3 w-full",children:RV.map(d=>T.jsxs("button",{onClick:()=>u(d),className:`w-full p-4 rounded-xl text-left transition-all duration-200 flex items-center justify-between font-medium text-lg border-2 ${i===d?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,role:"radio","aria-checked":i===d,children:[T.jsx("span",{children:d}),i===d&&T.jsx(dn,{className:"text-2xl text-white","aria-hidden":"true"})]},d))})})},NV=["ries","Touro","Gmeos","Cncer","Leo","Virgem","Libra","Escorpio","Sagitrio","Capricrnio","Aqurio","Peixes"],MV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState(null),{updateUserData:a}=Un(),u=d=>{o(d),a({zodiac:d}),setTimeout(()=>{t()},300)};return T.jsx(En,{title:"Qual  o seu signo do zodaco?",showSkip:!0,onSkip:t,showBack:!0,onBack:e,progress:n,children:T.jsx("div",{role:"radiogroup","aria-label":"Opes de signo do zodaco",className:"grid grid-cols-2 sm:grid-cols-3 gap-3 w-full",children:NV.map(d=>T.jsx("button",{onClick:()=>u(d),className:`p-4 rounded-xl text-center transition-all duration-200 flex items-center justify-center font-medium text-lg border-2 relative ${i===d?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,role:"radio","aria-checked":i===d,children:T.jsx("span",{children:d})},d))})})},DV=["Sndrome da Impostora","Sobrecarga Mental","Aceitao do Corpo","Relacionamentos Txicos","Culpa Materna","Falta de Tempo para Mim"],PV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState([]),{updateUserData:a}=Un(),u=h=>{o(m=>m.includes(h)?m.filter(v=>v!==h):[...m,h])},d=()=>{i.length>0&&(a({improvementAreas:i}),t())};return T.jsx(En,{title:"O que voc quer superar?",showSkip:!0,onSkip:t,showBack:!0,onBack:e,progress:n,footer:T.jsx(Qo,{onClick:d,disabled:i.length===0,text:"Continuar"}),children:T.jsx("div",{role:"group","aria-label":"reas para melhorar",className:"space-y-3 w-full",children:DV.map(h=>T.jsxs("button",{onClick:()=>u(h),className:`w-full p-4 rounded-xl text-left transition-all duration-200 flex items-center justify-between font-medium text-lg border-2 ${i.includes(h)?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,role:"checkbox","aria-checked":i.includes(h),children:[T.jsx("span",{children:h}),i.includes(h)&&T.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:T.jsx(Qw,{className:"text-violet-500 text-2xl"})})]},h))})})},kV=["Resgatar minha autoestima","Equilibrar maternidade e carreira","Ter independncia emocional","Diminuir a carga mental e ansiedade","Me sentir mais empoderada","Desenvolver amor prprio","Conectar com minha intuio"],VV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState([]),{updateUserData:a}=Un(),u=h=>{o(m=>m.includes(h)?m.filter(v=>v!==h):[...m,h])},d=()=>{i.length>0&&(a({appGoals:i}),t())};return T.jsx(En,{title:"O que voc busca aqui, mulher?",showSkip:!0,onSkip:t,showBack:!0,onBack:e,progress:n,footer:T.jsx(Qo,{onClick:d,disabled:i.length===0,text:"Continuar"}),children:T.jsx("div",{role:"group","aria-label":"Objetivos com o aplicativo",className:"space-y-3 w-full",children:kV.map(h=>T.jsxs("button",{onClick:()=>u(h),className:`w-full p-4 rounded-xl text-left transition-all duration-200 flex items-center justify-between font-medium text-lg border-2 ${i.includes(h)?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,role:"checkbox","aria-checked":i.includes(h),children:[T.jsx("span",{className:"pr-4",children:h}),i.includes(h)&&T.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center flex-shrink-0",children:T.jsx(Qw,{className:"text-violet-500 text-2xl"})})]},h))})})},UV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState(""),{updateUserData:a}=Un(),u=()=>{a({goals:i}),t()};return T.jsx(En,{title:"Quais so seus objetivos no momento?",showSkip:!0,onSkip:t,showBack:!0,onBack:e,progress:n,footer:T.jsx(Qo,{onClick:u,text:"Continuar"}),children:T.jsxs("div",{className:"w-full",children:[T.jsx("textarea",{value:i,onChange:d=>o(d.target.value),placeholder:"Compartilhe as suas ideias aqui",maxLength:250,className:"w-full h-36 p-4 bg-white rounded-2xl text-gray-800 text-base outline-none transition-colors resize-none border-2 border-gray-200 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 placeholder-gray-400","aria-label":"Campo para descrever seus objetivos"}),T.jsxs("p",{className:"text-right text-sm text-gray-500 mt-2",children:[i.length,"/250"]})]})})},LV=({onNext:t,onBack:e,progress:n})=>T.jsx(En,{title:"Responda a algumas perguntas para ter contedo personalizado",progress:n,showBack:!0,onBack:e,footer:T.jsx(Qo,{onClick:t,text:"Continuar"}),children:T.jsx("div",{className:"flex-grow flex items-center justify-center my-12",children:T.jsx("div",{className:"text-violet-400 flex items-center justify-center",children:T.jsx(hV,{style:{fontSize:"15rem"}})})})}),OV=["Excelente","Bem","Normal","Mal","Terrvel"],qV=({onNext:t,onBack:e,progress:n})=>{const{userData:i,updateUserData:o}=Un(),[a,u]=Z.useState(null),d=h=>{u(h),o({feeling:h}),setTimeout(()=>{t()},300)};return T.jsx(En,{title:`Como voc tem se sentido ultimamente, ${(i==null?void 0:i.name)||"voc"}?`,showSkip:!0,onSkip:t,showBack:!0,onBack:e,progress:n,children:T.jsx("div",{className:"space-y-3 w-full",children:OV.map(h=>T.jsxs("button",{onClick:()=>d(h),className:`w-full p-4 rounded-xl text-left transition-all duration-200 flex items-center justify-between font-medium text-lg border-2 ${a===h?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,children:[T.jsx("span",{children:h}),a===h&&T.jsx(dn,{className:"text-2xl text-white"})]},h))})})},FV=["Famlia","Amigos","Trabalho","Sade","Relao","Dvida","Outro"],BV=({onNext:t,onBack:e,progress:n})=>{const[i,o]=Z.useState(null),{updateUserData:a}=Un(),u=d=>{o(d),a({feelingReason:d}),setTimeout(()=>{t()},300)};return T.jsx(En,{title:"O que est fazendo voc se sentir assim?",showSkip:!0,onSkip:t,showBack:!0,onBack:e,progress:n,children:T.jsx("div",{className:"space-y-3 w-full",children:FV.map(d=>T.jsxs("button",{onClick:()=>u(d),className:`w-full p-4 rounded-xl text-left transition-all duration-200 flex items-center justify-between font-medium text-lg border-2 ${i===d?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,children:[T.jsx("span",{children:d}),i===d&&T.jsx(dn,{className:"text-2xl text-white"})]},d))})})},Xr=t=>{Z.useEffect(()=>{try{Fp(vE,"screen_view",{firebase_screen:t,screen_name:t}),Fp(vE,"page_view",{page_title:t})}catch(e){console.warn("Analytics Error:",e)}},[t])},zV=[{question:"Tenho alguma garantia?",answer:"Sim! Voc tem 7 dias de garantia incondicional. Se no sentir que o Inspira+ est transformando seus dias, basta solicitar o reembolso diretamente na plataforma de pagamento ou via suporte. Sem perguntas."},{question:" seguro colocar meu carto?",answer:"Totalmente. O pagamento  processado por uma das maiores plataformas de produtos digitais do mundo (como Hotmart/Kiwify), que utiliza criptografia de ponta e segurana bancria. Ns no temos acesso aos seus dados financeiros."},{question:"Vou ter tempo de usar o app?",answer:"Com certeza. O Inspira+ foi criado justamente para mulheres ocupadas. O mtodo funciona com micro-doses de 30 segundos por dia."},{question:"Como funciona o cancelamento?",answer:"Voc tem total controle. Voc pode gerenciar sua renovao diretamente pelo link recebido no seu e-mail de compra ou falando com nosso suporte humanizado."},{question:"O contedo  atualizado?",answer:"Sim, diariamente! Nossa inteligncia artificial gera reflexes nicas baseadas no seu momento atual, e nossa curadoria humana adiciona novos temas toda semana. Voc nunca ficar sem inspirao nova."},{question:"E se eu precisar de ajuda?",answer:"Voc nunca estar sozinha. Nosso suporte  100% humanizado, feito por pessoas reais prontas para te ouvir e resolver qualquer dvida com carinho e agilidade."}],un=({children:t,delay:e="0s"})=>{const[n,i]=Z.useState(!1),o=Z.useRef(null);return Z.useEffect(()=>{const a=new IntersectionObserver(([u])=>{u.isIntersecting&&(i(!0),a.unobserve(u.target))},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return o.current&&a.observe(o.current),()=>{o.current&&a.disconnect()}},[]),T.jsx("div",{ref:o,className:`transition-all duration-1000 ease-out transform ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:e},children:t})},op=({text:t,author:e,label:n})=>T.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 p-6 md:p-8 rounded-3xl relative hover:bg-white/10 transition-colors duration-300 flex flex-col h-full justify-between",children:[T.jsxs("div",{children:[T.jsx("div",{className:"flex gap-1 mb-4",children:[1,2,3,4,5].map(i=>T.jsx(mV,{className:"text-amber-400 text-xs md:text-sm",filled:!0},i))}),T.jsxs("p",{className:"text-gray-200 mb-6 leading-relaxed text-base md:text-lg font-light font-serif",children:['"',t,'"']})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center font-bold text-white shadow-lg text-lg font-sans",children:e.charAt(0)}),T.jsxs("div",{children:[T.jsx("p",{className:"text-white font-bold text-sm md:text-base font-sans",children:e}),T.jsx("p",{className:"text-xs text-violet-300 font-medium uppercase tracking-wider font-sans",children:n})]})]})]}),GV=({onGetStarted:t,onLoginClick:e,onShowTerms:n,onShowPrivacy:i})=>{Xr("/landingpage");const[o,a]=Z.useState(null),u=d=>{a(o===d?null:d)};return T.jsxs("div",{className:"w-full h-full overflow-y-auto bg-[#050505] text-gray-100 font-sans selection:bg-violet-500/30 selection:text-white scrollbar-hide relative",children:[T.jsx("div",{className:"fixed inset-0 bg-noise opacity-[0.03] pointer-events-none z-50"}),T.jsxs("nav",{className:"fixed top-0 w-full z-40 px-4 md:px-6 py-4 flex justify-between items-center bg-[#050505]/80 backdrop-blur-xl border-b border-white/5 transition-all duration-300",children:[T.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[T.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-600 flex items-center justify-center text-white shadow-[0_0_15px_rgba(124,58,237,0.5)] group-hover:scale-110 transition-transform",children:T.jsx(Vo,{className:"text-lg"})}),T.jsxs("span",{className:"text-xl font-bold font-sans tracking-tight text-white",children:["Inspira",T.jsx("span",{className:"text-violet-500",children:"+"})]})]}),T.jsx("button",{onClick:e,className:"px-5 py-2 rounded-full bg-white text-black text-sm font-bold font-sans hover:bg-gray-200 hover:scale-105 active:scale-95 transition-all shadow-lg",children:"Entrar"})]}),T.jsxs("header",{className:"relative min-h-[90vh] flex flex-col justify-center items-center px-6 pt-32 pb-28 overflow-hidden",children:[T.jsx("div",{className:"absolute top-[20%] left-[-10%] w-[300px] md:w-[500px] h-[300px] md:h-[500px] bg-violet-800/20 rounded-full blur-[100px] pointer-events-none animate-pulse-slow"}),T.jsx("div",{className:"absolute bottom-[10%] right-[-10%] w-[300px] md:w-[500px] h-[300px] md:h-[500px] bg-fuchsia-800/10 rounded-full blur-[100px] pointer-events-none"}),T.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto text-center space-y-8 md:space-y-10",children:[T.jsx(un,{children:T.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full border border-violet-500/30 bg-violet-500/10 text-violet-300 text-[10px] md:text-[11px] font-bold tracking-[0.2em] uppercase mb-4 backdrop-blur-md shadow-[0_0_20px_rgba(139,92,246,0.15)] font-sans",children:[T.jsx(Vo,{className:"text-sm"})," Mtodo Comprovado"]})}),T.jsx(un,{delay:"100ms",children:T.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-sans font-extrabold text-white leading-[1.1] tracking-tight drop-shadow-2xl",children:["Acorda com peso no peito pensando: ",T.jsx("br",{}),T.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 via-fuchsia-300 to-white pr-2",children:'"Mais um dia igual"?'})]})}),T.jsx(un,{delay:"200ms",children:T.jsxs("p",{className:"text-base md:text-xl text-gray-400 font-light leading-relaxed max-w-2xl mx-auto font-sans px-4",children:["Receba doses dirias, curtas e 100% brasileiras de motivao. ",T.jsx("br",{className:"hidden md:block"}),T.jsx("span",{className:"text-white font-medium",children:"Sem clichs. Sem presso. S voc."})]})}),T.jsx(un,{delay:"300ms",children:T.jsxs("div",{className:"flex flex-col items-center pt-8",children:[T.jsxs("button",{onClick:t,className:"group relative w-full sm:w-auto px-8 md:px-12 py-4 md:py-5 bg-white text-black rounded-full font-bold font-sans text-lg shadow-[0_0_40px_rgba(255,255,255,0.2)] hover:shadow-[0_0_60px_rgba(255,255,255,0.4)] hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3 overflow-hidden",children:[T.jsx("span",{className:"relative z-10",children:"Comear sequncia de 30 dias"}),T.jsx(Xg,{className:"relative z-10 text-xl group-hover:translate-x-1 transition-transform"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-100 to-white opacity-0 group-hover:opacity-100 transition-opacity"})]}),T.jsxs("p",{className:"text-[10px] md:text-xs text-gray-500 mt-6 flex items-center gap-2 uppercase tracking-wider font-semibold font-sans",children:[T.jsx(dn,{className:"text-violet-500"})," Teste Gratuito Disponvel"]})]})})]}),T.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 animate-bounce opacity-30",children:T.jsx("div",{className:"w-5 h-8 border-2 border-white rounded-full flex justify-center pt-2",children:T.jsx("div",{className:"w-1 h-2 bg-white rounded-full"})})})]}),T.jsx("section",{className:"py-24 md:py-32 px-6 bg-gradient-to-b from-[#050505] to-[#0a0a0a]",children:T.jsxs("div",{className:"max-w-6xl mx-auto",children:[T.jsx(un,{children:T.jsxs("div",{className:"text-center mb-16 md:mb-20",children:[T.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-white mb-4",children:"Parece familiar?"}),T.jsx("p",{className:"text-gray-500 text-lg font-sans",children:"Voc no  a nica que se sente assim."})]})}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[T.jsx(un,{delay:"100ms",children:T.jsx("div",{className:"space-y-4 font-sans",children:[{icon:"",text:"Vive no piloto automtico, s pagando boleto."},{icon:"",text:"Sente uma mistura de ansiedade, culpa e vazio."},{icon:"",text:"Se sente 'fraca' por no manter hbitos."},{icon:"",text:"Compara sua vida com a perfeio das redes."},{icon:"",text:"Medo de se arrepender de no ter tentado mais."}].map((d,h)=>T.jsxs("div",{className:"flex gap-5 items-center bg-[#111] p-5 rounded-2xl border border-white/5 hover:border-red-500/20 hover:bg-[#151111] transition-colors group",children:[T.jsx("span",{className:"text-2xl grayscale group-hover:grayscale-0 transition-all opacity-70 group-hover:opacity-100",children:d.icon}),T.jsx("p",{className:"text-gray-300 font-medium text-sm md:text-base",children:d.text})]},h))})}),T.jsx(un,{delay:"300ms",children:T.jsxs("div",{className:"relative mt-8 md:mt-0",children:[T.jsx("div",{className:"absolute inset-0 bg-violet-600/20 blur-[60px] rounded-full pointer-events-none"}),T.jsxs("div",{className:"relative bg-[#111]/80 backdrop-blur-xl p-8 md:p-10 rounded-[2.5rem] border border-white/10 shadow-2xl",children:[T.jsx(rV,{className:"text-violet-500 text-5xl mb-6 opacity-50"}),T.jsx("h3",{className:"text-xl md:text-2xl text-white font-serif leading-relaxed mb-8",children:"Eu no consigo ser consistente. Todo mundo consegue, menos eu. J tentei de tudo e sempre desisto."}),T.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[T.jsx("div",{className:"h-px bg-white/20 w-12"}),T.jsx("p",{className:"text-[10px] md:text-xs text-gray-500 uppercase tracking-wider font-bold font-sans",children:"A voz na sua cabea"})]}),T.jsxs("div",{className:"bg-violet-500/10 rounded-2xl p-6 border border-violet-500/20",children:[T.jsxs("p",{className:"text-violet-300 font-bold mb-2 flex items-center gap-2 text-sm font-sans",children:[T.jsx(Vo,{})," A verdade libertadora:"]}),T.jsx("p",{className:"text-gray-300 leading-relaxed text-sm md:text-base font-sans",children:"Voc no precisa virar outra pessoa. Voc s precisa de um passo minsculo, mas real."})]})]})]})})]})]})}),T.jsxs("section",{className:"py-24 md:py-32 px-6 relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-violet-500/50 to-transparent"}),T.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-[0.03]"}),T.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[T.jsx("div",{className:"text-center mb-24 max-w-4xl mx-auto",children:T.jsxs(un,{children:[T.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-amber-500/10 rounded-full flex items-center justify-center mx-auto mb-8 border border-amber-500/20 shadow-[0_0_30px_rgba(245,158,11,0.2)]",children:T.jsx(uf,{className:"text-3xl md:text-4xl text-amber-500"})}),T.jsxs("h2",{className:"text-2xl md:text-4xl lg:text-5xl font-serif text-white mb-8 leading-tight",children:["Em ",T.jsx("span",{className:"text-amber-400",children:"3060 dias"})," voc vai olhar pra trs e se orgulhar da mulher que est voltando a ser."]})]})}),T.jsx("div",{className:"grid md:grid-cols-3 gap-6 md:gap-8",children:[{title:"Personalizao Real",desc:"Para sua situao atual: 'me que voltou da licena', 'ansiedade no trabalho', ou 'recm-separada'.",icon:T.jsx(qf,{className:"text-3xl text-white"}),color:"from-violet-600 to-indigo-600"},{title:"Sem Presso",desc:"Sem texto. Sem teorias complexas. Uma dose diria que te d um passo to pequeno que  impossvel desistir.",icon:T.jsx(zp,{className:"text-3xl text-white",filled:!0}),color:"from-pink-600 to-rose-600"},{title:"Gente como a gente",desc:"Contedo criado por mulheres reais que j passaram exatamente pelo que voc est passando hoje.",icon:T.jsx(dn,{className:"text-3xl text-white"}),color:"from-emerald-600 to-teal-600"}].map((d,h)=>T.jsx(un,{delay:`${h*150}ms`,children:T.jsxs("div",{className:"group bg-[#151515] p-8 md:p-10 rounded-[2.5rem] border border-white/5 hover:border-white/20 transition-all duration-500 hover:-translate-y-2 h-full relative overflow-hidden font-sans",children:[T.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${d.color} blur-[60px] opacity-20 group-hover:opacity-40 transition-opacity`}),T.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${d.color} flex items-center justify-center shadow-lg mb-8 group-hover:scale-110 transition-transform`,children:d.icon}),T.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-4 font-sans",children:d.title}),T.jsx("p",{className:"text-gray-400 leading-relaxed text-sm md:text-base font-sans",children:d.desc})]})},h))})]})]}),T.jsx("section",{className:"py-24 md:py-32 px-6 bg-[#080808]",children:T.jsxs("div",{className:"max-w-6xl mx-auto",children:[T.jsx(un,{children:T.jsxs("div",{className:"flex flex-col items-center text-center mb-16 md:mb-20",children:[T.jsxs("div",{className:"flex -space-x-4 mb-8",children:[[1,2,3,4].map(d=>T.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-[#080808] bg-gray-800 overflow-hidden relative",children:T.jsx("img",{src:`https://randomuser.me/api/portraits/women/${d+40}.jpg`,alt:"User",className:"w-full h-full object-cover"})},d)),T.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-[#080808] bg-gradient-to-br from-violet-600 to-fuchsia-600 flex items-center justify-center text-white text-sm font-bold shadow-lg z-10 font-sans",children:"+38k"})]}),T.jsx("h2",{className:"text-3xl md:text-5xl font-serif text-white mb-4",children:"Mais de 38 mil mulheres"}),T.jsx("p",{className:"text-gray-400 text-lg font-sans",children:"J mantiveram o streak por mais de 45 dias."})]})}),T.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[T.jsx(un,{delay:"0ms",children:T.jsx(op,{text:"Eu mantive 87 dias seguidos, nunca consegui isso na vida. A mensagem de hoje parecia que tinha sido escrita pra mim.",author:"Ana Clara",label:"87 dias seguidos"})}),T.jsx(un,{delay:"200ms",children:T.jsx(op,{text:"Hoje faz 21 dias e eu chorei de orgulho. No  sobre a frase,  sobre lembrar quem eu sou todo santo dia.",author:"Fernanda S.",label:"21 dias seguidos"})}),T.jsx(un,{delay:"400ms",children:T.jsx(op,{text:"Comecei achando que era s mais um app. Hoje  meu ritual sagrado antes de levantar da cama. Mudou meu humor matinal.",author:"Juliana M.",label:"4 meses de uso"})})]})]})}),T.jsxs("section",{className:"py-24 md:py-32 px-6 relative overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#080808] to-amber-950/20 pointer-events-none"}),T.jsx("div",{className:"max-w-5xl mx-auto relative z-10",children:T.jsxs(un,{children:[T.jsxs("div",{className:"text-center mb-16",children:[T.jsxs("h2",{className:"text-3xl md:text-4xl font-serif text-white mb-4",children:["Invista em voc",T.jsx("br",{})]}),T.jsx("p",{className:"text-gray-400 font-sans",children:"Menos que um caf na padaria."})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-4xl mx-auto items-center",children:[T.jsxs("div",{className:"order-2 md:order-1 bg-[#111] border border-white/5 rounded-[2rem] p-8 md:p-10 transition-all duration-300 opacity-90 hover:opacity-100 hover:scale-[1.02]",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-200 mb-2 font-serif",children:"Plano Mensal"}),T.jsxs("div",{className:"flex items-baseline gap-1 leading-none text-white mb-6",children:[T.jsx("span",{className:"text-sm text-gray-400 font-medium self-start mt-2",children:"R$"}),T.jsx("span",{className:"text-4xl font-bold font-sans",children:"14,90"}),T.jsx("span",{className:"text-sm text-gray-400 font-medium self-end mb-1",children:"/ms"})]}),T.jsxs("ul",{className:"space-y-3 mb-8 text-gray-400 text-sm",children:[T.jsxs("li",{className:"flex gap-2",children:[T.jsx(dn,{className:"text-gray-500"})," Sem Anncios"]}),T.jsxs("li",{className:"flex gap-2",children:[T.jsx(dn,{className:"text-gray-500"})," Acesso Ilimitado"]}),T.jsxs("li",{className:"flex gap-2",children:[T.jsx(dn,{className:"text-gray-500"})," Cancele quando quiser"]})]}),T.jsx("button",{onClick:t,className:"w-full bg-white/10 hover:bg-white/20 text-white font-bold py-4 rounded-xl transition-all",children:"Escolher Mensal"})]}),T.jsxs("div",{className:"order-1 md:order-2 relative bg-[#0a0a0a] border-2 border-amber-500/50 rounded-[2.5rem] p-8 md:p-12 overflow-hidden shadow-[0_0_50px_rgba(245,158,11,0.2)] transform transition-all duration-300 scale-105 z-10",children:[T.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-l from-amber-500 to-yellow-600 text-black text-[10px] md:text-xs font-bold px-6 py-2 rounded-bl-2xl uppercase tracking-widest shadow-lg font-sans",children:"Melhor Oferta"}),T.jsx("h3",{className:"text-2xl font-bold text-amber-100 mb-2 font-serif",children:"Plano Anual"}),T.jsx("p",{className:"text-amber-500/80 text-xs font-bold uppercase tracking-wider mb-8",children:"Economize 33%"}),T.jsxs("div",{className:"flex items-baseline gap-1 leading-none text-white mb-10",children:[T.jsx("span",{className:"text-lg text-gray-400 font-medium self-start mt-2",children:"R$"}),T.jsx("span",{className:"text-6xl font-bold font-sans text-transparent bg-clip-text bg-gradient-to-b from-amber-200 to-amber-500",children:"9,90"}),T.jsx("span",{className:"text-xl text-gray-400 font-medium self-end mb-2",children:"/ms"})]}),T.jsx("p",{className:"text-xs text-gray-500 -mt-8 mb-8",children:"Cobrado anualmente (R$ 118,80)"}),T.jsxs("ul",{className:"space-y-4 mb-10 text-gray-300 text-sm md:text-base",children:[T.jsxs("li",{className:"flex gap-3",children:[T.jsx(dn,{className:"text-amber-500 text-xl"})," Sem Anncios"]}),T.jsxs("li",{className:"flex gap-3",children:[T.jsx(dn,{className:"text-amber-500 text-xl"})," Acesso Ilimitado"]}),T.jsxs("li",{className:"flex gap-3",children:[T.jsx(dn,{className:"text-amber-500 text-xl"})," Cancele quando quiser"]})]}),T.jsxs("button",{onClick:t,className:"w-full bg-gradient-to-r from-amber-500 to-yellow-600 text-black font-bold py-5 rounded-full text-lg shadow-[0_0_40px_rgba(245,158,11,0.3)] hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-2",children:[T.jsx(uf,{className:"text-xl"})," Comear Agora"]}),T.jsx("p",{className:"text-center text-[10px] text-gray-500 mt-4 uppercase tracking-wider",children:"Garantia de 7 dias incondicional"})]})]})]})})]}),T.jsx("section",{className:"py-24 px-6 bg-[#0a0a0a] border-t border-white/5",children:T.jsxs("div",{className:"max-w-3xl mx-auto",children:[T.jsx(un,{children:T.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-white mb-12 text-center",children:"Dvidas Frequentes"})}),T.jsx("div",{className:"space-y-4",children:zV.map((d,h)=>{const m=o===h;return T.jsx(un,{delay:`${h*100}ms`,children:T.jsxs("div",{className:"bg-[#111] rounded-2xl border border-white/5 overflow-hidden transition-colors hover:bg-white/5",children:[T.jsxs("button",{onClick:()=>u(h),className:"w-full flex items-center justify-between p-6 text-left focus:outline-none","aria-expanded":m,children:[T.jsx("span",{className:"font-semibold text-base md:text-lg text-gray-200 pr-4 font-sans",children:d.question}),T.jsx("div",{className:`w-8 h-8 rounded-full bg-white/5 flex items-center justify-center transition-transform duration-300 ${m?"rotate-180 bg-white/10":""}`,children:T.jsx(nV,{className:"text-gray-400"})})]}),T.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${m?"max-h-60 opacity-100":"max-h-0 opacity-0"}`,children:T.jsx("p",{className:"p-6 pt-0 text-sm md:text-base text-gray-400 leading-relaxed font-sans border-t border-white/5",children:d.answer})})]})},h)})})]})}),T.jsxs("footer",{className:"py-12 text-center text-gray-600 text-xs border-t border-white/5 bg-[#050505] font-sans",children:[T.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 opacity-50 hover:opacity-100 transition-opacity",children:[T.jsx(Vo,{className:"text-violet-500"}),T.jsx("span",{className:"font-bold text-gray-400",children:"Inspira+"})]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto mb-8 text-left px-8",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-500 mb-4 uppercase tracking-wider",children:"Legal"}),T.jsxs("ul",{className:"space-y-2",children:[T.jsx("li",{children:T.jsx("button",{onClick:n,className:"hover:text-violet-400 transition-colors",children:"Termos de Uso"})}),T.jsx("li",{children:T.jsx("button",{onClick:i,className:"hover:text-violet-400 transition-colors",children:"Privacidade"})})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-500 mb-4 uppercase tracking-wider",children:"Suporte"}),T.jsxs("ul",{className:"space-y-2",children:[T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-violet-400 transition-colors",children:"Central de Ajuda"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-violet-400 transition-colors",children:"Fale Conosco"})})]})]})]}),T.jsxs("p",{children:[" ",new Date().getFullYear()," Inspira+. Feito com carinho no Brasil."]})]})]})};var Gp=(t=>(t[t.Landing=0]="Landing",t[t.Welcome=1]="Welcome",t[t.Source=2]="Source",t[t.Age=3]="Age",t[t.Relationship=4]="Relationship",t[t.Religious=5]="Religious",t[t.Beliefs=6]="Beliefs",t[t.Zodiac=7]="Zodiac",t[t.PersonalizeIntro3=8]="PersonalizeIntro3",t[t.Feeling=9]="Feeling",t[t.FeelingReason=10]="FeelingReason",t[t.Improvement=11]="Improvement",t[t.AppGoals=12]="AppGoals",t[t.Goals=13]="Goals",t[t.Topics=14]="Topics",t))(Gp||{});const HV=({onLoginClick:t,onShowTerms:e,onShowPrivacy:n})=>{const[i,o]=Z.useState([0]),{updateUserData:a}=Un(),u=i[i.length-1];Xr(`/onboarding/${Gp[u].toLowerCase()}`);const d=()=>{o(F=>[...F,F[F.length-1]+1])},h=()=>{i.length>1&&o(F=>F.slice(0,-1))},m=F=>{o(B=>[...B,F])},v=()=>{m(14)},E=()=>{localStorage.setItem("inspiraMoodCheckin",new Date().getTime().toString()),a({onboardingComplete:!0})},A=F=>{a({isReligious:F}),m(F==="Sim"||F==="Espiritual, mas no religioso"?6:8)};Object.keys(Gp).length/2;const x=u/15*100,L=()=>{switch(u){case 0:return T.jsx(GV,{onGetStarted:d,onLoginClick:t,onShowTerms:e,onShowPrivacy:n});case 1:return T.jsx(yV,{onNext:d,onQuickStart:v,progress:x});case 2:return T.jsx(EV,{onNext:d,onBack:h,progress:x});case 3:return T.jsx(AV,{onNext:d,onBack:h,progress:x});case 4:return T.jsx(wV,{onNext:d,onBack:h,progress:x});case 5:return T.jsx(IV,{onNext:A,onBack:h,progress:x});case 6:return T.jsx(bV,{onNext:d,onBack:h,progress:x});case 7:return T.jsx(MV,{onNext:d,onBack:h,progress:x});case 8:return T.jsx(LV,{onNext:d,onBack:h,progress:x});case 9:return T.jsx(qV,{onNext:d,onBack:h,progress:x});case 10:return T.jsx(BV,{onNext:d,onBack:h,progress:x});case 11:return T.jsx(PV,{onNext:d,onBack:h,progress:x});case 12:return T.jsx(VV,{onNext:d,onBack:h,progress:x});case 13:return T.jsx(UV,{onNext:d,onBack:h,progress:x});case 14:return T.jsx(vV,{onNext:E,onBack:h,progress:x});default:return T.jsx("div",{children:"Step not found"})}};return T.jsx("div",{className:"h-full w-full bg-gray-50 text-gray-800",children:L()})},YV=()=>{const[t,e]=Z.useState({text:"",author:""});return Z.useEffect(()=>{const n=new URLSearchParams(window.location.search),i=n.get("text")||"Sua citao inspiradora aparecer aqui.",o=n.get("author")||null;e({text:i,author:o||""})},[]),T.jsx("div",{className:"h-screen w-screen bg-black font-sans flex items-center justify-center p-8",children:T.jsxs("div",{className:"relative w-full max-w-md h-[85vh] max-h-[800px] flex flex-col justify-center items-start p-8 text-left text-white rounded-2xl shadow-2xl overflow-hidden aurora-background",children:[T.jsxs("div",{className:"relative z-10",children:[T.jsx("h1",{className:"text-2xl font-bold leading-tight drop-shadow-lg",children:t.text}),t.author&&T.jsxs("p",{className:"mt-4 text-lg italic opacity-80 drop-shadow-md",children:["- ",t.author]})]}),T.jsx("div",{className:"absolute bottom-6 left-8 z-10 text-lg font-bold text-white/80 drop-shadow-lg",children:"Inspira+"})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let KV,JV;function jV(){return{geminiUrl:KV,vertexUrl:JV}}function $V(t,e,n,i){var o,a;if(!(t!=null&&t.baseUrl)){const u=jV();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bs{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function p(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const h=t[d];if(Array.isArray(n))for(let m=0;m<h.length;m++){const v=h[m];p(v,e.slice(a+1),n[m])}else for(const m of h)p(m,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const h=t[d];p(h[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(d=>f(d,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function QV(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),a=i.split("."),u=new Set;let d=-1;for(let h=0;h<o.length;h++)if(o[h]==="*"){d=h;break}if(d!==-1&&a.length>d)for(let h=d;h<a.length;h++){const m=a[h];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&u.add(m)}Hp(t,o,a,0,u)}}function Hp(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),d=t;if(u in d&&Array.isArray(d[u]))for(const h of d[u])Hp(h,e,n,i+1,o)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,d=Object.keys(u).filter(m=>!m.startsWith("_")&&!o.has(m)),h={};for(const m of d)h[m]=u[m];for(const[m,v]of Object.entries(h)){const E=[];for(const A of n.slice(i))A==="*"?E.push(m):E.push(A);p(u,E,v)}for(const m of d)delete u[m]}}else{const u=t;a in u&&Hp(u[a],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XV(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const i=f(t,["resourceName"]);return i!=null&&p(e,["_url","resourceName"],i),e}function WV(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const a=f(t,["error"]);a!=null&&p(e,["error"],a);const u=f(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],eU(u)),e}function ZV(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const a=f(t,["error"]);a!=null&&p(e,["error"],a);const u=f(t,["response"]);return u!=null&&p(e,["response"],tU(u)),e}function eU(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>nU(u))),p(e,["generatedVideos"],a)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const o=f(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function tU(t){const e={},n=f(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>iU(u))),p(e,["generatedVideos"],a)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const o=f(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function nU(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],uU(n)),e}function iU(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],cU(n)),e}function sU(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function rU(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function oU(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const a=f(t,["error"]);a!=null&&p(e,["error"],a);const u=f(t,["response"]);return u!=null&&p(e,["response"],aU(u)),e}function aU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["parent"]);i!=null&&p(e,["parent"],i);const o=f(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function Ww(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const a=f(t,["error"]);a!=null&&p(e,["error"],a);const u=f(t,["response"]);return u!=null&&p(e,["response"],lU(u)),e}function lU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["parent"]);i!=null&&p(e,["parent"],i);const o=f(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function uU(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const i=f(t,["encodedVideo"]);i!=null&&p(e,["videoBytes"],Wg(i));const o=f(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function cU(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const i=f(t,["bytesBase64Encoded"]);i!=null&&p(e,["videoBytes"],Wg(i));const o=f(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var TE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(TE||(TE={}));var EE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(EE||(EE={}));var SE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(SE||(SE={}));var mt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mt||(mt={}));var AE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(AE||(AE={}));var CE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(CE||(CE={}));var wE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(wE||(wE={}));var xE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(xE||(xE={}));var IE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(IE||(IE={}));var RE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(RE||(RE={}));var bE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(bE||(bE={}));var NE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(NE||(NE={}));var ME;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ME||(ME={}));var DE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(DE||(DE={}));var PE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(PE||(PE={}));var kE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(kE||(kE={}));var VE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(VE||(VE={}));var UE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(UE||(UE={}));var LE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(LE||(LE={}));var df;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(df||(df={}));var OE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(OE||(OE={}));var qE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(qE||(qE={}));var FE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(FE||(FE={}));var Yp;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Yp||(Yp={}));var BE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(BE||(BE={}));var zE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zE||(zE={}));var GE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(GE||(GE={}));var HE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(HE||(HE={}));var YE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(YE||(YE={}));var KE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(KE||(KE={}));var JE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(JE||(JE={}));var jE;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(jE||(jE={}));var $E;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})($E||($E={}));var QE;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(QE||(QE={}));var XE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(XE||(XE={}));var WE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(WE||(WE={}));var ZE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ZE||(ZE={}));var eS;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(eS||(eS={}));var tS;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(tS||(tS={}));var nS;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(nS||(nS={}));var iS;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(iS||(iS={}));var sS;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(sS||(sS={}));var rS;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(rS||(rS={}));var oS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(oS||(oS={}));var aS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(aS||(aS={}));var lS;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(lS||(lS={}));var uS;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(uS||(uS={}));var cS;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(cS||(cS={}));var dS;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dS||(dS={}));var fS;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(fS||(fS={}));var hS;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(hS||(hS={}));var mS;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(mS||(mS={}));var pS;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(pS||(pS={}));var gS;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(gS||(gS={}));var Ja;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ja||(Ja={}));class Kp{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class yu{get text(){var e,n,i,o,a,u,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const E=[];for(const A of(h=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[x,L]of Object.entries(A))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(L!==null||L!==void 0)&&E.push(x);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;v=!0,m+=A.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,n,i,o,a,u,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const E of(h=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[A,x]of Object.entries(E))A!=="inlineData"&&(x!==null||x!==void 0)&&v.push(A);E.inlineData&&typeof E.inlineData.data=="string"&&(m+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,o,a,u,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(h=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,o,a,u,d,h,m;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(h=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,o,a,u,d,h,m;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(h=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class yS{}class _S{}class dU{}class fU{}class hU{}class mU{}class vS{}class TS{}class ES{}class pU{}class ff{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new ff;let o;const a=e;return n?o=ZV(a):o=WV(a),Object.assign(i,o),i}}class SS{}class AS{}class CS{}class wS{}class gU{}class yU{}class _U{}class Zg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Zg,a=oU(e);return Object.assign(i,a),i}}class vU{}class TU{}class EU{}class xS{}class SU{get text(){var e,n,i;let o="",a=!1;const u=[];for(const d of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,m]of Object.entries(d))h!=="text"&&h!=="thought"&&m!==null&&u.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;a=!0,o+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,i;let o="";const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,h]of Object.entries(u))d!=="inlineData"&&h!==null&&a.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class AU{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ey{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new ey,a=Ww(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Zw(t,e){const n=Ze(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ex(t){return Array.isArray(t)?t.map(e=>hf(e)):[hf(t)]}function hf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function tx(t){const e=hf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function nx(t){const e=hf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function IS(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ix(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>IS(e)):[IS(t)]}function Jp(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function RS(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function bS(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function hn(t){if(t==null)throw new Error("ContentUnion is required");return Jp(t)?t:{role:"user",parts:ix(t)}}function ty(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=hn(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=hn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>hn(n)):[hn(e)]}function gi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(RS(t)||bS(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[hn(t)]}const e=[],n=[],i=Jp(t[0]);for(const o of t){const a=Jp(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(RS(o)||bS(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:ix(n)}),e}function CU(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(mt).includes(n[0].toUpperCase())?n[0].toUpperCase():mt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(mt).includes(i.toUpperCase())?i.toUpperCase():mt.TYPE_UNSPECIFIED})}}function Za(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&CU(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(mt).includes(d.toUpperCase())?d.toUpperCase():mt.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Za(d);else if(i.includes(u)){const h=[];for(const m of d){if(m.type=="null"){e.nullable=!0;continue}h.push(Za(m))}e[u]=h}else if(o.includes(u)){const h={};for(const[m,v]of Object.entries(d))h[m]=Za(v);e[u]=h}else{if(u==="additionalProperties")continue;e[u]=d}return e}function ny(t){return Za(t)}function iy(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function sy(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function pl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Za(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Za(e.response));return t}function gl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function wU(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function zs(t,e){if(typeof e!="string")throw new Error("name must be a string");return wU(t,e,"cachedContents")}function sx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wr(t){return Wg(t)}function xU(t){return t!=null&&typeof t=="object"&&"name"in t}function IU(t){return t!=null&&typeof t=="object"&&"video"in t}function RU(t){return t!=null&&typeof t=="object"&&"uri"in t}function rx(t){var e;let n;if(xU(t)&&(n=t.name),!(RU(t)&&(n=t.uri,n===void 0))&&!(IU(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ox(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ax(t){for(const e of["models","tunedModels","publisherModels"])if(bU(t,e))return t[e];return[]}function bU(t,e){return t!==null&&typeof t=="object"&&e in t}function NU(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function MU(t,e={}){const n=[],i=new Set;for(const o of t){const a=o.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=NU(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function lx(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function DU(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ux(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let a=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const h=u.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function yl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function cx(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PU(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const i=f(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>hL(u))),p(e,["inlinedResponses"],a)}const o=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),p(e,["inlinedEmbedContentResponses"],a)}return e}function kU(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const i=f(t,["gcsDestination","outputUriPrefix"]);i!=null&&p(e,["gcsUri"],i);const o=f(t,["bigqueryDestination","outputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function VU(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const i=f(t,["gcsUri"]);i!=null&&p(e,["gcsDestination","outputUriPrefix"],i);const o=f(t,["bigqueryUri"]);if(o!=null&&p(e,["bigqueryDestination","outputUri"],o),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Od(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata","displayName"]);i!=null&&p(e,["displayName"],i);const o=f(t,["metadata","state"]);o!=null&&p(e,["state"],cx(o));const a=f(t,["metadata","createTime"]);a!=null&&p(e,["createTime"],a);const u=f(t,["metadata","endTime"]);u!=null&&p(e,["endTime"],u);const d=f(t,["metadata","updateTime"]);d!=null&&p(e,["updateTime"],d);const h=f(t,["metadata","model"]);h!=null&&p(e,["model"],h);const m=f(t,["metadata","output"]);return m!=null&&p(e,["dest"],PU(ux(m))),e}function jp(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["displayName"]);i!=null&&p(e,["displayName"],i);const o=f(t,["state"]);o!=null&&p(e,["state"],cx(o));const a=f(t,["error"]);a!=null&&p(e,["error"],a);const u=f(t,["createTime"]);u!=null&&p(e,["createTime"],u);const d=f(t,["startTime"]);d!=null&&p(e,["startTime"],d);const h=f(t,["endTime"]);h!=null&&p(e,["endTime"],h);const m=f(t,["updateTime"]);m!=null&&p(e,["updateTime"],m);const v=f(t,["model"]);v!=null&&p(e,["model"],v);const E=f(t,["inputConfig"]);E!=null&&p(e,["src"],UU(E));const A=f(t,["outputConfig"]);A!=null&&p(e,["dest"],kU(ux(A)));const x=f(t,["completionStats"]);return x!=null&&p(e,["completionStats"],x),e}function UU(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const i=f(t,["gcsSource","uris"]);i!=null&&p(e,["gcsUri"],i);const o=f(t,["bigquerySource","inputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function LU(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=f(e,["fileName"]);i!=null&&p(n,["fileName"],i);const o=f(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>fL(t,u))),p(n,["requests","requests"],a)}return n}function OU(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const i=f(t,["gcsUri"]);i!=null&&p(e,["gcsSource","uris"],i);const o=f(t,["bigqueryUri"]);if(o!=null&&p(e,["bigquerySource","inputUri"],o),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function qU(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function FU(t,e){const n={},i=f(e,["name"]);return i!=null&&p(n,["_url","name"],yl(t,i)),n}function BU(t,e){const n={},i=f(e,["name"]);return i!=null&&p(n,["_url","name"],yl(t,i)),n}function zU(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const i=f(t,["citationMetadata"]);i!=null&&p(e,["citationMetadata"],GU(i));const o=f(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const a=f(t,["finishReason"]);a!=null&&p(e,["finishReason"],a);const u=f(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const d=f(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const h=f(t,["index"]);h!=null&&p(e,["index"],h);const m=f(t,["logprobsResult"]);m!=null&&p(e,["logprobsResult"],m);const v=f(t,["safetyRatings"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(x=>x)),p(e,["safetyRatings"],A)}const E=f(t,["urlContextMetadata"]);return E!=null&&p(e,["urlContextMetadata"],E),e}function GU(t){const e={},n=f(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["citations"],i)}return e}function dx(t){const e={},n=f(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>TL(a))),p(e,["parts"],o)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function HU(t,e){const n={},i=f(t,["displayName"]);if(e!==void 0&&i!=null&&p(e,["batch","displayName"],i),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function YU(t,e){const n={},i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["dest"]);return e!==void 0&&o!=null&&p(e,["outputConfig"],VU(DU(o))),n}function NS(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["src"]);o!=null&&p(n,["batch","inputConfig"],LU(t,lx(t,o)));const a=f(e,["config"]);return a!=null&&HU(a,n),n}function KU(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["model"],Ze(t,i));const o=f(e,["src"]);o!=null&&p(n,["inputConfig"],OU(lx(t,o)));const a=f(e,["config"]);return a!=null&&YU(a,n),n}function JU(t,e){const n={},i=f(t,["displayName"]);return e!==void 0&&i!=null&&p(e,["batch","displayName"],i),n}function jU(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["src"]);o!=null&&p(n,["batch","inputConfig"],tL(t,o));const a=f(e,["config"]);return a!=null&&JU(a,n),n}function $U(t,e){const n={},i=f(e,["name"]);return i!=null&&p(n,["_url","name"],yl(t,i)),n}function QU(t,e){const n={},i=f(e,["name"]);return i!=null&&p(n,["_url","name"],yl(t,i)),n}function XU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["name"]);i!=null&&p(e,["name"],i);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const a=f(t,["error"]);return a!=null&&p(e,["error"],a),e}function WU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["name"]);i!=null&&p(e,["name"],i);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const a=f(t,["error"]);return a!=null&&p(e,["error"],a),e}function ZU(t,e){const n={},i=f(e,["contents"]);if(i!=null){let a=ty(t,i);Array.isArray(a)&&(a=a.map(u=>u)),p(n,["requests[]","request","content"],a)}const o=f(e,["config"]);return o!=null&&(p(n,["_self"],eL(o,n)),QV(n,{"requests[].*":"requests[].request.*"})),n}function eL(t,e){const n={},i=f(t,["taskType"]);e!==void 0&&i!=null&&p(e,["requests[]","taskType"],i);const o=f(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const a=f(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&p(e,["requests[]","outputDimensionality"],a),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function tL(t,e){const n={},i=f(e,["fileName"]);i!=null&&p(n,["file_name"],i);const o=f(e,["inlinedRequests"]);return o!=null&&p(n,["requests"],ZU(t,o)),n}function nL(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function iL(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const i=f(t,["args"]);i!=null&&p(e,["args"],i);const o=f(t,["name"]);if(o!=null&&p(e,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sL(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);if(i!=null&&p(e,["allowedFunctionNames"],i),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function rL(t,e,n){const i={},o=f(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],dx(hn(o)));const a=f(e,["temperature"]);a!=null&&p(i,["temperature"],a);const u=f(e,["topP"]);u!=null&&p(i,["topP"],u);const d=f(e,["topK"]);d!=null&&p(i,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&p(i,["candidateCount"],h);const m=f(e,["maxOutputTokens"]);m!=null&&p(i,["maxOutputTokens"],m);const v=f(e,["stopSequences"]);v!=null&&p(i,["stopSequences"],v);const E=f(e,["responseLogprobs"]);E!=null&&p(i,["responseLogprobs"],E);const A=f(e,["logprobs"]);A!=null&&p(i,["logprobs"],A);const x=f(e,["presencePenalty"]);x!=null&&p(i,["presencePenalty"],x);const L=f(e,["frequencyPenalty"]);L!=null&&p(i,["frequencyPenalty"],L);const F=f(e,["seed"]);F!=null&&p(i,["seed"],F);const B=f(e,["responseMimeType"]);B!=null&&p(i,["responseMimeType"],B);const Q=f(e,["responseSchema"]);Q!=null&&p(i,["responseSchema"],ny(Q));const X=f(e,["responseJsonSchema"]);if(X!=null&&p(i,["responseJsonSchema"],X),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const W=f(e,["safetySettings"]);if(n!==void 0&&W!=null){let U=W;Array.isArray(U)&&(U=U.map(M=>EL(M))),p(n,["safetySettings"],U)}const ae=f(e,["tools"]);if(n!==void 0&&ae!=null){let U=gl(ae);Array.isArray(U)&&(U=U.map(M=>AL(pl(M)))),p(n,["tools"],U)}const de=f(e,["toolConfig"]);if(n!==void 0&&de!=null&&p(n,["toolConfig"],SL(de)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=f(e,["cachedContent"]);n!==void 0&&ce!=null&&p(n,["cachedContent"],zs(t,ce));const D=f(e,["responseModalities"]);D!=null&&p(i,["responseModalities"],D);const N=f(e,["mediaResolution"]);N!=null&&p(i,["mediaResolution"],N);const R=f(e,["speechConfig"]);if(R!=null&&p(i,["speechConfig"],iy(R)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=f(e,["thinkingConfig"]);k!=null&&p(i,["thinkingConfig"],k);const P=f(e,["imageConfig"]);return P!=null&&p(i,["imageConfig"],dL(P)),i}function oL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>zU(m))),p(e,["candidates"],h)}const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const u=f(t,["responseId"]);u!=null&&p(e,["responseId"],u);const d=f(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function aL(t,e){const n={},i=f(e,["name"]);return i!=null&&p(n,["_url","name"],yl(t,i)),n}function lL(t,e){const n={},i=f(e,["name"]);return i!=null&&p(n,["_url","name"],yl(t,i)),n}function uL(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function cL(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function dL(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const i=f(t,["imageSize"]);if(i!=null&&p(e,["imageSize"],i),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function fL(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["request","model"],Ze(t,i));const o=f(e,["contents"]);if(o!=null){let d=gi(o);Array.isArray(d)&&(d=d.map(h=>dx(h))),p(n,["request","contents"],d)}const a=f(e,["metadata"]);a!=null&&p(n,["metadata"],a);const u=f(e,["config"]);return u!=null&&p(n,["request","generationConfig"],rL(t,u,f(n,["request"],{}))),n}function hL(t){const e={},n=f(t,["response"]);n!=null&&p(e,["response"],oL(n));const i=f(t,["error"]);return i!=null&&p(e,["error"],i),e}function mL(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);if(e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function pL(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),n}function gL(t){const e={},n=f(t,["config"]);return n!=null&&mL(n,e),e}function yL(t){const e={},n=f(t,["config"]);return n!=null&&pL(n,e),e}function _L(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=f(t,["operations"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Od(u))),p(e,["batchJobs"],a)}return e}function vL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=f(t,["batchPredictionJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>jp(u))),p(e,["batchJobs"],a)}return e}function TL(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const i=f(t,["codeExecutionResult"]);i!=null&&p(e,["codeExecutionResult"],i);const o=f(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const a=f(t,["fileData"]);a!=null&&p(e,["fileData"],nL(a));const u=f(t,["functionCall"]);u!=null&&p(e,["functionCall"],iL(u));const d=f(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],qU(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const v=f(t,["thought"]);v!=null&&p(e,["thought"],v);const E=f(t,["thoughtSignature"]);E!=null&&p(e,["thoughtSignature"],E);const A=f(t,["videoMetadata"]);return A!=null&&p(e,["videoMetadata"],A),e}function EL(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(t,["threshold"]);return i!=null&&p(e,["threshold"],i),e}function SL(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],sL(n));const i=f(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],i),e}function AL(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(E=>E)),p(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const a=f(t,["fileSearch"]);a!=null&&p(e,["fileSearch"],a);const u=f(t,["codeExecution"]);if(u!=null&&p(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],uL(d));const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],cL(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Fs||(Fs={}));class Xo{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CL extends Bs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Fs.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=NS(this.apiClient,e),i=n._url,o=fe("{model}:batchGenerateContent",i),d=n.batch.inputConfig.requests,h=d.requests,m=[];for(const v of h){const E=Object.assign({},v);if(E.systemInstruction){const A=E.systemInstruction;delete E.systemInstruction;const x=E.request;x.systemInstruction=A,E.request=x}m.push(E)}return d.requests=m,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${o}`;else if(u)i.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=KU(this.apiClient,e);return d=fe("batchPredictionJobs",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>jp(v))}else{const m=NS(this.apiClient,e);return d=fe("{model}:batchGenerateContent",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>Od(v))}}async createEmbeddingsInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=jU(this.apiClient,e);return a=fe("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Od(h))}}async get(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=lL(this.apiClient,e);return d=fe("batchPredictionJobs/{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>jp(v))}else{const m=aL(this.apiClient,e);return d=fe("batches/{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>Od(v))}}async cancel(e){var n,i,o,a;let u="",d={};if(this.apiClient.isVertexAI()){const h=BU(this.apiClient,e);u=fe("batchPredictionJobs/{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=FU(this.apiClient,e);u=fe("batches/{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=yL(e);return d=fe("batchPredictionJobs",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=vL(v),A=new xS;return Object.assign(A,E),A})}else{const m=gL(e);return d=fe("batches",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=_L(v),A=new xS;return Object.assign(A,E),A})}}async delete(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=QU(this.apiClient,e);return d=fe("batchPredictionJobs/{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>WU(v))}else{const m=$U(this.apiClient,e);return d=fe("batches/{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>XU(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wL(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function MS(t){const e={},n=f(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jL(a))),p(e,["parts"],o)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function xL(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const o=f(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const a=f(t,["displayName"]);e!==void 0&&a!=null&&p(e,["displayName"],a);const u=f(t,["contents"]);if(e!==void 0&&u!=null){let v=gi(u);Array.isArray(v)&&(v=v.map(E=>MS(E))),p(e,["contents"],v)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&p(e,["systemInstruction"],MS(hn(d)));const h=f(t,["tools"]);if(e!==void 0&&h!=null){let v=h;Array.isArray(v)&&(v=v.map(E=>QL(E))),p(e,["tools"],v)}const m=f(t,["toolConfig"]);if(e!==void 0&&m!=null&&p(e,["toolConfig"],$L(m)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function IL(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const o=f(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const a=f(t,["displayName"]);e!==void 0&&a!=null&&p(e,["displayName"],a);const u=f(t,["contents"]);if(e!==void 0&&u!=null){let E=gi(u);Array.isArray(E)&&(E=E.map(A=>A)),p(e,["contents"],E)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&p(e,["systemInstruction"],hn(d));const h=f(t,["tools"]);if(e!==void 0&&h!=null){let E=h;Array.isArray(E)&&(E=E.map(A=>XL(A))),p(e,["tools"],E)}const m=f(t,["toolConfig"]);e!==void 0&&m!=null&&p(e,["toolConfig"],m);const v=f(t,["kmsKeyName"]);return e!==void 0&&v!=null&&p(e,["encryption_spec","kmsKeyName"],v),n}function RL(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["model"],Zw(t,i));const o=f(e,["config"]);return o!=null&&xL(o,n),n}function bL(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["model"],Zw(t,i));const o=f(e,["config"]);return o!=null&&IL(o,n),n}function NL(t,e){const n={},i=f(e,["name"]);return i!=null&&p(n,["_url","name"],zs(t,i)),n}function ML(t,e){const n={},i=f(e,["name"]);return i!=null&&p(n,["_url","name"],zs(t,i)),n}function DL(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function PL(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function kL(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function VL(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const i=f(t,["args"]);i!=null&&p(e,["args"],i);const o=f(t,["name"]);if(o!=null&&p(e,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UL(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);if(i!=null&&p(e,["allowedFunctionNames"],i),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function LL(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const i=f(t,["name"]);i!=null&&p(e,["name"],i);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const a=f(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const u=f(t,["response"]);u!=null&&p(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function OL(t,e){const n={},i=f(e,["name"]);return i!=null&&p(n,["_url","name"],zs(t,i)),n}function qL(t,e){const n={},i=f(e,["name"]);return i!=null&&p(n,["_url","name"],zs(t,i)),n}function FL(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function BL(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function zL(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function GL(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function HL(t){const e={},n=f(t,["config"]);return n!=null&&zL(n,e),e}function YL(t){const e={},n=f(t,["config"]);return n!=null&&GL(n,e),e}function KL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=f(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),p(e,["cachedContents"],a)}return e}function JL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=f(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),p(e,["cachedContents"],a)}return e}function jL(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const i=f(t,["codeExecutionResult"]);i!=null&&p(e,["codeExecutionResult"],i);const o=f(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const a=f(t,["fileData"]);a!=null&&p(e,["fileData"],kL(a));const u=f(t,["functionCall"]);u!=null&&p(e,["functionCall"],VL(u));const d=f(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],wL(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const v=f(t,["thought"]);v!=null&&p(e,["thought"],v);const E=f(t,["thoughtSignature"]);E!=null&&p(e,["thoughtSignature"],E);const A=f(t,["videoMetadata"]);return A!=null&&p(e,["videoMetadata"],A),e}function $L(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],UL(n));const i=f(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],i),e}function QL(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(E=>E)),p(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const a=f(t,["fileSearch"]);a!=null&&p(e,["fileSearch"],a);const u=f(t,["codeExecution"]);if(u!=null&&p(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],FL(d));const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],BL(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function XL(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(A=>LL(A))),p(e,["functionDeclarations"],E)}const i=f(t,["retrieval"]);i!=null&&p(e,["retrieval"],i);const o=f(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],o);const a=f(t,["computerUse"]);if(a!=null&&p(e,["computerUse"],a),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["enterpriseWebSearch"]);d!=null&&p(e,["enterpriseWebSearch"],d);const h=f(t,["googleMaps"]);h!=null&&p(e,["googleMaps"],h);const m=f(t,["googleSearch"]);m!=null&&p(e,["googleSearch"],m);const v=f(t,["urlContext"]);return v!=null&&p(e,["urlContext"],v),e}function WL(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const o=f(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),n}function ZL(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const o=f(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),n}function e4(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],zs(t,i));const o=f(e,["config"]);return o!=null&&WL(o,n),n}function t4(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],zs(t,i));const o=f(e,["config"]);return o!=null&&ZL(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n4 extends Bs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Fs.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=bL(this.apiClient,e);return d=fe("cachedContents",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const m=RL(this.apiClient,e);return d=fe("cachedContents",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async get(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=qL(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const m=OL(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=ML(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=PL(v),A=new CS;return Object.assign(A,E),A})}else{const m=NL(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=DL(v),A=new CS;return Object.assign(A,E),A})}}async update(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=t4(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const m=e4(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async listInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=YL(e);return d=fe("cachedContents",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=JL(v),A=new wS;return Object.assign(A,E),A})}else{const m=HL(e);return d=fe("cachedContents",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=KL(v),A=new wS;return Object.assign(A,E),A})}}}function DS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _t(t){return this instanceof _t?(this.v=t,this):new _t(t)}function el(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(x){return function(L){return Promise.resolve(L).then(x,E)}}function d(x,L){i[x]&&(o[x]=function(F){return new Promise(function(B,Q){a.push([x,F,B,Q])>1||h(x,F)})},L&&(o[x]=L(o[x])))}function h(x,L){try{m(i[x](L))}catch(F){A(a[0][3],F)}}function m(x){x.value instanceof _t?Promise.resolve(x.value.v).then(v,E):A(a[0][2],x)}function v(x){h("next",x)}function E(x){h("throw",x)}function A(x,L){x(L),a.shift(),a.length&&h(a[0][0],a[0][1])}}function Mu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof DS=="function"?DS(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(u){return new Promise(function(d,h){u=t[a](u),o(d,h,u.done,u.value)})}}function o(a,u,d,h){Promise.resolve(h).then(function(m){a({value:m,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i4(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:fx(n)}function fx(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function s4(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function PS(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let a=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),a&&!fx(t[i])&&(a=!1),i++;a?e.push(...o):e.pop()}return e}class r4{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new o4(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class o4{constructor(e,n,i,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),s4(a)}async sendMessage(e){var n;await this.sendPromise;const i=hn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,d;const h=await o,m=(u=(a=h.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,v=h.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let A=[];v!=null&&(A=(d=v.slice(E))!==null&&d!==void 0?d:[]);const x=m?[m]:[];this.recordHistory(i,x,A)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=hn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?PS(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return el(this,arguments,function*(){var u,d,h,m;const v=[];try{for(var E=!0,A=Mu(e),x;x=yield _t(A.next()),u=x.done,!u;E=!0){m=x.value,E=!1;const L=m;if(i4(L)){const F=(o=(i=L.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;F!==void 0&&v.push(F)}yield yield _t(L)}}catch(L){d={error:L}}finally{try{!E&&!u&&(h=A.return)&&(yield _t(h.call(A)))}finally{if(d)throw d.error}}this.recordHistory(n,v)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...PS(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Bf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a4(t){const e={},n=f(t,["file"]);return n!=null&&p(e,["file"],n),e}function l4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function u4(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],rx(n)),e}function c4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function d4(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],rx(n)),e}function f4(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function h4(t){const e={},n=f(t,["config"]);return n!=null&&f4(n,e),e}function m4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=f(t,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),p(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p4 extends Bs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Fs.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=h4(e);return a=fe("files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const m=m4(h),v=new vU;return Object.assign(v,m),v})}}async createInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=a4(e);return a=fe("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const m=l4(h),v=new TU;return Object.assign(v,m),v})}}async get(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=d4(e);return a=fe("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=u4(e);return a=fe("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const m=c4(h),v=new EU;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qd(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function g4(t){const e={},n=f(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>D4(a))),p(e,["parts"],o)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function y4(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function _4(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const i=f(t,["args"]);i!=null&&p(e,["args"],i);const o=f(t,["name"]);if(o!=null&&p(e,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function v4(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const i=f(t,["name"]);i!=null&&p(e,["name"],i);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const a=f(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const u=f(t,["response"]);u!=null&&p(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function T4(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const i=f(t,["responseJsonSchema"]);i!=null&&p(e,["responseJsonSchema"],i);const o=f(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const a=f(t,["candidateCount"]);a!=null&&p(e,["candidateCount"],a);const u=f(t,["enableAffectiveDialog"]);u!=null&&p(e,["enableAffectiveDialog"],u);const d=f(t,["frequencyPenalty"]);d!=null&&p(e,["frequencyPenalty"],d);const h=f(t,["logprobs"]);h!=null&&p(e,["logprobs"],h);const m=f(t,["maxOutputTokens"]);m!=null&&p(e,["maxOutputTokens"],m);const v=f(t,["mediaResolution"]);v!=null&&p(e,["mediaResolution"],v);const E=f(t,["presencePenalty"]);E!=null&&p(e,["presencePenalty"],E);const A=f(t,["responseLogprobs"]);A!=null&&p(e,["responseLogprobs"],A);const x=f(t,["responseMimeType"]);x!=null&&p(e,["responseMimeType"],x);const L=f(t,["responseModalities"]);L!=null&&p(e,["responseModalities"],L);const F=f(t,["responseSchema"]);F!=null&&p(e,["responseSchema"],F);const B=f(t,["routingConfig"]);B!=null&&p(e,["routingConfig"],B);const Q=f(t,["seed"]);Q!=null&&p(e,["seed"],Q);const X=f(t,["speechConfig"]);X!=null&&p(e,["speechConfig"],hx(X));const W=f(t,["stopSequences"]);W!=null&&p(e,["stopSequences"],W);const ae=f(t,["temperature"]);ae!=null&&p(e,["temperature"],ae);const de=f(t,["thinkingConfig"]);de!=null&&p(e,["thinkingConfig"],de);const ce=f(t,["topK"]);ce!=null&&p(e,["topK"],ce);const D=f(t,["topP"]);if(D!=null&&p(e,["topP"],D),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function E4(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function S4(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function A4(t,e){const n={},i=f(t,["generationConfig"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig"],i);const o=f(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const a=f(t,["temperature"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","temperature"],a);const u=f(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const h=f(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const v=f(t,["seed"]);e!==void 0&&v!=null&&p(e,["setup","generationConfig","seed"],v);const E=f(t,["speechConfig"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","speechConfig"],sy(E));const A=f(t,["thinkingConfig"]);e!==void 0&&A!=null&&p(e,["setup","generationConfig","thinkingConfig"],A);const x=f(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],x);const L=f(t,["systemInstruction"]);e!==void 0&&L!=null&&p(e,["setup","systemInstruction"],g4(hn(L)));const F=f(t,["tools"]);if(e!==void 0&&F!=null){let ce=gl(F);Array.isArray(ce)&&(ce=ce.map(D=>k4(pl(D)))),p(e,["setup","tools"],ce)}const B=f(t,["sessionResumption"]);e!==void 0&&B!=null&&p(e,["setup","sessionResumption"],P4(B));const Q=f(t,["inputAudioTranscription"]);e!==void 0&&Q!=null&&p(e,["setup","inputAudioTranscription"],Q);const X=f(t,["outputAudioTranscription"]);e!==void 0&&X!=null&&p(e,["setup","outputAudioTranscription"],X);const W=f(t,["realtimeInputConfig"]);e!==void 0&&W!=null&&p(e,["setup","realtimeInputConfig"],W);const ae=f(t,["contextWindowCompression"]);e!==void 0&&ae!=null&&p(e,["setup","contextWindowCompression"],ae);const de=f(t,["proactivity"]);return e!==void 0&&de!=null&&p(e,["setup","proactivity"],de),n}function C4(t,e){const n={},i=f(t,["generationConfig"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig"],T4(i));const o=f(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const a=f(t,["temperature"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","temperature"],a);const u=f(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const h=f(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const v=f(t,["seed"]);e!==void 0&&v!=null&&p(e,["setup","generationConfig","seed"],v);const E=f(t,["speechConfig"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","speechConfig"],hx(sy(E)));const A=f(t,["thinkingConfig"]);e!==void 0&&A!=null&&p(e,["setup","generationConfig","thinkingConfig"],A);const x=f(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],x);const L=f(t,["systemInstruction"]);e!==void 0&&L!=null&&p(e,["setup","systemInstruction"],hn(L));const F=f(t,["tools"]);if(e!==void 0&&F!=null){let ce=gl(F);Array.isArray(ce)&&(ce=ce.map(D=>V4(pl(D)))),p(e,["setup","tools"],ce)}const B=f(t,["sessionResumption"]);e!==void 0&&B!=null&&p(e,["setup","sessionResumption"],B);const Q=f(t,["inputAudioTranscription"]);e!==void 0&&Q!=null&&p(e,["setup","inputAudioTranscription"],Q);const X=f(t,["outputAudioTranscription"]);e!==void 0&&X!=null&&p(e,["setup","outputAudioTranscription"],X);const W=f(t,["realtimeInputConfig"]);e!==void 0&&W!=null&&p(e,["setup","realtimeInputConfig"],W);const ae=f(t,["contextWindowCompression"]);e!==void 0&&ae!=null&&p(e,["setup","contextWindowCompression"],ae);const de=f(t,["proactivity"]);return e!==void 0&&de!=null&&p(e,["setup","proactivity"],de),n}function w4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["setup","model"],Ze(t,i));const o=f(e,["config"]);return o!=null&&p(n,["config"],A4(o,n)),n}function x4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["setup","model"],Ze(t,i));const o=f(e,["config"]);return o!=null&&p(n,["config"],C4(o,n)),n}function I4(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function R4(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["weightedPrompts"],i)}return e}function b4(t){const e={},n=f(t,["media"]);if(n!=null){let m=ex(n);Array.isArray(m)&&(m=m.map(v=>qd(v))),p(e,["mediaChunks"],m)}const i=f(t,["audio"]);i!=null&&p(e,["audio"],qd(nx(i)));const o=f(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const a=f(t,["video"]);a!=null&&p(e,["video"],qd(tx(a)));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const d=f(t,["activityStart"]);d!=null&&p(e,["activityStart"],d);const h=f(t,["activityEnd"]);return h!=null&&p(e,["activityEnd"],h),e}function N4(t){const e={},n=f(t,["media"]);if(n!=null){let m=ex(n);Array.isArray(m)&&(m=m.map(v=>v)),p(e,["mediaChunks"],m)}const i=f(t,["audio"]);i!=null&&p(e,["audio"],nx(i));const o=f(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const a=f(t,["video"]);a!=null&&p(e,["video"],tx(a));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const d=f(t,["activityStart"]);d!=null&&p(e,["activityStart"],d);const h=f(t,["activityEnd"]);return h!=null&&p(e,["activityEnd"],h),e}function M4(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const i=f(t,["serverContent"]);i!=null&&p(e,["serverContent"],i);const o=f(t,["toolCall"]);o!=null&&p(e,["toolCall"],o);const a=f(t,["toolCallCancellation"]);a!=null&&p(e,["toolCallCancellation"],a);const u=f(t,["usageMetadata"]);u!=null&&p(e,["usageMetadata"],U4(u));const d=f(t,["goAway"]);d!=null&&p(e,["goAway"],d);const h=f(t,["sessionResumptionUpdate"]);return h!=null&&p(e,["sessionResumptionUpdate"],h),e}function D4(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const i=f(t,["codeExecutionResult"]);i!=null&&p(e,["codeExecutionResult"],i);const o=f(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const a=f(t,["fileData"]);a!=null&&p(e,["fileData"],y4(a));const u=f(t,["functionCall"]);u!=null&&p(e,["functionCall"],_4(u));const d=f(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],qd(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const v=f(t,["thought"]);v!=null&&p(e,["thought"],v);const E=f(t,["thoughtSignature"]);E!=null&&p(e,["thoughtSignature"],E);const A=f(t,["videoMetadata"]);return A!=null&&p(e,["videoMetadata"],A),e}function P4(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hx(t){const e={},n=f(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const i=f(t,["voiceConfig"]);if(i!=null&&p(e,["voiceConfig"],i),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function k4(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(E=>E)),p(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const a=f(t,["fileSearch"]);a!=null&&p(e,["fileSearch"],a);const u=f(t,["codeExecution"]);if(u!=null&&p(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],E4(d));const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],S4(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function V4(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(A=>v4(A))),p(e,["functionDeclarations"],E)}const i=f(t,["retrieval"]);i!=null&&p(e,["retrieval"],i);const o=f(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],o);const a=f(t,["computerUse"]);if(a!=null&&p(e,["computerUse"],a),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["enterpriseWebSearch"]);d!=null&&p(e,["enterpriseWebSearch"],d);const h=f(t,["googleMaps"]);h!=null&&p(e,["googleMaps"],h);const m=f(t,["googleSearch"]);m!=null&&p(e,["googleSearch"],m);const v=f(t,["urlContext"]);return v!=null&&p(e,["urlContext"],v),e}function U4(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const i=f(t,["cachedContentTokenCount"]);i!=null&&p(e,["cachedContentTokenCount"],i);const o=f(t,["candidatesTokenCount"]);o!=null&&p(e,["responseTokenCount"],o);const a=f(t,["toolUsePromptTokenCount"]);a!=null&&p(e,["toolUsePromptTokenCount"],a);const u=f(t,["thoughtsTokenCount"]);u!=null&&p(e,["thoughtsTokenCount"],u);const d=f(t,["totalTokenCount"]);d!=null&&p(e,["totalTokenCount"],d);const h=f(t,["promptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(L=>L)),p(e,["promptTokensDetails"],x)}const m=f(t,["cacheTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(L=>L)),p(e,["cacheTokensDetails"],x)}const v=f(t,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(L=>L)),p(e,["responseTokensDetails"],x)}const E=f(t,["toolUsePromptTokensDetails"]);if(E!=null){let x=E;Array.isArray(x)&&(x=x.map(L=>L)),p(e,["toolUsePromptTokensDetails"],x)}const A=f(t,["trafficType"]);return A!=null&&p(e,["trafficType"],A),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L4(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function O4(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const i=f(t,["citationMetadata"]);i!=null&&p(e,["citationMetadata"],q4(i));const o=f(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const a=f(t,["finishReason"]);a!=null&&p(e,["finishReason"],a);const u=f(t,["avgLogprobs"]);u!=null&&p(e,["avgLogprobs"],u);const d=f(t,["groundingMetadata"]);d!=null&&p(e,["groundingMetadata"],d);const h=f(t,["index"]);h!=null&&p(e,["index"],h);const m=f(t,["logprobsResult"]);m!=null&&p(e,["logprobsResult"],m);const v=f(t,["safetyRatings"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(x=>x)),p(e,["safetyRatings"],A)}const E=f(t,["urlContextMetadata"]);return E!=null&&p(e,["urlContextMetadata"],E),e}function q4(t){const e={},n=f(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["citations"],i)}return e}function F4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["contents"]);if(o!=null){let a=gi(o);Array.isArray(a)&&(a=a.map(u=>u)),p(n,["contents"],a)}return n}function B4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["tokensInfo"],o)}return e}function z4(t){const e={},n=f(t,["values"]);n!=null&&p(e,["values"],n);const i=f(t,["statistics"]);return i!=null&&p(e,["statistics"],G4(i)),e}function G4(t){const e={},n=f(t,["truncated"]);n!=null&&p(e,["truncated"],n);const i=f(t,["token_count"]);return i!=null&&p(e,["tokenCount"],i),e}function zf(t){const e={},n=f(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>WO(a))),p(e,["parts"],o)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function H4(t){const e={},n=f(t,["controlType"]);n!=null&&p(e,["controlType"],n);const i=f(t,["enableControlImageComputation"]);return i!=null&&p(e,["computeControl"],i),e}function Y4(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function K4(t,e){const n={},i=f(t,["systemInstruction"]);e!==void 0&&i!=null&&p(e,["systemInstruction"],hn(i));const o=f(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>_x(d))),p(e,["tools"],u)}const a=f(t,["generationConfig"]);return e!==void 0&&a!=null&&p(e,["generationConfig"],LO(a)),n}function J4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["contents"]);if(o!=null){let u=gi(o);Array.isArray(u)&&(u=u.map(d=>zf(d))),p(n,["contents"],u)}const a=f(e,["config"]);return a!=null&&Y4(a),n}function j4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["contents"]);if(o!=null){let u=gi(o);Array.isArray(u)&&(u=u.map(d=>d)),p(n,["contents"],u)}const a=f(e,["config"]);return a!=null&&K4(a,n),n}function $4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["totalTokens"]);i!=null&&p(e,["totalTokens"],i);const o=f(t,["cachedContentTokenCount"]);return o!=null&&p(e,["cachedContentTokenCount"],o),e}function Q4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["totalTokens"]);return i!=null&&p(e,["totalTokens"],i),e}function X4(t,e){const n={},i=f(e,["model"]);return i!=null&&p(n,["_url","name"],Ze(t,i)),n}function W4(t,e){const n={},i=f(e,["model"]);return i!=null&&p(n,["_url","name"],Ze(t,i)),n}function Z4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function eO(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function tO(t,e){const n={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const a=f(t,["numberOfImages"]);e!==void 0&&a!=null&&p(e,["parameters","sampleCount"],a);const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&p(e,["parameters","guidanceScale"],d);const h=f(t,["seed"]);e!==void 0&&h!=null&&p(e,["parameters","seed"],h);const m=f(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&p(e,["parameters","safetySetting"],m);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&p(e,["parameters","personGeneration"],v);const E=f(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&p(e,["parameters","includeSafetyAttributes"],E);const A=f(t,["includeRaiReason"]);e!==void 0&&A!=null&&p(e,["parameters","includeRaiReason"],A);const x=f(t,["language"]);e!==void 0&&x!=null&&p(e,["parameters","language"],x);const L=f(t,["outputMimeType"]);e!==void 0&&L!=null&&p(e,["parameters","outputOptions","mimeType"],L);const F=f(t,["outputCompressionQuality"]);e!==void 0&&F!=null&&p(e,["parameters","outputOptions","compressionQuality"],F);const B=f(t,["addWatermark"]);e!==void 0&&B!=null&&p(e,["parameters","addWatermark"],B);const Q=f(t,["labels"]);e!==void 0&&Q!=null&&p(e,["labels"],Q);const X=f(t,["editMode"]);e!==void 0&&X!=null&&p(e,["parameters","editMode"],X);const W=f(t,["baseSteps"]);return e!==void 0&&W!=null&&p(e,["parameters","editConfig","baseSteps"],W),n}function nO(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const a=f(e,["referenceImages"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>s3(h))),p(n,["instances[0]","referenceImages"],d)}const u=f(e,["config"]);return u!=null&&tO(u,n),n}function iO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Gf(a))),p(e,["generatedImages"],o)}return e}function sO(t,e){const n={},i=f(t,["taskType"]);e!==void 0&&i!=null&&p(e,["requests[]","taskType"],i);const o=f(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const a=f(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&p(e,["requests[]","outputDimensionality"],a),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function rO(t,e){const n={},i=f(t,["taskType"]);e!==void 0&&i!=null&&p(e,["instances[]","task_type"],i);const o=f(t,["title"]);e!==void 0&&o!=null&&p(e,["instances[]","title"],o);const a=f(t,["outputDimensionality"]);e!==void 0&&a!=null&&p(e,["parameters","outputDimensionality"],a);const u=f(t,["mimeType"]);e!==void 0&&u!=null&&p(e,["instances[]","mimeType"],u);const d=f(t,["autoTruncate"]);return e!==void 0&&d!=null&&p(e,["parameters","autoTruncate"],d),n}function oO(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["contents"]);if(o!=null){let d=ty(t,o);Array.isArray(d)&&(d=d.map(h=>h)),p(n,["requests[]","content"],d)}const a=f(e,["config"]);a!=null&&sO(a,n);const u=f(e,["model"]);return u!==void 0&&p(n,["requests[]","model"],Ze(t,u)),n}function aO(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["contents"]);if(o!=null){let u=ty(t,o);Array.isArray(u)&&(u=u.map(d=>d)),p(n,["instances[]","content"],u)}const a=f(e,["config"]);return a!=null&&rO(a,n),n}function lO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),p(e,["embeddings"],a)}const o=f(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function uO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>z4(u))),p(e,["embeddings"],a)}const o=f(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function cO(t){const e={},n=f(t,["endpoint"]);n!=null&&p(e,["name"],n);const i=f(t,["deployedModelId"]);return i!=null&&p(e,["deployedModelId"],i),e}function dO(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function fO(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const i=f(t,["args"]);i!=null&&p(e,["args"],i);const o=f(t,["name"]);if(o!=null&&p(e,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hO(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);if(i!=null&&p(e,["allowedFunctionNames"],i),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mO(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const i=f(t,["name"]);i!=null&&p(e,["name"],i);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const a=f(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const u=f(t,["response"]);u!=null&&p(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function pO(t,e,n){const i={},o=f(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],zf(hn(o)));const a=f(e,["temperature"]);a!=null&&p(i,["temperature"],a);const u=f(e,["topP"]);u!=null&&p(i,["topP"],u);const d=f(e,["topK"]);d!=null&&p(i,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&p(i,["candidateCount"],h);const m=f(e,["maxOutputTokens"]);m!=null&&p(i,["maxOutputTokens"],m);const v=f(e,["stopSequences"]);v!=null&&p(i,["stopSequences"],v);const E=f(e,["responseLogprobs"]);E!=null&&p(i,["responseLogprobs"],E);const A=f(e,["logprobs"]);A!=null&&p(i,["logprobs"],A);const x=f(e,["presencePenalty"]);x!=null&&p(i,["presencePenalty"],x);const L=f(e,["frequencyPenalty"]);L!=null&&p(i,["frequencyPenalty"],L);const F=f(e,["seed"]);F!=null&&p(i,["seed"],F);const B=f(e,["responseMimeType"]);B!=null&&p(i,["responseMimeType"],B);const Q=f(e,["responseSchema"]);Q!=null&&p(i,["responseSchema"],ny(Q));const X=f(e,["responseJsonSchema"]);if(X!=null&&p(i,["responseJsonSchema"],X),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const W=f(e,["safetySettings"]);if(n!==void 0&&W!=null){let U=W;Array.isArray(U)&&(U=U.map(M=>r3(M))),p(n,["safetySettings"],U)}const ae=f(e,["tools"]);if(n!==void 0&&ae!=null){let U=gl(ae);Array.isArray(U)&&(U=U.map(M=>f3(pl(M)))),p(n,["tools"],U)}const de=f(e,["toolConfig"]);if(n!==void 0&&de!=null&&p(n,["toolConfig"],d3(de)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=f(e,["cachedContent"]);n!==void 0&&ce!=null&&p(n,["cachedContent"],zs(t,ce));const D=f(e,["responseModalities"]);D!=null&&p(i,["responseModalities"],D);const N=f(e,["mediaResolution"]);N!=null&&p(i,["mediaResolution"],N);const R=f(e,["speechConfig"]);if(R!=null&&p(i,["speechConfig"],iy(R)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=f(e,["thinkingConfig"]);k!=null&&p(i,["thinkingConfig"],k);const P=f(e,["imageConfig"]);return P!=null&&p(i,["imageConfig"],zO(P)),i}function gO(t,e,n){const i={},o=f(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],hn(o));const a=f(e,["temperature"]);a!=null&&p(i,["temperature"],a);const u=f(e,["topP"]);u!=null&&p(i,["topP"],u);const d=f(e,["topK"]);d!=null&&p(i,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&p(i,["candidateCount"],h);const m=f(e,["maxOutputTokens"]);m!=null&&p(i,["maxOutputTokens"],m);const v=f(e,["stopSequences"]);v!=null&&p(i,["stopSequences"],v);const E=f(e,["responseLogprobs"]);E!=null&&p(i,["responseLogprobs"],E);const A=f(e,["logprobs"]);A!=null&&p(i,["logprobs"],A);const x=f(e,["presencePenalty"]);x!=null&&p(i,["presencePenalty"],x);const L=f(e,["frequencyPenalty"]);L!=null&&p(i,["frequencyPenalty"],L);const F=f(e,["seed"]);F!=null&&p(i,["seed"],F);const B=f(e,["responseMimeType"]);B!=null&&p(i,["responseMimeType"],B);const Q=f(e,["responseSchema"]);Q!=null&&p(i,["responseSchema"],ny(Q));const X=f(e,["responseJsonSchema"]);X!=null&&p(i,["responseJsonSchema"],X);const W=f(e,["routingConfig"]);W!=null&&p(i,["routingConfig"],W);const ae=f(e,["modelSelectionConfig"]);ae!=null&&p(i,["modelConfig"],ae);const de=f(e,["safetySettings"]);if(n!==void 0&&de!=null){let K=de;Array.isArray(K)&&(K=K.map(re=>re)),p(n,["safetySettings"],K)}const ce=f(e,["tools"]);if(n!==void 0&&ce!=null){let K=gl(ce);Array.isArray(K)&&(K=K.map(re=>_x(pl(re)))),p(n,["tools"],K)}const D=f(e,["toolConfig"]);n!==void 0&&D!=null&&p(n,["toolConfig"],D);const N=f(e,["labels"]);n!==void 0&&N!=null&&p(n,["labels"],N);const R=f(e,["cachedContent"]);n!==void 0&&R!=null&&p(n,["cachedContent"],zs(t,R));const k=f(e,["responseModalities"]);k!=null&&p(i,["responseModalities"],k);const P=f(e,["mediaResolution"]);P!=null&&p(i,["mediaResolution"],P);const U=f(e,["speechConfig"]);U!=null&&p(i,["speechConfig"],yx(iy(U)));const M=f(e,["audioTimestamp"]);M!=null&&p(i,["audioTimestamp"],M);const Se=f(e,["thinkingConfig"]);Se!=null&&p(i,["thinkingConfig"],Se);const Ie=f(e,["imageConfig"]);return Ie!=null&&p(i,["imageConfig"],GO(Ie)),i}function kS(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["contents"]);if(o!=null){let u=gi(o);Array.isArray(u)&&(u=u.map(d=>zf(d))),p(n,["contents"],u)}const a=f(e,["config"]);return a!=null&&p(n,["generationConfig"],pO(t,a,n)),n}function VS(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["contents"]);if(o!=null){let u=gi(o);Array.isArray(u)&&(u=u.map(d=>d)),p(n,["contents"],u)}const a=f(e,["config"]);return a!=null&&p(n,["generationConfig"],gO(t,a,n)),n}function US(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>O4(m))),p(e,["candidates"],h)}const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const u=f(t,["responseId"]);u!=null&&p(e,["responseId"],u);const d=f(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function LS(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(v=>v)),p(e,["candidates"],m)}const o=f(t,["createTime"]);o!=null&&p(e,["createTime"],o);const a=f(t,["modelVersion"]);a!=null&&p(e,["modelVersion"],a);const u=f(t,["promptFeedback"]);u!=null&&p(e,["promptFeedback"],u);const d=f(t,["responseId"]);d!=null&&p(e,["responseId"],d);const h=f(t,["usageMetadata"]);return h!=null&&p(e,["usageMetadata"],h),e}function yO(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=f(t,["numberOfImages"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=f(t,["guidanceScale"]);if(e!==void 0&&a!=null&&p(e,["parameters","guidanceScale"],a),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const d=f(t,["personGeneration"]);e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d);const h=f(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&p(e,["parameters","includeSafetyAttributes"],h);const m=f(t,["includeRaiReason"]);e!==void 0&&m!=null&&p(e,["parameters","includeRaiReason"],m);const v=f(t,["language"]);e!==void 0&&v!=null&&p(e,["parameters","language"],v);const E=f(t,["outputMimeType"]);e!==void 0&&E!=null&&p(e,["parameters","outputOptions","mimeType"],E);const A=f(t,["outputCompressionQuality"]);if(e!==void 0&&A!=null&&p(e,["parameters","outputOptions","compressionQuality"],A),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=f(t,["imageSize"]);if(e!==void 0&&x!=null&&p(e,["parameters","sampleImageSize"],x),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function _O(t,e){const n={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const a=f(t,["numberOfImages"]);e!==void 0&&a!=null&&p(e,["parameters","sampleCount"],a);const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&p(e,["parameters","guidanceScale"],d);const h=f(t,["seed"]);e!==void 0&&h!=null&&p(e,["parameters","seed"],h);const m=f(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&p(e,["parameters","safetySetting"],m);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&p(e,["parameters","personGeneration"],v);const E=f(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&p(e,["parameters","includeSafetyAttributes"],E);const A=f(t,["includeRaiReason"]);e!==void 0&&A!=null&&p(e,["parameters","includeRaiReason"],A);const x=f(t,["language"]);e!==void 0&&x!=null&&p(e,["parameters","language"],x);const L=f(t,["outputMimeType"]);e!==void 0&&L!=null&&p(e,["parameters","outputOptions","mimeType"],L);const F=f(t,["outputCompressionQuality"]);e!==void 0&&F!=null&&p(e,["parameters","outputOptions","compressionQuality"],F);const B=f(t,["addWatermark"]);e!==void 0&&B!=null&&p(e,["parameters","addWatermark"],B);const Q=f(t,["labels"]);e!==void 0&&Q!=null&&p(e,["labels"],Q);const X=f(t,["imageSize"]);e!==void 0&&X!=null&&p(e,["parameters","sampleImageSize"],X);const W=f(t,["enhancePrompt"]);return e!==void 0&&W!=null&&p(e,["parameters","enhancePrompt"],W),n}function vO(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const a=f(e,["config"]);return a!=null&&yO(a,n),n}function TO(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const a=f(e,["config"]);return a!=null&&_O(a,n),n}function EO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>PO(u))),p(e,["generatedImages"],a)}const o=f(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],px(o)),e}function SO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Gf(u))),p(e,["generatedImages"],a)}const o=f(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],gx(o)),e}function AO(t,e){const n={},i=f(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=f(t,["durationSeconds"]);if(e!==void 0&&o!=null&&p(e,["parameters","durationSeconds"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const u=f(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const d=f(t,["personGeneration"]);if(e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const m=f(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&p(e,["parameters","enhancePrompt"],m),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=f(t,["lastFrame"]);e!==void 0&&v!=null&&p(e,["instances[0]","lastFrame"],Hf(v));const E=f(t,["referenceImages"]);if(e!==void 0&&E!=null){let A=E;Array.isArray(A)&&(A=A.map(x=>w3(x))),p(e,["instances[0]","referenceImages"],A)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function CO(t,e){const n={},i=f(t,["numberOfVideos"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=f(t,["fps"]);e!==void 0&&a!=null&&p(e,["parameters","fps"],a);const u=f(t,["durationSeconds"]);e!==void 0&&u!=null&&p(e,["parameters","durationSeconds"],u);const d=f(t,["seed"]);e!==void 0&&d!=null&&p(e,["parameters","seed"],d);const h=f(t,["aspectRatio"]);e!==void 0&&h!=null&&p(e,["parameters","aspectRatio"],h);const m=f(t,["resolution"]);e!==void 0&&m!=null&&p(e,["parameters","resolution"],m);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&p(e,["parameters","personGeneration"],v);const E=f(t,["pubsubTopic"]);e!==void 0&&E!=null&&p(e,["parameters","pubsubTopic"],E);const A=f(t,["negativePrompt"]);e!==void 0&&A!=null&&p(e,["parameters","negativePrompt"],A);const x=f(t,["enhancePrompt"]);e!==void 0&&x!=null&&p(e,["parameters","enhancePrompt"],x);const L=f(t,["generateAudio"]);e!==void 0&&L!=null&&p(e,["parameters","generateAudio"],L);const F=f(t,["lastFrame"]);e!==void 0&&F!=null&&p(e,["instances[0]","lastFrame"],Ui(F));const B=f(t,["referenceImages"]);if(e!==void 0&&B!=null){let W=B;Array.isArray(W)&&(W=W.map(ae=>x3(ae))),p(e,["instances[0]","referenceImages"],W)}const Q=f(t,["mask"]);e!==void 0&&Q!=null&&p(e,["instances[0]","mask"],C3(Q));const X=f(t,["compressionQuality"]);return e!==void 0&&X!=null&&p(e,["parameters","compressionQuality"],X),n}function wO(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const a=f(t,["error"]);a!=null&&p(e,["error"],a);const u=f(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],bO(u)),e}function xO(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const a=f(t,["error"]);a!=null&&p(e,["error"],a);const u=f(t,["response"]);return u!=null&&p(e,["response"],NO(u)),e}function IO(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const a=f(e,["image"]);a!=null&&p(n,["instances[0]","image"],Hf(a));const u=f(e,["video"]);u!=null&&p(n,["instances[0]","video"],vx(u));const d=f(e,["source"]);d!=null&&MO(d,n);const h=f(e,["config"]);return h!=null&&AO(h,n),n}function RO(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const a=f(e,["image"]);a!=null&&p(n,["instances[0]","image"],Ui(a));const u=f(e,["video"]);u!=null&&p(n,["instances[0]","video"],Tx(u));const d=f(e,["source"]);d!=null&&DO(d,n);const h=f(e,["config"]);return h!=null&&CO(h,n),n}function bO(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>VO(u))),p(e,["generatedVideos"],a)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const o=f(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function NO(t){const e={},n=f(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>UO(u))),p(e,["generatedVideos"],a)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const o=f(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function MO(t,e){const n={},i=f(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=f(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Hf(o));const a=f(t,["video"]);return e!==void 0&&a!=null&&p(e,["instances[0]","video"],vx(a)),n}function DO(t,e){const n={},i=f(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=f(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Ui(o));const a=f(t,["video"]);return e!==void 0&&a!=null&&p(e,["instances[0]","video"],Tx(a)),n}function PO(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],HO(n));const i=f(t,["raiFilteredReason"]);i!=null&&p(e,["raiFilteredReason"],i);const o=f(t,["_self"]);return o!=null&&p(e,["safetyAttributes"],px(o)),e}function Gf(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],mx(n));const i=f(t,["raiFilteredReason"]);i!=null&&p(e,["raiFilteredReason"],i);const o=f(t,["_self"]);o!=null&&p(e,["safetyAttributes"],gx(o));const a=f(t,["prompt"]);return a!=null&&p(e,["enhancedPrompt"],a),e}function kO(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["mask"],mx(n));const i=f(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["labels"],o)}return e}function VO(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],S3(n)),e}function UO(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],A3(n)),e}function LO(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const i=f(t,["responseJsonSchema"]);i!=null&&p(e,["responseJsonSchema"],i);const o=f(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const a=f(t,["candidateCount"]);a!=null&&p(e,["candidateCount"],a);const u=f(t,["enableAffectiveDialog"]);u!=null&&p(e,["enableAffectiveDialog"],u);const d=f(t,["frequencyPenalty"]);d!=null&&p(e,["frequencyPenalty"],d);const h=f(t,["logprobs"]);h!=null&&p(e,["logprobs"],h);const m=f(t,["maxOutputTokens"]);m!=null&&p(e,["maxOutputTokens"],m);const v=f(t,["mediaResolution"]);v!=null&&p(e,["mediaResolution"],v);const E=f(t,["presencePenalty"]);E!=null&&p(e,["presencePenalty"],E);const A=f(t,["responseLogprobs"]);A!=null&&p(e,["responseLogprobs"],A);const x=f(t,["responseMimeType"]);x!=null&&p(e,["responseMimeType"],x);const L=f(t,["responseModalities"]);L!=null&&p(e,["responseModalities"],L);const F=f(t,["responseSchema"]);F!=null&&p(e,["responseSchema"],F);const B=f(t,["routingConfig"]);B!=null&&p(e,["routingConfig"],B);const Q=f(t,["seed"]);Q!=null&&p(e,["seed"],Q);const X=f(t,["speechConfig"]);X!=null&&p(e,["speechConfig"],yx(X));const W=f(t,["stopSequences"]);W!=null&&p(e,["stopSequences"],W);const ae=f(t,["temperature"]);ae!=null&&p(e,["temperature"],ae);const de=f(t,["thinkingConfig"]);de!=null&&p(e,["thinkingConfig"],de);const ce=f(t,["topK"]);ce!=null&&p(e,["topK"],ce);const D=f(t,["topP"]);if(D!=null&&p(e,["topP"],D),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function OO(t,e){const n={},i=f(e,["model"]);return i!=null&&p(n,["_url","name"],Ze(t,i)),n}function qO(t,e){const n={},i=f(e,["model"]);return i!=null&&p(n,["_url","name"],Ze(t,i)),n}function FO(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function BO(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function zO(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const i=f(t,["imageSize"]);if(i!=null&&p(e,["imageSize"],i),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function GO(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const i=f(t,["imageSize"]);i!=null&&p(e,["imageSize"],i);const o=f(t,["outputMimeType"]);o!=null&&p(e,["imageOutputOptions","mimeType"],o);const a=f(t,["outputCompressionQuality"]);return a!=null&&p(e,["imageOutputOptions","compressionQuality"],a),e}function HO(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Wr(n));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function mx(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const i=f(t,["bytesBase64Encoded"]);i!=null&&p(e,["imageBytes"],Wr(i));const o=f(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function Hf(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Wr(n));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Ui(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const i=f(t,["imageBytes"]);i!=null&&p(e,["bytesBase64Encoded"],Wr(i));const o=f(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function YO(t,e,n){const i={},o=f(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=f(e,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const u=f(e,["filter"]);n!==void 0&&u!=null&&p(n,["_query","filter"],u);const d=f(e,["queryBase"]);return n!==void 0&&d!=null&&p(n,["_url","models_url"],ox(t,d)),i}function KO(t,e,n){const i={},o=f(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=f(e,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const u=f(e,["filter"]);n!==void 0&&u!=null&&p(n,["_query","filter"],u);const d=f(e,["queryBase"]);return n!==void 0&&d!=null&&p(n,["_url","models_url"],ox(t,d)),i}function JO(t,e){const n={},i=f(e,["config"]);return i!=null&&YO(t,i,n),n}function jO(t,e){const n={},i=f(e,["config"]);return i!=null&&KO(t,i,n),n}function $O(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=f(t,["_self"]);if(o!=null){let a=ax(o);Array.isArray(a)&&(a=a.map(u=>$p(u))),p(e,["models"],a)}return e}function QO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=f(t,["_self"]);if(o!=null){let a=ax(o);Array.isArray(a)&&(a=a.map(u=>Qp(u))),p(e,["models"],a)}return e}function XO(t){const e={},n=f(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const i=f(t,["segmentationClasses"]);i!=null&&p(e,["maskClasses"],i);const o=f(t,["maskDilation"]);return o!=null&&p(e,["dilation"],o),e}function $p(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["displayName"]);i!=null&&p(e,["displayName"],i);const o=f(t,["description"]);o!=null&&p(e,["description"],o);const a=f(t,["version"]);a!=null&&p(e,["version"],a);const u=f(t,["_self"]);u!=null&&p(e,["tunedModelInfo"],h3(u));const d=f(t,["inputTokenLimit"]);d!=null&&p(e,["inputTokenLimit"],d);const h=f(t,["outputTokenLimit"]);h!=null&&p(e,["outputTokenLimit"],h);const m=f(t,["supportedGenerationMethods"]);m!=null&&p(e,["supportedActions"],m);const v=f(t,["temperature"]);v!=null&&p(e,["temperature"],v);const E=f(t,["maxTemperature"]);E!=null&&p(e,["maxTemperature"],E);const A=f(t,["topP"]);A!=null&&p(e,["topP"],A);const x=f(t,["topK"]);x!=null&&p(e,["topK"],x);const L=f(t,["thinking"]);return L!=null&&p(e,["thinking"],L),e}function Qp(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["displayName"]);i!=null&&p(e,["displayName"],i);const o=f(t,["description"]);o!=null&&p(e,["description"],o);const a=f(t,["versionId"]);a!=null&&p(e,["version"],a);const u=f(t,["deployedModels"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(A=>cO(A))),p(e,["endpoints"],E)}const d=f(t,["labels"]);d!=null&&p(e,["labels"],d);const h=f(t,["_self"]);h!=null&&p(e,["tunedModelInfo"],m3(h));const m=f(t,["defaultCheckpointId"]);m!=null&&p(e,["defaultCheckpointId"],m);const v=f(t,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),p(e,["checkpoints"],E)}return e}function WO(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const i=f(t,["codeExecutionResult"]);i!=null&&p(e,["codeExecutionResult"],i);const o=f(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const a=f(t,["fileData"]);a!=null&&p(e,["fileData"],dO(a));const u=f(t,["functionCall"]);u!=null&&p(e,["functionCall"],fO(u));const d=f(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],L4(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const v=f(t,["thought"]);v!=null&&p(e,["thought"],v);const E=f(t,["thoughtSignature"]);E!=null&&p(e,["thoughtSignature"],E);const A=f(t,["videoMetadata"]);return A!=null&&p(e,["videoMetadata"],A),e}function ZO(t){const e={},n=f(t,["productImage"]);return n!=null&&p(e,["image"],Ui(n)),e}function e3(t,e){const n={},i=f(t,["numberOfImages"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const o=f(t,["baseSteps"]);e!==void 0&&o!=null&&p(e,["parameters","baseSteps"],o);const a=f(t,["outputGcsUri"]);e!==void 0&&a!=null&&p(e,["parameters","storageUri"],a);const u=f(t,["seed"]);e!==void 0&&u!=null&&p(e,["parameters","seed"],u);const d=f(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&p(e,["parameters","safetySetting"],d);const h=f(t,["personGeneration"]);e!==void 0&&h!=null&&p(e,["parameters","personGeneration"],h);const m=f(t,["addWatermark"]);e!==void 0&&m!=null&&p(e,["parameters","addWatermark"],m);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const E=f(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&p(e,["parameters","outputOptions","compressionQuality"],E);const A=f(t,["enhancePrompt"]);e!==void 0&&A!=null&&p(e,["parameters","enhancePrompt"],A);const x=f(t,["labels"]);return e!==void 0&&x!=null&&p(e,["labels"],x),n}function t3(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["source"]);o!=null&&i3(o,n);const a=f(e,["config"]);return a!=null&&e3(a,n),n}function n3(t){const e={},n=f(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gf(o))),p(e,["generatedImages"],i)}return e}function i3(t,e){const n={},i=f(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=f(t,["personImage"]);e!==void 0&&o!=null&&p(e,["instances[0]","personImage","image"],Ui(o));const a=f(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>ZO(d))),p(e,["instances[0]","productImages"],u)}return n}function s3(t){const e={},n=f(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Ui(n));const i=f(t,["referenceId"]);i!=null&&p(e,["referenceId"],i);const o=f(t,["referenceType"]);o!=null&&p(e,["referenceType"],o);const a=f(t,["maskImageConfig"]);a!=null&&p(e,["maskImageConfig"],XO(a));const u=f(t,["controlImageConfig"]);u!=null&&p(e,["controlImageConfig"],H4(u));const d=f(t,["styleImageConfig"]);d!=null&&p(e,["styleImageConfig"],d);const h=f(t,["subjectImageConfig"]);return h!=null&&p(e,["subjectImageConfig"],h),e}function px(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const i=f(t,["safetyAttributes","scores"]);i!=null&&p(e,["scores"],i);const o=f(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function gx(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const i=f(t,["safetyAttributes","scores"]);i!=null&&p(e,["scores"],i);const o=f(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function r3(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(t,["threshold"]);return i!=null&&p(e,["threshold"],i),e}function o3(t){const e={},n=f(t,["image"]);return n!=null&&p(e,["image"],Ui(n)),e}function a3(t,e){const n={},i=f(t,["mode"]);e!==void 0&&i!=null&&p(e,["parameters","mode"],i);const o=f(t,["maxPredictions"]);e!==void 0&&o!=null&&p(e,["parameters","maxPredictions"],o);const a=f(t,["confidenceThreshold"]);e!==void 0&&a!=null&&p(e,["parameters","confidenceThreshold"],a);const u=f(t,["maskDilation"]);e!==void 0&&u!=null&&p(e,["parameters","maskDilation"],u);const d=f(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&p(e,["parameters","binaryColorThreshold"],d);const h=f(t,["labels"]);return e!==void 0&&h!=null&&p(e,["labels"],h),n}function l3(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["source"]);o!=null&&c3(o,n);const a=f(e,["config"]);return a!=null&&a3(a,n),n}function u3(t){const e={},n=f(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kO(o))),p(e,["generatedMasks"],i)}return e}function c3(t,e){const n={},i=f(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=f(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Ui(o));const a=f(t,["scribbleImage"]);return e!==void 0&&a!=null&&p(e,["instances[0]","scribble"],o3(a)),n}function yx(t){const e={},n=f(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const i=f(t,["voiceConfig"]);if(i!=null&&p(e,["voiceConfig"],i),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function d3(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],hO(n));const i=f(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],i),e}function f3(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(E=>E)),p(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const a=f(t,["fileSearch"]);a!=null&&p(e,["fileSearch"],a);const u=f(t,["codeExecution"]);if(u!=null&&p(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],FO(d));const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],BO(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function _x(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(A=>mO(A))),p(e,["functionDeclarations"],E)}const i=f(t,["retrieval"]);i!=null&&p(e,["retrieval"],i);const o=f(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],o);const a=f(t,["computerUse"]);if(a!=null&&p(e,["computerUse"],a),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["enterpriseWebSearch"]);d!=null&&p(e,["enterpriseWebSearch"],d);const h=f(t,["googleMaps"]);h!=null&&p(e,["googleMaps"],h);const m=f(t,["googleSearch"]);m!=null&&p(e,["googleSearch"],m);const v=f(t,["urlContext"]);return v!=null&&p(e,["urlContext"],v),e}function h3(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=f(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function m3(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=f(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function p3(t,e){const n={},i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const a=f(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&p(e,["defaultCheckpointId"],a),n}function g3(t,e){const n={},i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const a=f(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&p(e,["defaultCheckpointId"],a),n}function y3(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","name"],Ze(t,i));const o=f(e,["config"]);return o!=null&&p3(o,n),n}function _3(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["config"]);return o!=null&&g3(o,n),n}function v3(t,e){const n={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&p(e,["parameters","safetySetting"],o);const a=f(t,["personGeneration"]);e!==void 0&&a!=null&&p(e,["parameters","personGeneration"],a);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h);const m=f(t,["enhanceInputImage"]);e!==void 0&&m!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=f(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=f(t,["labels"]);e!==void 0&&E!=null&&p(e,["labels"],E);const A=f(t,["numberOfImages"]);e!==void 0&&A!=null&&p(e,["parameters","sampleCount"],A);const x=f(t,["mode"]);return e!==void 0&&x!=null&&p(e,["parameters","mode"],x),n}function T3(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Ze(t,i));const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Ui(o));const a=f(e,["upscaleFactor"]);a!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=f(e,["config"]);return u!=null&&v3(u,n),n}function E3(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Gf(a))),p(e,["generatedImages"],o)}return e}function S3(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const i=f(t,["encodedVideo"]);i!=null&&p(e,["videoBytes"],Wr(i));const o=f(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function A3(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const i=f(t,["bytesBase64Encoded"]);i!=null&&p(e,["videoBytes"],Wr(i));const o=f(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function C3(t){const e={},n=f(t,["image"]);n!=null&&p(e,["_self"],Ui(n));const i=f(t,["maskMode"]);return i!=null&&p(e,["maskMode"],i),e}function w3(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Hf(n));const i=f(t,["referenceType"]);return i!=null&&p(e,["referenceType"],i),e}function x3(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Ui(n));const i=f(t,["referenceType"]);return i!=null&&p(e,["referenceType"],i),e}function vx(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const i=f(t,["videoBytes"]);i!=null&&p(e,["encodedVideo"],Wr(i));const o=f(t,["mimeType"]);return o!=null&&p(e,["encoding"],o),e}function Tx(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const i=f(t,["videoBytes"]);i!=null&&p(e,["bytesBase64Encoded"],Wr(i));const o=f(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I3(t,e){const n={},i=f(t,["displayName"]);return e!==void 0&&i!=null&&p(e,["displayName"],i),n}function R3(t){const e={},n=f(t,["config"]);return n!=null&&I3(n,e),e}function b3(t,e){const n={},i=f(t,["force"]);return e!==void 0&&i!=null&&p(e,["_query","force"],i),n}function N3(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const i=f(t,["config"]);return i!=null&&b3(i,e),e}function M3(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function D3(t,e){const n={},i=f(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),p(e,["customMetadata"],a)}const o=f(t,["chunkingConfig"]);return e!==void 0&&o!=null&&p(e,["chunkingConfig"],o),n}function P3(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=f(t,["done"]);o!=null&&p(e,["done"],o);const a=f(t,["error"]);a!=null&&p(e,["error"],a);const u=f(t,["response"]);return u!=null&&p(e,["response"],V3(u)),e}function k3(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const i=f(t,["fileName"]);i!=null&&p(e,["fileName"],i);const o=f(t,["config"]);return o!=null&&D3(o,e),e}function V3(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["parent"]);i!=null&&p(e,["parent"],i);const o=f(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function U3(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function L3(t){const e={},n=f(t,["config"]);return n!=null&&U3(n,e),e}function O3(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=f(t,["fileSearchStores"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),p(e,["fileSearchStores"],a)}return e}function Ex(t,e){const n={},i=f(t,["mimeType"]);e!==void 0&&i!=null&&p(e,["mimeType"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["customMetadata"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),p(e,["customMetadata"],d)}const u=f(t,["chunkingConfig"]);return e!==void 0&&u!=null&&p(e,["chunkingConfig"],u),n}function q3(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const i=f(t,["config"]);return i!=null&&Ex(i,e),e}function F3(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B3="Content-Type",z3="X-Server-Timeout",G3="User-Agent",Xp="x-goog-api-client",H3="1.31.0",Y3=`google-genai-sdk/${H3}`,K3="v1beta1",J3="v1beta",OS=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class j3{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:K3,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:J3,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))o.searchParams.append(u,String(d));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?i[o]=Object.assign(Object.assign({},i[o]),a):a!==void 0&&(i[o]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const a=new AbortController,u=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>a.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&$3(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await qS(o),new Kp(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await qS(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return el(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:d,value:h}=yield _t(o.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(h,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const A=JSON.parse(JSON.stringify(E.error)),x=A.status,L=A.code,F=`got status: ${x}. ${JSON.stringify(E)}`;if(L>=400&&L<600)throw new Bf({message:F,status:L})}}catch(E){if(E.name==="ApiError")throw E}u+=m;let v=u.match(OS);for(;v;){const E=v[1];try{const A=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield _t(new Kp(A)),u=u.slice(v[0].length),v=u.match(OS)}catch(A){throw new Error(`exception parsing stream chunk ${E}. ${A}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Y3+" "+this.clientOptions.userAgentExtra;return e[G3]=n,e[Xp]=n,e[B3]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))i.append(o,a);e.timeout&&e.timeout>0&&i.append(z3,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);o.sizeBytes=String(u.size);const d=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const h={file:o},m=this.getFileName(e),v=fe("upload/v1beta/files",h._url),E=await this.fetchUploadUrl(v,o.sizeBytes,o.mimeType,m,h,n==null?void 0:n.httpOptions);return a.upload(e,E,this)}async uploadFileToFileSearchStore(e,n,i){var o;const a=this.clientOptions.uploader,u=await a.stat(n),d=String(u.size),h=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(n),E={};i!=null&&Ex(i,E);const A=await this.fetchUploadUrl(m,d,h,v,E,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(n,A,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,a,u){var d;let h={};u?h=u:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const m=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:h});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(d=m==null?void 0:m.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function qS(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Bf({message:o,status:n}):new Error(o)}}function $3(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const d=Object.assign({},a);for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h)){const m=u[h],v=d[h];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?d[h]=i(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),d[h]=m)}return d}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q3="mcp_used/unknown";let X3=!1;function Sx(t){for(const e of t)if(W3(e)||typeof e=="object"&&"inputSchema"in e)return!0;return X3}function Ax(t){var e;const n=(e=t[Xp])!==null&&e!==void 0?e:"";t[Xp]=(n+` ${Q3}`).trimStart()}function W3(t){return t!==null&&typeof t=="object"&&t instanceof ry}function Z3(t,e=100){return el(this,arguments,function*(){let i,o=0;for(;o<e;){const a=yield _t(t.listTools({cursor:i}));for(const u of a.tools)yield yield _t(u),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class ry{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ry(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const a={},u=[];for(const v of this.mcpClients)try{for(var d=!0,h=(n=void 0,Mu(Z3(v))),m;m=await h.next(),e=m.done,!e;d=!0){o=m.value,d=!1;const E=o;u.push(E);const A=E.name;if(a[A])throw new Error(`Duplicate function name ${A} found in MCP tools. Please ensure function names are unique.`);a[A]=v}}catch(E){n={error:E}}finally{try{!d&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),MU(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await o.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function e5(t,e,n){const i=new AU;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class t5{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=s5(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),h=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${d}`;let m=()=>{};const v=new Promise(W=>{m=W}),E=e.callbacks,A=function(){m({})},x=this.apiClient,L={onopen:A,onmessage:W=>{e5(x,E.onmessage,W)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(W){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(W){}},F=this.webSocketFactory.create(h,i5(u),L);F.connect(),await v;const X={setup:{model:Ze(this.apiClient,e.model)}};return F.send(JSON.stringify(X)),new n5(F,this.apiClient)}}class n5{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=R4(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=I4(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ja.PLAY)}pause(){this.sendPlaybackControl(Ja.PAUSE)}stop(){this.sendPlaybackControl(Ja.STOP)}resetContext(){this.sendPlaybackControl(Ja.RESET_CONTEXT)}close(){this.conn.close()}}function i5(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function s5(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function o5(t,e,n){const i=new SU;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const u=M4(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class a5{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new t5(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,a,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&Sx(e.config.tools)&&Ax(E);const A=d5(E);if(this.apiClient.isVertexAI())v=`${h}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(A,v);else{const R=this.apiClient.getApiKey();let k="BidiGenerateContent",P="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",P="access_token"),v=`${h}/ws/google.ai.generativelanguage.${m}.GenerativeService.${k}?${P}=${R}`}let x=()=>{};const L=new Promise(R=>{x=R}),F=e.callbacks,B=function(){var R;(R=F==null?void 0:F.onopen)===null||R===void 0||R.call(F),x({})},Q=this.apiClient,X={onopen:B,onmessage:R=>{o5(Q,F.onmessage,R)},onerror:(n=F==null?void 0:F.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=F==null?void 0:F.onclose)!==null&&i!==void 0?i:function(R){}},W=this.webSocketFactory.create(v,c5(A),X);W.connect(),await L;let ae=Ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ae.startsWith("publishers/")){const R=this.apiClient.getProject(),k=this.apiClient.getLocation();ae=`projects/${R}/locations/${k}/`+ae}let de={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[df.AUDIO]}:e.config.responseModalities=[df.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ce=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],D=[];for(const R of ce)if(this.isCallableTool(R)){const k=R;D.push(await k.tool())}else D.push(R);D.length>0&&(e.config.tools=D);const N={model:ae,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?de=x4(this.apiClient,N):de=w4(this.apiClient,N),delete de.config,W.send(JSON.stringify(de)),new u5(W,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const l5={turnComplete:!0};class u5{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=gi(n.turns),e.isVertexAI()||(i=i.map(o=>zf(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(r5)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},l5),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:N4(e)}:n={realtimeInput:b4(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function c5(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function d5(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FS=10;function BS(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(tl(u)){o=!0;break}if(!o)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function tl(t){return"callTool"in t&&typeof t.callTool=="function"}function f5(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>tl(o)))!==null&&i!==void 0?i:!1}function zS(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(tl(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(o)}),n}function GS(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h5 extends Bs{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,a,u,d;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!f5(n)||BS(n.config))return await this.generateContentInternal(h);const m=zS(n);if(m.length>0){const F=m.map(B=>`tools[${B}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${F}.`)}let v,E;const A=gi(h.contents),x=(a=(o=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:FS;let L=0;for(;L<x&&(v=await this.generateContentInternal(h),!(!v.functionCalls||v.functionCalls.length===0));){const F=v.candidates[0].content,B=[];for(const Q of(d=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(tl(Q)){const W=await Q.callTool(v.functionCalls);B.push(...W)}L++,E={role:"user",parts:B},h.contents=gi(h.contents),h.contents.push(F),h.contents.push(E),GS(h.config)&&(A.push(F),A.push(E))}return GS(h.config)&&(v.automaticFunctionCallingHistory=A),v},this.generateContentStream=async n=>{var i,o,a,u,d;if(this.maybeMoveToResponseJsonSchem(n),BS(n.config)){const E=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(E)}const h=zS(n);if(h.length>0){const E=h.map(A=>`tools[${A}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(a=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,v=(d=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let a;const u=[];if(i!=null&&i.generatedImages)for(const h of i.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((o=h==null?void 0:h.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=h==null?void 0:h.safetyAttributes:u.push(h);let d;return a?d={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},d}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Xo(Fs.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,a,u,d,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((h=(d=n.source)===null||d===void 0?void 0:d.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async h=>tl(h)?await h.tool():h)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&Sx(e.config.tools)){const h=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let m=Object.assign({},h);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Ax(m),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return d}async initAfcToolsMap(e){var n,i,o;const a=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(tl(u)){const d=u,h=await d.tool();for(const m of(o=h.functionDeclarations)!==null&&o!==void 0?o:[]){if(!m.name)throw new Error("Function declaration name is required.");if(a.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);a.set(m.name,d)}}return a}async processAfcStream(e){var n,i,o;const a=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:FS;let u=!1,d=0;const h=await this.initAfcToolsMap(e);return(function(m,v,E){var A,x;return el(this,arguments,function*(){for(var L,F,B,Q;d<a;){u&&(d++,u=!1);const de=yield _t(m.processParamsMaybeAddMcpUsage(E)),ce=yield _t(m.generateContentStreamInternal(de)),D=[],N=[];try{for(var X=!0,W=(F=void 0,Mu(ce)),ae;ae=yield _t(W.next()),L=ae.done,!L;X=!0){Q=ae.value,X=!1;const R=Q;if(yield yield _t(R),R.candidates&&(!((A=R.candidates[0])===null||A===void 0)&&A.content)){N.push(R.candidates[0].content);for(const k of(x=R.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(d<a&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(k.functionCall.name)){const P=yield _t(v.get(k.functionCall.name).callTool([k.functionCall]));D.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(R){F={error:R}}finally{try{!X&&!L&&(B=W.return)&&(yield _t(B.call(W)))}finally{if(F)throw F.error}}if(D.length>0){u=!0;const R=new yu;R.candidates=[{content:{role:"user",parts:D}}],yield yield _t(R);const k=[];k.push(...N),k.push({role:"user",parts:D});const P=gi(E.contents).concat(k);E.contents=P}else break}})})(this,h,e)}async generateContentInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=VS(this.apiClient,e);return d=fe("{model}:generateContent",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=LS(v),A=new yu;return Object.assign(A,E),A})}else{const m=kS(this.apiClient,e);return d=fe("{model}:generateContent",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=US(v),A=new yu;return Object.assign(A,E),A})}}async generateContentStreamInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=VS(this.apiClient,e);return d=fe("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(E){return el(this,arguments,function*(){var A,x,L,F;try{for(var B=!0,Q=Mu(E),X;X=yield _t(Q.next()),A=X.done,!A;B=!0){F=X.value,B=!1;const W=F,ae=LS(yield _t(W.json()));ae.sdkHttpResponse={headers:W.headers};const de=new yu;Object.assign(de,ae),yield yield _t(de)}}catch(W){x={error:W}}finally{try{!B&&!A&&(L=Q.return)&&(yield _t(L.call(Q)))}finally{if(x)throw x.error}}})})}else{const m=kS(this.apiClient,e);return d=fe("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(E){return el(this,arguments,function*(){var A,x,L,F;try{for(var B=!0,Q=Mu(E),X;X=yield _t(Q.next()),A=X.done,!A;B=!0){F=X.value,B=!1;const W=F,ae=US(yield _t(W.json()));ae.sdkHttpResponse={headers:W.headers};const de=new yu;Object.assign(de,ae),yield yield _t(de)}}catch(W){x={error:W}}finally{try{!B&&!A&&(L=Q.return)&&(yield _t(L.call(Q)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=aO(this.apiClient,e);return d=fe("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=uO(v),A=new yS;return Object.assign(A,E),A})}else{const m=oO(this.apiClient,e);return d=fe("{model}:batchEmbedContents",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=lO(v),A=new yS;return Object.assign(A,E),A})}}async generateImagesInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=TO(this.apiClient,e);return d=fe("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=SO(v),A=new _S;return Object.assign(A,E),A})}else{const m=vO(this.apiClient,e);return d=fe("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=EO(v),A=new _S;return Object.assign(A,E),A})}}async editImageInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=nO(this.apiClient,e);return a=fe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const m=iO(h),v=new dU;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=T3(this.apiClient,e);return a=fe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const m=E3(h),v=new fU;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=t3(this.apiClient,e);return a=fe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const m=n3(h),v=new hU;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=l3(this.apiClient,e);return a=fe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const m=u3(h),v=new mU;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=qO(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Qp(v))}else{const m=OO(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>$p(v))}}async listInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=jO(this.apiClient,e);return d=fe("{models_url}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=QO(v),A=new vS;return Object.assign(A,E),A})}else{const m=JO(this.apiClient,e);return d=fe("{models_url}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=$O(v),A=new vS;return Object.assign(A,E),A})}}async update(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=_3(this.apiClient,e);return d=fe("{model}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Qp(v))}else{const m=y3(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>$p(v))}}async delete(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=W4(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=eO(v),A=new TS;return Object.assign(A,E),A})}else{const m=X4(this.apiClient,e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=Z4(v),A=new TS;return Object.assign(A,E),A})}}async countTokens(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=j4(this.apiClient,e);return d=fe("{model}:countTokens",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=Q4(v),A=new ES;return Object.assign(A,E),A})}else{const m=J4(this.apiClient,e);return d=fe("{model}:countTokens",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=$4(v),A=new ES;return Object.assign(A,E),A})}}async computeTokens(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=F4(this.apiClient,e);return a=fe("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const m=B4(h),v=new pU;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=RO(this.apiClient,e);return d=fe("{model}:predictLongRunning",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>{const E=xO(v),A=new ff;return Object.assign(A,E),A})}else{const m=IO(this.apiClient,e);return d=fe("{model}:predictLongRunning",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const E=wO(v),A=new ff;return Object.assign(A,E),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m5 extends Bs{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=rU(e);return d=fe("{operationName}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u}else{const m=sU(e);return d=fe("{operationName}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=XV(e);return a=fe("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p5(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function g5(t){const e={},n=f(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>w5(a))),p(e,["parts"],o)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function y5(t,e,n){const i={},o=f(e,["expireTime"]);n!==void 0&&o!=null&&p(n,["expireTime"],o);const a=f(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&p(n,["newSessionExpireTime"],a);const u=f(e,["uses"]);n!==void 0&&u!=null&&p(n,["uses"],u);const d=f(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&p(n,["bidiGenerateContentSetup"],C5(t,d));const h=f(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&p(n,["fieldMask"],h),i}function _5(t,e){const n={},i=f(e,["config"]);return i!=null&&p(n,["config"],y5(t,i,n)),n}function v5(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function T5(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const i=f(t,["args"]);i!=null&&p(e,["args"],i);const o=f(t,["name"]);if(o!=null&&p(e,["name"],o),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function E5(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function S5(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function A5(t,e){const n={},i=f(t,["generationConfig"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig"],i);const o=f(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const a=f(t,["temperature"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","temperature"],a);const u=f(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const h=f(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const v=f(t,["seed"]);e!==void 0&&v!=null&&p(e,["setup","generationConfig","seed"],v);const E=f(t,["speechConfig"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","speechConfig"],sy(E));const A=f(t,["thinkingConfig"]);e!==void 0&&A!=null&&p(e,["setup","generationConfig","thinkingConfig"],A);const x=f(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],x);const L=f(t,["systemInstruction"]);e!==void 0&&L!=null&&p(e,["setup","systemInstruction"],g5(hn(L)));const F=f(t,["tools"]);if(e!==void 0&&F!=null){let ce=gl(F);Array.isArray(ce)&&(ce=ce.map(D=>I5(pl(D)))),p(e,["setup","tools"],ce)}const B=f(t,["sessionResumption"]);e!==void 0&&B!=null&&p(e,["setup","sessionResumption"],x5(B));const Q=f(t,["inputAudioTranscription"]);e!==void 0&&Q!=null&&p(e,["setup","inputAudioTranscription"],Q);const X=f(t,["outputAudioTranscription"]);e!==void 0&&X!=null&&p(e,["setup","outputAudioTranscription"],X);const W=f(t,["realtimeInputConfig"]);e!==void 0&&W!=null&&p(e,["setup","realtimeInputConfig"],W);const ae=f(t,["contextWindowCompression"]);e!==void 0&&ae!=null&&p(e,["setup","contextWindowCompression"],ae);const de=f(t,["proactivity"]);return e!==void 0&&de!=null&&p(e,["setup","proactivity"],de),n}function C5(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["setup","model"],Ze(t,i));const o=f(e,["config"]);return o!=null&&p(n,["config"],A5(o,n)),n}function w5(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const i=f(t,["codeExecutionResult"]);i!=null&&p(e,["codeExecutionResult"],i);const o=f(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const a=f(t,["fileData"]);a!=null&&p(e,["fileData"],v5(a));const u=f(t,["functionCall"]);u!=null&&p(e,["functionCall"],T5(u));const d=f(t,["functionResponse"]);d!=null&&p(e,["functionResponse"],d);const h=f(t,["inlineData"]);h!=null&&p(e,["inlineData"],p5(h));const m=f(t,["text"]);m!=null&&p(e,["text"],m);const v=f(t,["thought"]);v!=null&&p(e,["thought"],v);const E=f(t,["thoughtSignature"]);E!=null&&p(e,["thoughtSignature"],E);const A=f(t,["videoMetadata"]);return A!=null&&p(e,["videoMetadata"],A),e}function x5(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function I5(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(E=>E)),p(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const a=f(t,["fileSearch"]);a!=null&&p(e,["fileSearch"],a);const u=f(t,["codeExecution"]);if(u!=null&&p(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],E5(d));const h=f(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],S5(h));const m=f(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R5(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function b5(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=R5(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];o.length>0&&(d=o.map(m=>u.includes(m)?`generationConfig.${m}`:m));const h=[];a&&h.push(a),d.length>0&&h.push(...d),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class N5 extends Bs{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=_5(this.apiClient,e);a=fe("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const h=b5(d,e.config);return o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),o.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M5(t,e){const n={},i=f(t,["force"]);return e!==void 0&&i!=null&&p(e,["_query","force"],i),n}function D5(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const i=f(t,["config"]);return i!=null&&M5(i,e),e}function P5(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function k5(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function V5(t){const e={},n=f(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const i=f(t,["config"]);return i!=null&&k5(i,e),e}function U5(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=f(t,["documents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),p(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L5 extends Bs{constructor(e){super(),this.apiClient=e,this.list=async n=>new Xo(Fs.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=P5(e);return a=fe("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,i;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=D5(e);o=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=V5(e);return a=fe("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const m=U5(h),v=new gU;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O5 extends Bs{constructor(e,n=new L5(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Xo(Fs.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=R3(e);return a=fe("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async get(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=M3(e);return a=fe("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,i;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=N3(e);o=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=L3(e);return a=fe("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const m=O3(h),v=new yU;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=q3(e);return a=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const m=F3(h),v=new _U;return Object.assign(v,m),v})}}async importFile(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=k3(e);return a=fe("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const m=P3(h),v=new Zg;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q5(t,e){const n={},i=f(t,["name"]);return i!=null&&p(n,["_url","name"],i),n}function F5(t,e){const n={},i=f(t,["name"]);return i!=null&&p(n,["_url","name"],i),n}function B5(t,e){const n={},i=f(t,["sdkHttpResponse"]);return i!=null&&p(n,["sdkHttpResponse"],i),n}function z5(t,e){const n={},i=f(t,["sdkHttpResponse"]);return i!=null&&p(n,["sdkHttpResponse"],i),n}function G5(t,e,n){const i={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=f(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&p(e,["displayName"],o),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=f(t,["epochCount"]);e!==void 0&&a!=null&&p(e,["tuningTask","hyperparameters","epochCount"],a);const u=f(t,["learningRateMultiplier"]);if(u!=null&&p(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=f(t,["batchSize"]);e!==void 0&&d!=null&&p(e,["tuningTask","hyperparameters","batchSize"],d);const h=f(t,["learningRate"]);if(e!==void 0&&h!=null&&p(e,["tuningTask","hyperparameters","learningRate"],h),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function H5(t,e,n){const i={};let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const x=f(t,["validationDataset"]);e!==void 0&&x!=null&&p(e,["supervisedTuningSpec"],HS(x))}else if(o==="PREFERENCE_TUNING"){const x=f(t,["validationDataset"]);e!==void 0&&x!=null&&p(e,["preferenceOptimizationSpec"],HS(x))}const a=f(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&p(e,["tunedModelDisplayName"],a);const u=f(t,["description"]);e!==void 0&&u!=null&&p(e,["description"],u);let d=f(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=f(t,["epochCount"]);e!==void 0&&x!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(d==="PREFERENCE_TUNING"){const x=f(t,["epochCount"]);e!==void 0&&x!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let h=f(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=f(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(h==="PREFERENCE_TUNING"){const x=f(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let m=f(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const x=f(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(m==="PREFERENCE_TUNING"){const x=f(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=f(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=f(t,["adapterSize"]);e!==void 0&&x!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=f(t,["adapterSize"]);e!==void 0&&x!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=f(t,["labels"]);e!==void 0&&E!=null&&p(e,["labels"],E);const A=f(t,["beta"]);return e!==void 0&&A!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],A),i}function Y5(t,e){const n={},i=f(t,["baseModel"]);i!=null&&p(n,["baseModel"],i);const o=f(t,["preTunedModel"]);o!=null&&p(n,["preTunedModel"],o);const a=f(t,["trainingDataset"]);a!=null&&n6(a);const u=f(t,["config"]);return u!=null&&G5(u,n),n}function K5(t,e){const n={},i=f(t,["baseModel"]);i!=null&&p(n,["baseModel"],i);const o=f(t,["preTunedModel"]);o!=null&&p(n,["preTunedModel"],o);const a=f(t,["trainingDataset"]);a!=null&&i6(a,n,e);const u=f(t,["config"]);return u!=null&&H5(u,n,e),n}function J5(t,e){const n={},i=f(t,["name"]);return i!=null&&p(n,["_url","name"],i),n}function j5(t,e){const n={},i=f(t,["name"]);return i!=null&&p(n,["_url","name"],i),n}function $5(t,e,n){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const a=f(t,["pageToken"]);e!==void 0&&a!=null&&p(e,["_query","pageToken"],a);const u=f(t,["filter"]);return e!==void 0&&u!=null&&p(e,["_query","filter"],u),i}function Q5(t,e,n){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const a=f(t,["pageToken"]);e!==void 0&&a!=null&&p(e,["_query","pageToken"],a);const u=f(t,["filter"]);return e!==void 0&&u!=null&&p(e,["_query","filter"],u),i}function X5(t,e){const n={},i=f(t,["config"]);return i!=null&&$5(i,n),n}function W5(t,e){const n={},i=f(t,["config"]);return i!=null&&Q5(i,n),n}function Z5(t,e){const n={},i=f(t,["sdkHttpResponse"]);i!=null&&p(n,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&p(n,["nextPageToken"],o);const a=f(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Cx(d))),p(n,["tuningJobs"],u)}return n}function e6(t,e){const n={},i=f(t,["sdkHttpResponse"]);i!=null&&p(n,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&p(n,["nextPageToken"],o);const a=f(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Wp(d))),p(n,["tuningJobs"],u)}return n}function t6(t,e){const n={},i=f(t,["name"]);i!=null&&p(n,["model"],i);const o=f(t,["name"]);return o!=null&&p(n,["endpoint"],o),n}function n6(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=f(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["examples","examples"],o)}return n}function i6(t,e,n){const i={};let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=f(t,["gcsUri"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=f(t,["gcsUri"]);e!==void 0&&u!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=f(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=f(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=f(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Cx(t,e){const n={},i=f(t,["sdkHttpResponse"]);i!=null&&p(n,["sdkHttpResponse"],i);const o=f(t,["name"]);o!=null&&p(n,["name"],o);const a=f(t,["state"]);a!=null&&p(n,["state"],sx(a));const u=f(t,["createTime"]);u!=null&&p(n,["createTime"],u);const d=f(t,["tuningTask","startTime"]);d!=null&&p(n,["startTime"],d);const h=f(t,["tuningTask","completeTime"]);h!=null&&p(n,["endTime"],h);const m=f(t,["updateTime"]);m!=null&&p(n,["updateTime"],m);const v=f(t,["description"]);v!=null&&p(n,["description"],v);const E=f(t,["baseModel"]);E!=null&&p(n,["baseModel"],E);const A=f(t,["_self"]);return A!=null&&p(n,["tunedModel"],t6(A)),n}function Wp(t,e){const n={},i=f(t,["sdkHttpResponse"]);i!=null&&p(n,["sdkHttpResponse"],i);const o=f(t,["name"]);o!=null&&p(n,["name"],o);const a=f(t,["state"]);a!=null&&p(n,["state"],sx(a));const u=f(t,["createTime"]);u!=null&&p(n,["createTime"],u);const d=f(t,["startTime"]);d!=null&&p(n,["startTime"],d);const h=f(t,["endTime"]);h!=null&&p(n,["endTime"],h);const m=f(t,["updateTime"]);m!=null&&p(n,["updateTime"],m);const v=f(t,["error"]);v!=null&&p(n,["error"],v);const E=f(t,["description"]);E!=null&&p(n,["description"],E);const A=f(t,["baseModel"]);A!=null&&p(n,["baseModel"],A);const x=f(t,["tunedModel"]);x!=null&&p(n,["tunedModel"],x);const L=f(t,["preTunedModel"]);L!=null&&p(n,["preTunedModel"],L);const F=f(t,["supervisedTuningSpec"]);F!=null&&p(n,["supervisedTuningSpec"],F);const B=f(t,["preferenceOptimizationSpec"]);B!=null&&p(n,["preferenceOptimizationSpec"],B);const Q=f(t,["tuningDataStats"]);Q!=null&&p(n,["tuningDataStats"],Q);const X=f(t,["encryptionSpec"]);X!=null&&p(n,["encryptionSpec"],X);const W=f(t,["partnerModelTuningSpec"]);W!=null&&p(n,["partnerModelTuningSpec"],W);const ae=f(t,["customBaseModel"]);ae!=null&&p(n,["customBaseModel"],ae);const de=f(t,["experiment"]);de!=null&&p(n,["experiment"],de);const ce=f(t,["labels"]);ce!=null&&p(n,["labels"],ce);const D=f(t,["outputUri"]);D!=null&&p(n,["outputUri"],D);const N=f(t,["pipelineJob"]);N!=null&&p(n,["pipelineJob"],N);const R=f(t,["serviceAccount"]);R!=null&&p(n,["serviceAccount"],R);const k=f(t,["tunedModelDisplayName"]);k!=null&&p(n,["tunedModelDisplayName"],k);const P=f(t,["veoTuningSpec"]);return P!=null&&p(n,["veoTuningSpec"],P),n}function s6(t,e){const n={},i=f(t,["sdkHttpResponse"]);i!=null&&p(n,["sdkHttpResponse"],i);const o=f(t,["name"]);o!=null&&p(n,["name"],o);const a=f(t,["metadata"]);a!=null&&p(n,["metadata"],a);const u=f(t,["done"]);u!=null&&p(n,["done"],u);const d=f(t,["error"]);return d!=null&&p(n,["error"],d),n}function HS(t,e){const n={},i=f(t,["gcsUri"]);i!=null&&p(n,["validationDatasetUri"],i);const o=f(t,["vertexDatasetResource"]);return o!=null&&p(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r6 extends Bs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Fs.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:o});return a.baseModel=void 0,await this.tuneInternal(a)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),a=await this.tuneMldevInternal(o);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:Yp.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=j5(e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>Wp(v))}else{const m=J5(e);return d=fe("{name}",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>Cx(v))}}async listInternal(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=W5(e);return d=fe("tuningJobs",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=e6(v),A=new SS;return Object.assign(A,E),A})}else{const m=X5(e);return d=fe("tunedModels",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=Z5(v),A=new SS;return Object.assign(A,E),A})}}async cancel(e){var n,i,o,a;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=F5(e);return d=fe("{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=z5(v),A=new AS;return Object.assign(A,E),A})}else{const m=q5(e);return d=fe("{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:v.headers},A})),u.then(v=>{const E=B5(v),A=new AS;return Object.assign(A,E),A})}}async tuneInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=K5(e,e);return a=fe("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>Wp(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Y5(e);return a=fe("tunedModels",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>s6(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o6{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const a6=1024*1024*8,l6=3,u6=1e3,c6=2,mf="x-goog-upload-status";async function d6(t,e,n){var i;const o=await wx(t,e,n),a=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[mf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function f6(t,e,n){var i;const o=await wx(t,e,n),a=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[mf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=Ww(a),d=new ey;return Object.assign(d,u),d}async function wx(t,e,n){var i,o;let a=0,u=0,d=new Kp(new Response),h="upload";for(a=t.size;u<a;){const m=Math.min(a6,a-u),v=t.slice(u,u+m);u+m>=a&&(h+=", finalize");let E=0,A=u6;for(;E<l6&&(d=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=d==null?void 0:d.headers)===null||i===void 0)&&i[mf]));)E++,await m6(A),A=A*c6;if(u+=m,((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[mf])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function h6(t){return{size:t.size,type:t.type}}function m6(t){return new Promise(e=>setTimeout(e,t))}class p6{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await d6(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await f6(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h6(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g6{create(e,n,i){return new y6(e,n,i)}}class y6{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YS="x-goog-api-key";class _6{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(YS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(YS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v6="gl-node/";class T6{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=$V(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new _6(this.apiKey);this.apiClient=new j3({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:v6+"web",uploader:new p6,downloader:new o6}),this.models=new h5(this.apiClient),this.live=new a5(this.apiClient,o,new g6),this.batches=new CL(this.apiClient),this.chats=new r4(this.models,this.apiClient),this.caches=new n4(this.apiClient),this.files=new p4(this.apiClient),this.operations=new m5(this.apiClient),this.authTokens=new N5(this.apiClient),this.tunings=new r6(this.apiClient),this.fileSearchStores=new O5(this.apiClient)}}const ft=()=>Math.random().toString(36).substring(2,9),ap=[{id:ft(),text:"Ps, para que os quero, se tenho asas para voar?",author:"Frida Kahlo",category:"AUTOAMOR"},{id:ft(),text:"A beleza comea no momento em que voc decide ser voc mesma.",author:"Coco Chanel",category:"AUTOESTIMA"},{id:ft(),text:"Voc  suficiente exatamente como .",author:"Meghan Markle",category:"AUTOAMOR"},{id:ft(),text:"No h nada mais raro, nem mais bonito, do que uma mulher sendo ela mesma.",author:"Desconhecida",category:"AUTOESTIMA"},{id:ft(),text:"Apaixone-se por si mesma todos os dias.",author:"Desconhecida",category:"AUTOAMOR"},{id:ft(),text:"Eu no sou descendente de escravos. Eu descendo de seres humanos que foram escravizados.",author:"Makota Valdina",category:"FORA"},{id:ft(),text:"No pea permisso para liderar. Lidere.",author:"Kamala Harris",category:"LIDERANA"},{id:ft(),text:"O ato mais corajoso  pensar por voc mesma. Em voz alta.",author:"Coco Chanel",category:"CARREIRA"},{id:ft(),text:"Voc pode ter tudo. S no pode ter tudo ao mesmo tempo.",author:"Oprah Winfrey",category:"CARREIRA"},{id:ft(),text:"Sua voz  sua ferramenta mais poderosa.",author:"Malala Yousafzai",category:"LIDERANA"},{id:ft(),text:"A intuio  a sabedoria da alma sussurrando.",author:"Desconhecida",category:"INTUIO"},{id:ft(),text:"Respeite seus ciclos. Voc no  uma mquina,  natureza.",author:"Desconhecida",category:"CICLOS"},{id:ft(),text:"H uma fora selvagem dentro de toda mulher que clama por liberdade.",author:"Clarissa Pinkola Ests",category:"SAGRADO FEMININO"},{id:ft(),text:"Eu sou minha prpria musa.",author:"Frida Kahlo",category:"INTUIO"},{id:ft(),text:"Voc pode me fuzilar com palavras... mas ainda assim, como o ar, eu vou me levantar.",author:"Maya Angelou",category:"RESILINCIA"},{id:ft(),text:"A liberdade  pouco. O que eu desejo ainda no tem nome.",author:"Clarice Lispector",category:"SUPERAO"},{id:ft(),text:"Eu sobrevivo porque o fogo dentro de mim queima mais forte que o fogo ao redor.",author:"Desconhecida",category:"FORA"},{id:ft(),text:"Transformei minhas feridas em sabedoria.",author:"Oprah Winfrey",category:"SUPERAO"},{id:ft(),text:"No existe me perfeita. Existem milhes de maneiras de ser uma boa me.",author:"Jill Churchill",category:"MATERNIDADE"},{id:ft(),text:"Cuidar de si mesma  parte de cuidar da sua famlia.",author:"Desconhecida",category:"MATERNIDADE"},{id:ft(),text:"Voc est criando o futuro. Respire fundo, me.",author:"Desconhecida",category:"FAMLIA"},{id:ft(),text:"A felicidade  um perfume que voc no pode passar nos outros sem conseguir algumas gotas em si mesma.",author:"Desconhecida",category:"FELICIDADE"},{id:ft(),text:"Gratido transforma o que temos em suficiente.",author:"Melody Beattie",category:"GRATIDO"},{id:ft(),text:"Renda-se, como eu me rendi. Mergulhe no que voc no conhece como eu mergulhei.",author:"Clarice Lispector",category:"ESPIRITUALIDADE"},{id:ft(),text:"Quando uma mulher ajuda outra, ambas se curam.",author:"Desconhecida",category:"SORORIDADE"},{id:ft(),text:"Cercada de mulheres fortes, me tornei uma.",author:"Desconhecida",category:"AMIZADE"},{id:ft(),text:"O sucesso de outra mulher no apaga o seu.",author:"Desconhecida",category:"SORORIDADE"}],pf=(t,e=10)=>{let n=t.length>0?ap.filter(o=>o.category&&t.some(a=>a.toUpperCase().includes(o.category.toUpperCase())||o.category.toUpperCase().includes(a.toUpperCase()))):ap;if(n.length<e){const o=ap.filter(a=>!n.includes(a));n=[...n,...o]}return n.sort(()=>.5-Math.random()).slice(0,e).map(o=>({...o,id:`local-${Math.random().toString(36).substring(2,9)}`,liked:!1,imageUrl:"",backgroundImage:""}))},Zu=new T6({apiKey:"PLACEHOLDER_API_KEY"});class Du extends Error{constructor(e,n="RESOURCE_EXHAUSTED"){super(e),this.status=n,this.name="QuotaExceededError"}}const lp=pf([],5),ec="gemini-2.5-flash",E6=t=>new Promise(e=>setTimeout(e,t)),S6=async()=>{var a;const e=`
        Atue como uma mentora de sabedoria feminina.
        Gere a "Motivao do Dia" para hoje, ${new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}.
        
        DIRETRIZES:
        1. **PBLICO:** Mulheres modernas (mes, profissionais, estudantes).
        2. **TOM:** Acolhedor, forte, intuitivo e empoderador.
        3. **ORIGINALIDADE:** Evite clichs. Fale sobre fora interior, ciclos, intuio ou autoconfiana.
        4. **AUTORAS:** Priorize citaes de mulheres inspiradoras (famosas ou provrbios).
        5. **LINGUAGEM:** Use o gnero feminino (ex: "guerreira", "pronta", "segura").
    `,n={type:mt.OBJECT,properties:{text:{type:mt.STRING,description:"A citao inspiradora (mx 20 palavras)."},author:{type:mt.STRING,description:"O nome da autora."},category:{type:mt.STRING,description:"Uma palavra-chave em maisculo (ex: AUTOESTIMA)."}},required:["text","author","category"]};let i=0;const o=3;for(;i<o;)try{const u=await Zu.models.generateContent({model:ec,contents:e,config:{responseMimeType:"application/json",responseSchema:n,temperature:.9}}),d=JSON.parse(u.text||"{}");return{text:d.text||"A beleza comea no momento em que voc decide ser voc mesma.",author:d.author||"Coco Chanel",category:((a=d.category)==null?void 0:a.toUpperCase())||"AUTOESTIMA",imageUrl:""}}catch(u){i++;const d=(u==null?void 0:u.message)||JSON.stringify(u);if(d.includes("429")||d.includes("Quota")||d.includes("RESOURCE_EXHAUSTED"))throw new Du("Quota exceeded.");if(console.warn(`Attempt ${i} failed for daily motivation:`,u),i>=o){const h=pf([],1)[0];return{text:(h==null?void 0:h.text)||"Ps, para que os quero, se tenho asas para voar?",author:(h==null?void 0:h.author)||"Frida Kahlo",category:(h==null?void 0:h.category)||"LIBERDADE",imageUrl:""}}await E6(1e3)}return null},eq=async t=>{const e=t.appGoals||[],n=t.improvementAreas||[],i=`
        Atue como uma mentora de vida para mulheres. Crie um "Foco Dirio" para ${t.name}.
        Humor atual: ${t.feeling||"Neutro"}.
        Objetivos: ${[...e,...n].join(", ")}.
        
        Gere uma micro-ao de autocuidado ou um mantra de empoderamento curto para hoje.
        Use linguagem feminina.
    `,o={type:mt.OBJECT,properties:{title:{type:mt.STRING,description:"Ttulo curto (mx 3 palavras)"},text:{type:mt.STRING,description:"Descrio direta e acolhedora (mx 15 palavras)"}},required:["title","text"]};try{const a=await Zu.models.generateContent({model:ec,contents:i,config:{responseMimeType:"application/json",responseSchema:o}});return JSON.parse(a.text||"{}")}catch{return{title:"Seja Gentil Consigo",text:"Respire fundo. Voc est fazendo o melhor que pode."}}},up=async(t,e,n,i)=>{const o=t.topics||[];if(n&&(!e||e.length===0))return console.log("Instant Load: Serving local quotes"),pf(i?[i]:o,12);const a=e?e.slice(-20).map(v=>v.text.substring(0,15)).join(" | "):"",u=i||(o.length>0?o.join(", "):"Autoestima, Fora, Mulher"),h=`
        ${`
        Voc  uma curadora de sabedoria feminina.
        Usuria: ${t.name}, Humor: ${t.feeling||"Neutro"}.
        Tpicos Focais: ${u}.
        
        ESTILO DE CURADORIA:
        1. **FEMININO & FORTE:** Frases que empoderam, acolhem e validam a experincia da mulher.
        2. **PROFUNDIDADE:** Busque citaes sobre ciclos, intuio, maternidade, liderana feminina, sororidade.
        3. **AUTORAS:** Priorize mulheres (escritoras, filsofas, lderes, artistas).
        4. **IDIOMA:** Portugus do Brasil impecvel.
        5. **FORMATO:** Gere um lote de 8 CITAES.
    `}
        Gere 8 citaes esteticamente agradveis e impactantes para mulheres.
        No repita estes incios: [${a}]
    `,m={type:mt.ARRAY,items:{type:mt.OBJECT,properties:{text:{type:mt.STRING,description:"O texto da citao."},author:{type:mt.STRING,description:"Autora (nome curto).",nullable:!0},category:{type:mt.STRING,description:"Categoria breve.",nullable:!0}},required:["text"]}};try{const v=await Zu.models.generateContent({model:ec,contents:h,config:{responseMimeType:"application/json",responseSchema:m,temperature:1}});return JSON.parse(v.text||"[]").map(A=>({id:Math.random().toString(36).substring(2,12),text:A.text,author:A.author||"Desconhecida",category:A.category||"Inspirao",liked:!1,imageUrl:"",backgroundImage:""}))}catch(v){console.warn("Error generating quotes (handling fallback):",v);const E=(v==null?void 0:v.message)||JSON.stringify(v);if(E.includes("429")||E.includes("Quota")||E.includes("RESOURCE_EXHAUSTED"))throw new Du("Cota excedida");return pf(i?[i]:o,5)}},tq=async t=>{const e=`
        Citao: "${t.text}".
        Pblico: Mulheres.
        Crie 3 perguntas de introspeco profundas, curtas e pessoais para a usuria refletir sobre sua vida, emoes ou poder.
        Use um tom gentil e provocativo (no bom sentido).
    `,n={type:mt.ARRAY,items:{type:mt.STRING}};try{const i=await Zu.models.generateContent({model:ec,contents:e,config:{responseMimeType:"application/json",responseSchema:n}});return JSON.parse(i.text||"[]")}catch{return["Como isso ressoa no seu corao?","O que sua intuio diz sobre isso?","Como aplicar isso hoje?"]}},nq=async(t,e,n)=>{const i=`
        Atue como uma mentora sbia, mstica e acolhedora.
        Citao: "${t.text}".
        Reflexo escolhida pela usuria: "${e}".
        Usuria: ${n.name}.
        
        Fornea uma resposta estruturada em 3 partes curtas.
        Use formatao **negrito** (asteriscos) apenas para palavras-chave muito importantes (mximo 1 ou 2 vezes).
        
        1. INSIGHT: Uma reflexo profunda sobre o tema (2 frases).
        2. AO: Um micro-hbito prtico para fazer hoje (1 frase).
        3. MANTRA: Uma afirmao curta e poderosa em primeira pessoa.
    `,o={type:mt.OBJECT,properties:{insight:{type:mt.STRING,description:"A sabedoria ou reflexo."},action:{type:mt.STRING,description:"Uma ao prtica."},mantra:{type:mt.STRING,description:"Uma afirmao curta."}},required:["insight","action","mantra"]};try{const a=await Zu.models.generateContent({model:ec,contents:i,config:{responseMimeType:"application/json",responseSchema:o}});return JSON.parse(a.text||"{}")}catch{return{insight:"Confie no seu processo, querida. A resposta que voc busca j est dentro de voc.",action:"Tire 5 minutos hoje para respirar e se ouvir.",mantra:"Eu sou suficiente e minha intuio me guia."}}},A6=["Excelente","Bom","Normal","Mau","Terrvel"],C6=({onComplete:t})=>{const{userData:e}=Un(),[n,i]=Z.useState(null),o=()=>{n&&t(n)};return T.jsx("div",{className:"bg-gray-50 h-full w-full text-gray-800 flex flex-col items-center overflow-hidden",children:T.jsx("div",{className:"w-full h-full flex-grow flex flex-col animate-slide-in-up",children:T.jsx(En,{title:"Humor do Dia",subtitle:`Como voc est se sentindo hoje, ${(e==null?void 0:e.name)||"voc"}?`,footer:T.jsx(Qo,{onClick:o,disabled:!n,text:"Atualizar Humor"}),children:T.jsx("div",{role:"radiogroup","aria-label":"Seu humor hoje",className:"space-y-3 w-full",children:A6.map(a=>T.jsxs("button",{onClick:()=>i(a),className:`w-full p-4 rounded-xl text-left transition-all duration-200 flex items-center justify-between font-medium text-lg border-2 ${n===a?"bg-violet-500 border-violet-500 text-white shadow-lg":"bg-white border-gray-200 hover:border-gray-300 text-gray-800"}`,role:"radio","aria-checked":n===a,children:[T.jsx("span",{children:a}),n===a&&T.jsx(dn,{className:"text-2xl text-white","aria-hidden":"true"})]},a))})})})})},w6=({text:t="Pensando",className:e=""})=>T.jsx("div",{className:`flex flex-col justify-center items-center text-center text-gray-600 ${e}`,role:"status","aria-live":"polite",children:T.jsxs("div",{className:"relative",children:[T.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:[t,"..."]}),T.jsxs("div",{className:"flex space-x-2 justify-center","aria-hidden":"true",children:[T.jsx("span",{className:"thinking-dot",style:{animationDelay:"0s"}}),T.jsx("span",{className:"thinking-dot",style:{animationDelay:"0.2s"}}),T.jsx("span",{className:"thinking-dot",style:{animationDelay:"0.4s"}})]})]})}),x6=({active:t})=>{if(!t)return null;const e=Array.from({length:15});return T.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",children:e.map((n,i)=>{const o=(Math.random()-.5)*150,a=(Math.random()-.5)*150,u=Math.random()*5+2,d=Math.random()*.5+.5,h=Math.random()*.2;return T.jsx("div",{className:"particle",style:{"--x":`${o}px`,"--y":`${a}px`,width:`${u}px`,height:`${u}px`,animationDuration:`${d}s`,animationDelay:`${h}s`,position:"absolute",top:"50%",left:"50%",background:"#ef4444",borderRadius:"50%",transform:"translate(-50%, -50%)",animation:`explode ${d}s ease-out ${h}s forwards`}},i)})})},I6=Z.memo(({quote:t,onDoubleTap:e})=>{const n=Z.useRef(0),i=a=>{const u=Date.now();u-n.current<300&&e(t.id),n.current=u},o=a=>{const u=a.length;return u<40?"text-4xl md:text-6xl font-bold tracking-tight leading-tight":u<80?"text-3xl md:text-5xl font-bold tracking-normal leading-snug":u<140?"text-2xl md:text-4xl font-semibold leading-relaxed":"text-xl md:text-3xl font-medium leading-relaxed"};return T.jsxs("article",{className:"relative w-full h-full flex-shrink-0 snap-start flex flex-col justify-center items-center p-8 md:p-12 text-center text-white overflow-hidden aurora-background",onTouchEnd:i,onClick:i,"aria-label":`Citao de ${t.author}`,children:[T.jsx("div",{className:"absolute inset-0 opacity-[0.06] pointer-events-none bg-noise z-0 mix-blend-overlay"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/90 z-0 pointer-events-none"}),T.jsxs("div",{className:"relative z-10 max-w-4xl flex flex-col items-center justify-center transform transition-all duration-700 ease-out animate-slide-in-up pb-24 md:pb-0",children:[T.jsx("h1",{className:`${o(t.text)} text-white font-sora drop-shadow-2xl px-2 md:px-4`,style:{textShadow:"0 4px 40px rgba(0,0,0,0.5)",textWrap:"balance"},children:t.text}),T.jsx("div",{className:"w-16 h-[2px] bg-white/30 rounded-full my-10"}),t.author&&T.jsx("p",{className:"text-sm md:text-base font-bold text-white/90 tracking-[0.2em] uppercase font-sora drop-shadow-md",children:t.author})]})]})}),R6=({quotes:t,isLoading:e,onLike:n,onShare:i,onExplore:o,onRead:a,loadMore:u,likedQuoteId:d,onRefresh:h})=>{Xr("/home");const m=Z.useRef(null),v=Z.useRef(null),E=Z.useRef(!1),[A,x]=Z.useState(0),[L,F]=Z.useState(!1),[B,Q]=Z.useState(0),X=Z.useRef(0),W=Z.useRef(!1),ae=80;Z.useEffect(()=>{const P=new IntersectionObserver(U=>{U[0].isIntersecting&&!e&&!E.current&&(E.current=!0,u().finally(()=>{E.current=!1}))},{rootMargin:"0px 0px 150% 0px",threshold:.01});return v.current&&P.observe(v.current),()=>P.disconnect()},[e,u]),Z.useEffect(()=>{const P=m.current;if(!P)return;const U=()=>{const M=Math.round(P.scrollTop/P.clientHeight);M!==A&&(x(M),a&&a())};return P.addEventListener("scroll",U,{passive:!0}),()=>P.removeEventListener("scroll",U)},[A,a]);const de=P=>{var U;((U=m.current)==null?void 0:U.scrollTop)===0&&!L&&(X.current=P.touches[0].clientY,W.current=!0)},ce=P=>{if(!W.current)return;const U=P.touches[0].clientY-X.current;U>0?Q(Math.min(U*.4,ae+60)):(W.current=!1,Q(0))},D=()=>{W.current&&(W.current=!1,B>=ae?(F(!0),h().finally(()=>{F(!1),Q(0)})):Q(0))},N=t[A],R=d===(N==null?void 0:N.id),k=Z.useCallback(P=>{const U=t.find(M=>M.id===P);U&&n(P,U.liked)},[t,n]);return T.jsxs("section",{className:"relative w-full h-full bg-black overflow-hidden",children:[T.jsx("div",{className:"absolute top-24 left-0 right-0 z-30 flex justify-center items-center pointer-events-none transition-transform duration-300 ease-out",style:{transform:`translateY(${B>0?B*.5:-100}px)`,opacity:B>0?1:0},children:T.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-full p-3 ring-1 ring-white/20 shadow-xl flex items-center justify-center",children:L?T.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent"}):T.jsx(cV,{className:"text-white text-2xl",style:{transform:`rotate(${B*3}deg)`}})})}),T.jsxs("div",{ref:m,className:"relative z-10 w-full h-full snap-y snap-mandatory overflow-y-auto scrollbar-hide touch-pan-y",onTouchStart:de,onTouchMove:ce,onTouchEnd:D,children:[t.map((P,U)=>T.jsx(I6,{quote:P,isActive:U===A,onDoubleTap:k},P.id)),(e||t.length===0)&&T.jsx("div",{className:"w-full h-full flex-shrink-0 snap-start flex flex-col justify-center items-center bg-black",children:T.jsx(w6,{text:t.length===0?"Preparando inspirao":"Carregando mais",className:"text-violet-200"})}),T.jsx("div",{ref:v,className:"h-1 w-full pointer-events-none"})]}),T.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-40 pointer-events-none transition-all duration-500 ease-out flex items-center justify-center ${R?"scale-125 opacity-100":"scale-50 opacity-0"}`,children:T.jsx(zp,{filled:!0,className:"text-[120px] text-white drop-shadow-2xl filter shadow-red-500"})}),N&&T.jsxs("div",{className:"absolute bottom-10 left-0 right-0 z-30 flex justify-center items-end gap-8 pb-[env(safe-area-inset-bottom)] pointer-events-none",children:[T.jsxs("div",{className:"flex flex-col items-center gap-2 pointer-events-auto transform transition-transform hover:-translate-y-1",children:[T.jsxs("button",{onClick:()=>o(N),className:"group relative w-14 h-14 rounded-full bg-black/40 backdrop-blur-md border border-white/10 flex items-center justify-center transition-all duration-300 active:scale-90 hover:bg-violet-900/40 hover:border-violet-500/50 hover:shadow-[0_0_20px_rgba(139,92,246,0.3)]","aria-label":"Explorar",children:[T.jsx(Vo,{className:"text-[26px] text-white/90 group-hover:text-white transition-colors"}),T.jsx("div",{className:"absolute inset-0 rounded-full border border-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),T.jsx("span",{className:"text-[10px] font-bold tracking-widest uppercase drop-shadow-md transition-colors text-white/50 group-hover:text-violet-300",children:"Explorar"})]}),T.jsx("div",{className:"flex flex-col items-center gap-2 pointer-events-auto -mb-2 transform transition-transform hover:-translate-y-1",children:T.jsxs("button",{onClick:()=>n(N.id,N.liked),className:`relative group w-20 h-20 rounded-full flex items-center justify-center transition-all duration-300 shadow-2xl active:scale-90 ${N.liked?"bg-gradient-to-tr from-violet-600 to-fuchsia-600 shadow-violet-500/50 scale-105":"bg-black/50 backdrop-blur-xl border border-white/10 hover:border-white/30"}`,"aria-label":"Curtir",children:[T.jsx(zp,{filled:N.liked,className:`text-[42px] mt-[2px] transition-all duration-300 ${N.liked?"text-white":"text-white/90 group-hover:text-white"} ${R?"animate-pop":""}`}),!N.liked&&T.jsx("div",{className:"absolute inset-0 rounded-full border border-white/5 animate-ping opacity-20"}),T.jsx(x6,{active:!!R})]})}),T.jsxs("div",{className:"flex flex-col items-center gap-2 pointer-events-auto transform transition-transform hover:-translate-y-1",children:[T.jsxs("button",{onClick:()=>i(N),className:"group relative w-14 h-14 rounded-full bg-black/40 backdrop-blur-md border border-white/10 flex items-center justify-center transition-all duration-300 hover:bg-violet-900/40 hover:border-violet-500/50 hover:shadow-[0_0_20px_rgba(139,92,246,0.3)] active:scale-90","aria-label":"Compartilhar",children:[T.jsx(tV,{className:"text-[26px] ml-[2px] mt-[1px] text-white/90 group-hover:text-white transition-colors"}),T.jsx("div",{className:"absolute inset-0 rounded-full border border-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),T.jsx("span",{className:"text-[10px] font-bold tracking-widest uppercase text-white/50 drop-shadow-md group-hover:text-violet-300 transition-colors",children:"Postar"})]})]})]})},b6=({onLogin:t,onSignup:e,onBack:n,onAdminAccess:i})=>{const[o,a]=Z.useState("login");Xr(o==="login"?"/login":"/signup");const[u,d]=Z.useState({name:"",phone:"",cpf:"",email:"",password:""}),[h,m]=Z.useState(!0),[v,E]=Z.useState(!1),[A,x]=Z.useState(null),[L,F]=Z.useState(!1),[B,Q]=Z.useState(!1),[X,W]=Z.useState({hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpecial:!1,hasLength:!1});Z.useEffect(()=>{const M=u.password;W({hasUpper:/[A-Z]/.test(M),hasLower:/[a-z]/.test(M),hasNumber:/[0-9]/.test(M),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(M),hasLength:M.length>=8})},[u.password]),Z.useEffect(()=>{const M=ae(u.cpf);E(M)},[u.cpf]);const ae=M=>{const Se=M.replace(/[^\d]+/g,"");if(Se.length!==11||/^(\d)\1+$/.test(Se))return!1;let Ie=0,K;for(let re=1;re<=9;re++)Ie=Ie+parseInt(Se.substring(re-1,re))*(11-re);if(K=Ie*10%11,(K===10||K===11)&&(K=0),K!==parseInt(Se.substring(9,10)))return!1;Ie=0;for(let re=1;re<=10;re++)Ie=Ie+parseInt(Se.substring(re-1,re))*(12-re);return K=Ie*10%11,(K===10||K===11)&&(K=0),K===parseInt(Se.substring(10,11))},de=M=>{const Se=M.replace(/\D/g,""),Ie={0:"(",2:") ",7:"-"};let K="";for(let re=0;re<Se.length;re++)Ie[re]&&re<11&&(K+=Ie[re]),K+=Se[re];return K.substring(0,15)},ce=M=>M.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),D=M=>{let{name:Se,value:Ie}=M.target;Se==="phone"?Ie=de(Ie):Se==="cpf"&&(Ie=ce(Ie)),d({...u,[Se]:Ie}),A&&x(null)},N=async M=>{M.preventDefault(),x(null),F(!0);try{o==="login"?(await t({email:u.email,password:u.password,remember:h}),Q(!0)):Object.values(X).every(Boolean)&&v&&(await e({name:u.name,email:u.email,password:u.password,phone:u.phone,cpf:u.cpf,remember:h}),Q(!0))}catch{F(!1)}},R=()=>{alert("Login com Google requer configurao adicional no Firebase Console.")},k=!u.email||!u.password||L,P=!u.name||!u.email||!u.password||!v||!u.phone||!Object.values(X).every(Boolean)||L,U=()=>u.cpf.length===0||u.cpf.length<14?"border-white/10 focus:border-violet-500/50":v?"border-green-500/50 focus:border-green-500":"border-red-500/50 focus:border-red-500";return T.jsxs("div",{className:"fixed inset-0 z-50 bg-[#050505] text-white flex flex-col items-center justify-center p-4 overflow-hidden font-sans",children:[T.jsx("div",{className:"absolute inset-0 aurora-background opacity-60 pointer-events-none"}),T.jsx("div",{className:"absolute inset-0 bg-noise opacity-[0.05] pointer-events-none mix-blend-overlay"}),n&&!B&&T.jsx("button",{onClick:n,className:"absolute top-6 left-6 z-20 w-10 h-10 rounded-full bg-black/20 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-black/40 transition-colors",children:T.jsx(Ff,{className:"text-2xl"})}),T.jsxs("div",{className:"relative z-10 w-full max-w-md h-full flex flex-col justify-center",children:[T.jsxs("div",{className:`flex flex-col items-center mb-6 flex-shrink-0 transition-all duration-500 ease-out ${B?"scale-0 opacity-0":"scale-100 opacity-100 animate-slide-in-up"}`,children:[T.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-[0_0_30px_rgba(124,58,237,0.4)] mb-4 transform rotate-3",children:T.jsx(Vo,{className:"text-3xl text-white"})}),T.jsxs("h1",{className:"text-3xl font-bold font-sora tracking-tight",children:["Inspira",T.jsx("span",{className:"text-violet-500",children:"+"})]})]}),T.jsxs("div",{className:"bg-[#111]/80 backdrop-blur-xl border border-white/10 p-6 md:p-8 rounded-3xl shadow-2xl overflow-y-auto max-h-[75vh] scrollbar-hide relative transition-all duration-500 animate-slide-in-up",style:{animationDelay:"100ms"},children:[B&&T.jsxs("div",{className:"absolute inset-0 z-50 bg-[#111] flex flex-col items-center justify-center rounded-3xl animate-fade-in p-8 text-center",children:[T.jsx("div",{className:"w-24 h-24 rounded-full bg-green-500/20 flex items-center justify-center mb-6 animate-pop shadow-[0_0_30px_rgba(34,197,94,0.3)] border border-green-500/30",children:T.jsx(cf,{className:"text-5xl text-green-500"})}),T.jsx("h2",{className:"text-3xl font-bold text-white mb-2 font-sora",children:o==="login"?"Entrando...":"Sucesso!"}),T.jsx("p",{className:"text-gray-400 mb-6 font-sans",children:o==="login"?"Preparando sua inspirao diria.":"Sua conta foi criada."}),T.jsxs("div",{className:"flex items-center gap-2 text-violet-400 text-sm font-bold animate-pulse",children:[T.jsx(Vo,{}),T.jsx("span",{children:"Entrando no app..."})]})]}),T.jsxs("div",{className:`transition-opacity duration-300 ${B?"opacity-0 pointer-events-none":"opacity-100"}`,children:[T.jsxs("div",{className:"flex p-1 bg-black/40 rounded-xl mb-6 relative border border-white/5 flex-shrink-0",children:[T.jsx("div",{className:`absolute top-1 bottom-1 w-[calc(50%-4px)] bg-violet-600 rounded-lg transition-all duration-300 ease-spring shadow-lg ${o==="login"?"left-1":"left-[calc(50%+4px)]"}`}),T.jsx("button",{onClick:()=>a("login"),className:`flex-1 py-3 text-sm font-bold relative z-10 transition-colors duration-300 ${o==="login"?"text-white":"text-gray-400 hover:text-white"}`,children:"Entrar"}),T.jsx("button",{onClick:()=>a("signup"),className:`flex-1 py-3 text-sm font-bold relative z-10 transition-colors duration-300 ${o==="signup"?"text-white":"text-gray-400 hover:text-white"}`,children:"Criar Conta"})]}),T.jsxs("form",{onSubmit:N,className:"space-y-4",children:[T.jsxs("div",{className:`space-y-4 overflow-hidden transition-all duration-500 ease-in-out ${o==="signup"?"max-h-[350px] opacity-100 translate-y-0":"max-h-0 opacity-0 -translate-y-4"}`,children:[T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:T.jsx(qf,{className:"text-gray-500 group-focus-within:text-violet-400 transition-colors"})}),T.jsx("input",{type:"text",name:"name",value:u.name,onChange:D,placeholder:"Nome completo",required:o==="signup",tabIndex:o==="signup"?0:-1,className:"w-full py-3.5 pl-12 pr-4 bg-black/30 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-violet-500/50 focus:bg-black/50 transition-all text-sm md:text-base"})]}),T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:T.jsx(iV,{className:`group-focus-within:text-violet-400 transition-colors ${v?"text-green-500":"text-gray-500"}`})}),T.jsx("input",{type:"text",name:"cpf",value:u.cpf,onChange:D,placeholder:"CPF",required:o==="signup",tabIndex:o==="signup"?0:-1,maxLength:14,className:`w-full py-3.5 pl-12 pr-4 bg-black/30 border rounded-xl text-white placeholder-gray-500 focus:outline-none focus:bg-black/50 transition-all text-sm md:text-base ${U()}`}),u.cpf.length===14&&!v&&o==="signup"&&T.jsx("div",{className:"absolute right-3 top-3.5 text-red-500 animate-pulse",children:T.jsx(Bp,{})})]}),T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:T.jsx(gV,{className:"text-gray-500 group-focus-within:text-violet-400 transition-colors"})}),T.jsx("div",{className:"absolute inset-y-0 left-12 flex items-center pointer-events-none",children:T.jsx("span",{className:"text-gray-400 text-sm md:text-base font-medium pr-1 border-r border-white/10 h-5 flex items-center",children:"+55"})}),T.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:D,placeholder:"(00) 00000-0000",required:o==="signup",tabIndex:o==="signup"?0:-1,className:"w-full py-3.5 pl-[85px] pr-4 bg-black/30 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-violet-500/50 focus:bg-black/50 transition-all text-sm md:text-base"})]})]}),T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:T.jsx(pV,{className:"text-gray-500 group-focus-within:text-violet-400 transition-colors"})}),T.jsx("input",{type:"email",name:"email",value:u.email,onChange:D,placeholder:"E-mail",required:!0,className:"w-full py-3.5 pl-12 pr-4 bg-black/30 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-violet-500/50 focus:bg-black/50 transition-all text-sm md:text-base"})]}),T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:T.jsx($w,{className:"text-gray-500 group-focus-within:text-violet-400 transition-colors"})}),T.jsx("input",{type:"password",name:"password",value:u.password,onChange:D,placeholder:"Senha",required:!0,className:"w-full py-3.5 pl-12 pr-4 bg-black/30 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-violet-500/50 focus:bg-black/50 transition-all text-sm md:text-base"})]}),T.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${o==="signup"?"max-h-[150px] opacity-100 translate-y-0":"max-h-0 opacity-0 -translate-y-2"}`,children:T.jsxs("div",{className:"p-3 bg-black/20 rounded-lg border border-white/5 mt-2",children:[T.jsx("p",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wider mb-2",children:"A senha deve conter:"}),T.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[T.jsx(_u,{label:"Mnimo 8 caracteres",met:X.hasLength}),T.jsx(_u,{label:"Letra Maiscula",met:X.hasUpper}),T.jsx(_u,{label:"Letra Minscula",met:X.hasLower}),T.jsx(_u,{label:"Nmero",met:X.hasNumber}),T.jsx(_u,{label:"Caractere Especial",met:X.hasSpecial})]})]})}),T.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${o==="login"?"max-h-[40px] opacity-100":"max-h-0 opacity-0"}`,children:T.jsxs("div",{className:"flex justify-between items-center pt-1",children:[T.jsxs("label",{className:"flex items-center cursor-pointer group select-none",children:[T.jsx("div",{className:`w-4 h-4 rounded border transition-colors flex items-center justify-center ${h?"bg-violet-600 border-violet-600":"bg-transparent border-gray-600 group-hover:border-gray-400"}`,children:h&&T.jsx(cf,{className:"text-white text-xs"})}),T.jsx("input",{type:"checkbox",className:"hidden",checked:h,onChange:M=>m(M.target.checked)}),T.jsx("span",{className:`ml-2 text-xs transition-colors ${h?"text-gray-200":"text-gray-500 group-hover:text-gray-400"}`,children:"Lembrar de mim"})]}),T.jsx("button",{type:"button",className:"text-xs text-gray-400 hover:text-violet-400 transition-colors",children:"Esqueceu a senha?"})]})}),T.jsxs("div",{className:"pt-2",children:[A&&T.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm mb-3 bg-red-500/10 p-3 rounded-lg border border-red-500/20",children:[T.jsx(Xw,{className:"text-lg flex-shrink-0"}),T.jsx("span",{children:A})]}),T.jsx("button",{type:"submit",disabled:o==="login"?k:P,className:"w-full bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-bold py-4 rounded-xl shadow-[0_0_20px_rgba(124,58,237,0.3)] hover:shadow-[0_0_30px_rgba(124,58,237,0.5)] active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:L?T.jsx("span",{children:"Processando..."}):T.jsxs(T.Fragment,{children:[T.jsx("span",{children:o==="login"?"Acessar App":"Comear Agora"}),T.jsx(Xg,{})]})})]})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-4 my-6",children:[T.jsx("div",{className:"h-px bg-white/10 flex-1"}),T.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider",children:"Ou continue com"}),T.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),T.jsxs("button",{type:"button",onClick:R,className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-3 group active:scale-95",children:[T.jsx(eV,{className:"w-5 h-5"}),T.jsx("span",{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors",children:"Google"})]})]})]})]}),T.jsxs("div",{className:`text-center mt-6 mb-4 flex-shrink-0 transition-opacity duration-300 ${B?"opacity-0":"opacity-100"}`,children:[T.jsxs("p",{className:"text-xs text-gray-600",children:["Ao continuar, voc concorda com nossos ",T.jsx("br",{})," Termos de Uso e Poltica de Privacidade."]}),i&&T.jsxs("button",{onClick:i,className:"mt-6 text-[10px] text-gray-700 hover:text-gray-500 flex items-center justify-center gap-1 mx-auto opacity-50 hover:opacity-100 transition-all",children:[T.jsx(sV,{className:"text-sm"})," Admin"]})]})]})]})},_u=({label:t,met:e})=>T.jsxs("div",{className:`flex items-center gap-1.5 transition-colors duration-300 ${e?"text-green-400":"text-gray-500"}`,children:[e?T.jsx(cf,{className:"text-xs"}):T.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-600"}),T.jsx("span",{className:"text-[10px] font-medium",children:t})]}),KS=({onClose:t})=>(Xr("/terms"),T.jsxs("div",{className:"fixed inset-0 z-[60] bg-[#050505] text-white flex flex-col animate-slide-in-up overflow-hidden",children:[T.jsxs("header",{className:"flex items-center p-4 border-b border-white/10 bg-[#050505]/90 backdrop-blur-md z-10",children:[T.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/10 transition-colors",children:T.jsx(Ff,{className:"text-2xl"})}),T.jsx("h1",{className:"text-lg font-bold flex-grow text-center font-serif",children:"Termos de Uso"}),T.jsx("div",{className:"w-10"})]}),T.jsxs("main",{className:"flex-grow overflow-y-auto p-6 md:p-8 space-y-6 text-gray-300 font-sans text-sm md:text-base leading-relaxed scrollbar-hide",children:[T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"1. Aceitao dos Termos"}),T.jsx("p",{children:"Ao baixar, instalar ou utilizar o aplicativo Inspira+, voc concorda em cumprir estes Termos de Uso. Se voc no concordar com algum destes termos, no utilize o aplicativo."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"2. Descrio do Servio"}),T.jsx("p",{children:"O Inspira+  uma plataforma de bem-estar e motivao diria focada no pblico feminino. O servio oferece citaes, reflexes e ferramentas de gamificao geradas por Inteligncia Artificial e curadoria humana."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"3. Uso do Contedo"}),T.jsx("p",{children:"Todo o contedo gerado (textos, imagens, udios)  para uso pessoal e no comercial. Voc pode compartilhar as citaes nas redes sociais utilizando as ferramentas nativas do aplicativo, mantendo os crditos ao Inspira+."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"4. Assinaturas e Pagamentos"}),T.jsx("p",{children:"O Inspira+ oferece funcionalidades Premium mediante assinatura. Os pagamentos so processados por plataformas terceiras seguras (Google Play Store, Apple App Store, Hotmart ou similar). Cancelamentos e reembolsos seguem as polticas especficas da plataforma onde a compra foi realizada."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"5. Iseno de Responsabilidade Mdica"}),T.jsxs("p",{children:["O contedo do Inspira+ tem carter motivacional e educativo. ",T.jsx("strong",{children:"No substitui acompanhamento psicolgico, psiquitrico ou mdico profissional."})," Em casos de crises de sade mental, procure ajuda profissional imediatamente."]})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"6. Alteraes nos Termos"}),T.jsx("p",{children:"Reservamo-nos o direito de modificar estes termos a qualquer momento. O uso contnuo do aplicativo aps as alteraes constitui aceitao dos novos termos."})]}),T.jsx("div",{className:"pt-8 pb-12 text-center text-xs text-gray-500",children:T.jsx("p",{children:"ltima atualizao: Outubro de 2023"})})]})]})),JS=({onClose:t})=>(Xr("/privacy"),T.jsxs("div",{className:"fixed inset-0 z-[60] bg-[#050505] text-white flex flex-col animate-slide-in-up overflow-hidden",children:[T.jsxs("header",{className:"flex items-center p-4 border-b border-white/10 bg-[#050505]/90 backdrop-blur-md z-10",children:[T.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/10 transition-colors",children:T.jsx(Ff,{className:"text-2xl"})}),T.jsx("h1",{className:"text-lg font-bold flex-grow text-center font-serif",children:"Poltica de Privacidade"}),T.jsx("div",{className:"w-10"})]}),T.jsxs("main",{className:"flex-grow overflow-y-auto p-6 md:p-8 space-y-6 text-gray-300 font-sans text-sm md:text-base leading-relaxed scrollbar-hide",children:[T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"1. Coleta de Dados"}),T.jsx("p",{children:"Respeitamos sua privacidade. Coletamos apenas os dados essenciais para personalizar sua experincia (como nome, preferncias de tpicos e humor). A maioria dos dados  armazenada localmente no seu dispositivo."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"2. Uso de Inteligncia Artificial"}),T.jsx("p",{children:"Utilizamos a API do Google Gemini para gerar contedo personalizado. Ao usar funcionalidades de IA, os prompts de texto (sem identificao pessoal sensvel) so enviados para processamento e no so retidos para treinamento de modelos pela nossa aplicao."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"3. Armazenamento Local"}),T.jsx("p",{children:"Priorizamos o armazenamento local (no seu prprio celular) para histrico de humor, citaes favoritas e progresso na jornada. Isso garante que voc tenha controle total sobre seus dados."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"4. Compartilhamento de Dados"}),T.jsx("p",{children:"No vendemos, alugamos ou compartilhamos seus dados pessoais com terceiros para fins de marketing. Dados annimos de uso podem ser usados para melhorar a performance do aplicativo."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"5. Segurana"}),T.jsx("p",{children:"Empregamos medidas de segurana padro da indstria para proteger suas informaes. Pagamentos so processados por gateways criptografados externos, e no temos acesso aos seus dados financeiros completos."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"6. Seus Direitos"}),T.jsx("p",{children:"Voc tem o direito de solicitar a excluso de sua conta e de todos os dados associados a qualquer momento atravs das configuraes do aplicativo ou entrando em contato com nosso suporte."})]}),T.jsx("div",{className:"pt-8 pb-12 text-center text-xs text-gray-500",children:T.jsx("p",{children:"ltima atualizao: Outubro de 2023"})})]})]})),N6=({onClose:t,setToastMessage:e})=>{Xr("/admin");const[n,i]=Z.useState([]),[o,a]=Z.useState(""),[u,d]=Z.useState(!1),[h,m]=Z.useState(!1),[v,E]=Z.useState(""),[A,x]=Z.useState(""),[L,F]=Z.useState(""),[B,Q]=Z.useState(!1);Z.useEffect(()=>{X()},[]);const X=async()=>{m(!0);try{const R=await x2(f2(Dr,"users")),k=[];R.forEach(P=>{const U=P.data();k.push({id:P.id,email:U.email||"No Email",data:U})}),i(k)}catch(R){console.error("Error loading users:",R),e({message:"Erro ao carregar usurios.",type:"error"})}finally{m(!1)}},W=async(R,k)=>{const P=n.find(K=>K.id===R);if(!P)return;const U=new Date,M=P.data.subscriptionExpiry?new Date(P.data.subscriptionExpiry):new Date,Se=M>U?M:U,Ie=new Date(Se);k==="month"?Ie.setMonth(Ie.getMonth()+1):Ie.setFullYear(Ie.getFullYear()+1);try{await Op(Po(Dr,"users",R),{isPremium:!0,subscriptionExpiry:Ie.toISOString()}),e({message:"Assinatura renovada!",type:"success"}),X()}catch{e({message:"Erro ao atualizar.",type:"error"})}},ae=async R=>{try{await Op(Po(Dr,"users",R),{isPremium:!1,subscriptionExpiry:""}),e({message:"Assinatura cancelada.",type:"success"}),X()}catch{e({message:"Erro ao cancelar.",type:"error"})}},de=async R=>{if(window.confirm("Tem certeza? Isso apaga os dados do banco, mas a conta de autenticao permanece (limitao do SDK cliente)."))try{await I2(Po(Dr,"users",R)),e({message:"Dados do usurio excludos.",type:"success"}),X()}catch{e({message:"Erro ao excluir.",type:"error"})}},ce=async R=>{if(R.preventDefault(),alert("Ateno: Criar um usurio aqui far o logout da sua conta de admin atual, pois o Firebase Auth Client SDK apenas suporta um usurio ativo por vez. Voc ter que relogar como admin depois."),!(!v||!L||!A))try{const P=(await UA(JA(),v,A)).user,U=new Date().toISOString().split("T")[0],M=new Date;M.setMonth(M.getMonth()+1);const Se={onboardingComplete:!0,isPremium:B,subscriptionExpiry:B?M.toISOString():void 0,name:L,email:v,stats:{xp:0,level:1,currentStreak:1,lastLoginDate:U,quests:[],totalQuotesRead:0,totalShares:0,totalLikes:0},improvementAreas:[],appGoals:[],topics:[]};await Lp(Po(Dr,"users",P.uid),Se),window.location.reload()}catch(k){console.error(k),e({message:`Erro: ${k.message}`,type:"error"})}},D=R=>R?new Date(R).toLocaleDateString("pt-BR"):"-",N=n.filter(R=>R.email&&R.email.toLowerCase().includes(o.toLowerCase())||R.data.name&&R.data.name.toLowerCase().includes(o.toLowerCase()));return T.jsxs("div",{className:"fixed inset-0 z-[100] bg-[#050505] text-white flex flex-col overflow-hidden animate-fade-in",children:[T.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-white/10 bg-[#0a0a0a]",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-600 flex items-center justify-center",children:T.jsx(qf,{className:"text-2xl text-white"})}),T.jsx("h1",{className:"text-xl font-bold font-serif",children:"Admin (Firebase)"})]}),T.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:T.jsx(Bp,{className:"text-xl"})})]}),T.jsxs("main",{className:"flex-grow overflow-y-auto p-6",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-8",children:[T.jsx("input",{type:"text",placeholder:"Buscar...",value:o,onChange:R=>a(R.target.value),className:"bg-[#111] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500 w-full md:w-96"}),T.jsx("button",{onClick:()=>d(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold px-6 py-3 rounded-xl transition-colors flex items-center justify-center gap-2",children:T.jsx("span",{children:"+ Criar Conta"})})]}),h&&T.jsx("div",{className:"text-center py-4",children:"Carregando dados do Firestore..."}),T.jsx("div",{className:"space-y-4",children:!h&&N.length===0?T.jsx("div",{className:"text-center text-gray-500 py-10",children:"Nenhum usurio encontrado."}):N.map(R=>T.jsxs("div",{className:"bg-[#111] border border-white/5 rounded-2xl p-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-6 hover:border-white/10 transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-4 min-w-[250px]",children:[T.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold ${R.data.isPremium?"bg-gradient-to-br from-amber-500 to-orange-600 text-white":"bg-gray-800 text-gray-400"}`,children:R.data.name?R.data.name.charAt(0).toUpperCase():"?"}),T.jsxs("div",{children:[T.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[R.data.name||"Sem nome",R.data.isPremium&&T.jsx(uf,{className:"text-amber-500 text-xs"})]}),T.jsx("p",{className:"text-sm text-gray-400",children:R.email||R.id})]})]}),T.jsxs("div",{className:"min-w-[150px]",children:[T.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Status"}),R.data.isPremium?T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-amber-400 font-bold text-sm",children:"Premium Ativo"}),T.jsxs("span",{className:"text-xs text-gray-400",children:["Expira: ",D(R.data.subscriptionExpiry)]})]}):T.jsx("span",{className:"text-gray-400 font-bold text-sm",children:"Gratuito"})]}),T.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[T.jsxs("div",{className:"flex items-center bg-black/30 rounded-lg p-1 border border-white/5",children:[T.jsx("button",{onClick:()=>W(R.id,"month"),className:"px-3 py-2 text-xs font-bold text-green-400 hover:bg-green-500/10 rounded-md transition-colors",title:"Adicionar 1 Ms",children:"+1 Ms"}),T.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),T.jsx("button",{onClick:()=>W(R.id,"year"),className:"px-3 py-2 text-xs font-bold text-green-400 hover:bg-green-500/10 rounded-md transition-colors",title:"Adicionar 1 Ano",children:"+1 Ano"})]}),R.data.isPremium&&T.jsx("button",{onClick:()=>ae(R.id),className:"px-4 py-2 text-xs font-bold text-amber-500 hover:bg-amber-500/10 rounded-lg border border-amber-500/30 transition-colors",children:"Cancelar"}),T.jsx("button",{onClick:()=>de(R.id),className:"px-4 py-2 text-xs font-bold text-red-500 hover:bg-red-500/10 rounded-lg border border-red-500/30 transition-colors ml-2",children:"Excluir"})]})]},R.id))})]}),u&&T.jsx("div",{className:"fixed inset-0 z-[110] bg-black/80 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-[#1a1a1c] w-full max-w-md rounded-2xl p-6 border border-white/10 shadow-2xl animate-pop",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-xl font-bold font-serif",children:"Criar Novo Usurio"}),T.jsx("button",{onClick:()=>d(!1),children:T.jsx(Bp,{className:"text-gray-400 hover:text-white"})})]}),T.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"E-mail"}),T.jsx("input",{type:"email",required:!0,value:v,onChange:R=>E(R.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-indigo-500"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Senha"}),T.jsx("input",{type:"password",required:!0,value:A,onChange:R=>x(R.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-indigo-500"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nome"}),T.jsx("input",{type:"text",required:!0,value:L,onChange:R=>F(R.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-indigo-500"})]}),T.jsx("div",{className:"flex items-center gap-3 py-2",children:T.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:B,onChange:R=>Q(R.target.checked),className:"rounded border-gray-600 bg-black/30 text-indigo-600 focus:ring-indigo-500"}),T.jsx("span",{className:"text-sm font-medium text-white",children:"Criar como Premium?"})]})}),T.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl transition-colors mt-4",children:"Criar Conta (Far Logout do Admin)"})]})]})})]})},M6=({onRenew:t,onLogout:e})=>(Xr("/subscription-expired"),T.jsxs("div",{className:"fixed inset-0 z-[100] bg-[#050505] text-white flex flex-col items-center justify-center p-6 overflow-hidden animate-fade-in",children:[T.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[90%] h-[50%] bg-red-900/20 rounded-full blur-[120px] pointer-events-none animate-pulse-slow"}),T.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[90%] h-[50%] bg-amber-900/10 rounded-full blur-[100px] pointer-events-none"}),T.jsx("div",{className:"absolute inset-0 bg-noise opacity-[0.05] pointer-events-none mix-blend-overlay"}),T.jsxs("div",{className:"relative z-10 w-full max-w-md text-center space-y-8",children:[T.jsxs("div",{className:"relative mx-auto w-24 h-24 flex items-center justify-center",children:[T.jsx("div",{className:"absolute inset-0 bg-red-500/20 rounded-full animate-ping opacity-20"}),T.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-red-900 to-black border border-red-500/50 rounded-full flex items-center justify-center shadow-[0_0_40px_rgba(239,68,68,0.3)]",children:T.jsx($w,{className:"text-4xl text-red-500"})})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-white",children:"Acesso Restrito"}),T.jsx("p",{className:"text-gray-400 font-sans leading-relaxed text-base md:text-lg",children:"O Inspira+  uma comunidade exclusiva para assinantes Premium. Para iniciar ou continuar sua jornada de inspirao, ative seu acesso agora."})]}),T.jsxs("div",{className:"space-y-4 pt-4",children:[T.jsxs("button",{onClick:t,className:"w-full bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold py-4 rounded-xl shadow-[0_0_30px_rgba(245,158,11,0.3)] hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3 group",children:[T.jsx(uf,{className:"text-xl"}),T.jsx("span",{children:"Assinar Premium"}),T.jsx(Xg,{className:"group-hover:translate-x-1 transition-transform"})]}),T.jsxs("button",{onClick:e,className:"w-full bg-white/5 border border-white/10 hover:bg-white/10 text-gray-400 hover:text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2",children:[T.jsx(dV,{className:"text-xl"}),T.jsx("span",{children:"Sair da conta"})]})]}),T.jsx("p",{className:"text-xs text-gray-600 pt-8",children:"Se voc acredita que isso  um erro, entre em contato com o suporte."})]})]})),D6=Z.lazy(()=>Kr(()=>import("./FilterModal-BT2TfnpD.js"),[]).then(t=>({default:t.FilterModal}))),P6=Z.lazy(()=>Kr(()=>import("./ExploreModal-Bbb9F7iZ.js"),[]).then(t=>({default:t.ExploreModal}))),k6=Z.lazy(()=>Kr(()=>import("./DailyMotivationScreen-DfGTJUX7.js"),[]).then(t=>({default:t.DailyMotivationScreen}))),V6=Z.lazy(()=>Kr(()=>import("./ProfileScreen-BiMbOMPV.js"),[]).then(t=>({default:t.ProfileScreen}))),U6=Z.lazy(()=>Kr(()=>import("./PremiumCheckoutScreen-CNBGwKQk.js"),[]).then(t=>({default:t.PremiumCheckoutScreen}))),L6=Z.lazy(()=>Kr(()=>import("./ShareModal-C12653Sn.js"),[]).then(t=>({default:t.ShareModal}))),O6=Z.lazy(()=>Kr(()=>import("./GamificationModal-DXn29pGB.js"),[]).then(t=>({default:t.GamificationModal}))),q6=Z.lazy(()=>Kr(()=>import("./LevelUpModal-OFnz9z1I.js"),[]).then(t=>({default:t.LevelUpModal}))),Id=(t=30)=>{if(typeof window<"u"&&window.navigator&&"vibrate"in window.navigator)try{window.navigator.vibrate(t)}catch(e){console.warn("Haptic feedback is not supported or failed.",e)}},F6=()=>{var ms,Bn;const{userData:t,updateUserData:e,loading:n,completeQuest:i,initializeUser:o}=Un(),{login:a,signup:u,logout:d,isAuthenticated:h,isLoading:m,authError:v}=Kw(),[E,A]=Z.useState(!1),[x,L]=Z.useState(!1),[F,B]=Z.useState(null),[Q,X]=Z.useState(null),[W,ae]=Z.useState(!1),[de,ce]=Z.useState(!1),[D,N]=Z.useState(!1),[R,k]=Z.useState([]),[P,U]=Z.useState(!0),[M,Se]=Z.useState(!1),[Ie,K]=Z.useState(!1),[re,he]=Z.useState(null),[Fe,$e]=Z.useState(!1),[q,ne]=Z.useState(!1),[le,me]=Z.useState(null),[Ce,Re]=Z.useState(null),[Ue,wt]=Z.useState(null),[ht,Li]=Z.useState(!1),[yi,_i]=Z.useState(!1),[Ln,Sn]=Z.useState(null),[Oi,us]=Z.useState(!0),[Gs,Hs]=Z.useState(!1),[xt,It]=Z.useState(!1),[vi,Ys]=Z.useState(!1),[Wo,jt]=Z.useState(!1),[qi,Ks]=Z.useState(!1),[Zr,Ti]=Z.useState(!1),[Zo,eo]=Z.useState(null),[to,no]=Z.useState(!1),[On,Vt]=Z.useState(!1),[pn,Et]=Z.useState(null),[ea,cs]=Z.useState(!1),io=!!(t!=null&&t.onboardingComplete),Wn=Z.useMemo(()=>{if(!t||!t.isPremium)return!1;if(t.subscriptionExpiry){const ye=new Date(t.subscriptionExpiry);if(new Date>ye)return!1}return!0},[t]),ds=Z.useMemo(()=>new URLSearchParams(window.location.search).get("share")==="true",[]);Z.useEffect(()=>{v&&he({message:v,type:"error"})},[v]),Z.useEffect(()=>{F==="signup"&&h&&Q&&!n?o({name:Q.name,onboardingComplete:!0}).then(()=>{he({message:"Conta criada com sucesso!",type:"success"}),B(null),X(null),L(!1)}):F==="login"&&h&&!n&&(t&&!t.onboardingComplete&&e({onboardingComplete:!0}),he({message:"Bem-vindo(a) de volta!",type:"success"}),B(null),L(!1))},[F,h,n,Q,o,t,e]),Z.useEffect(()=>{(async()=>{const Qe=`dailyMotivation-${new Date().toISOString().split("T")[0]}`;try{const Ve=localStorage.getItem(Qe);if(Ve)Sn(JSON.parse(Ve));else{Object.keys(localStorage).forEach(wn=>{wn.startsWith("dailyMotivation-")&&localStorage.removeItem(wn)});const yn=await S6();yn&&(Sn(yn),localStorage.setItem(Qe,JSON.stringify(yn)))}}catch(Ve){console.error("Error generating daily motivation:",Ve);const yn={text:"A persistncia realiza o impossvel.",author:"Provrbio Chins",category:"Persistncia",imageUrl:""};Ve instanceof Du?he({message:"Cota de gerao diria excedida.",type:"error"}):he({message:"Falha ao carregar motivao diria. Exibindo uma alternativa.",type:"error"}),Sn(yn)}finally{us(!1)}})()},[]);const pt=ye=>{ye&&ye.leveledUp&&(Et(ye.newLevel),Id([50,50,50]))},An=Z.useCallback(async()=>{if(!t||yi)return;const ye=R.length===0;ye&&U(!0);try{const je=await up(t,R,ye,le);k(Qe=>{const Ve=new Set(Qe.map(wn=>wn.text)),yn=je.filter(wn=>!Ve.has(wn.text));return[...Qe,...yn]}),ye&&setTimeout(async()=>{const Qe=await up(t,je,!1,le);k(Ve=>{const yn=new Set(Ve.map(xn=>xn.text)),wn=Qe.filter(xn=>!yn.has(xn.text));return[...Ve,...wn]})},1e3)}catch(je){console.error("Error generating quotes:",je),je instanceof Du?(_i(!0),he({message:"Limite de uso dirio da IA atingido. Tente novamente amanh.",type:"error"}),ye&&k(lp),setTimeout(()=>_i(!1),6e4)):(he({message:"Falha ao buscar citaes. Tente novamente.",type:"error"}),ye&&k(lp))}finally{U(!1)}},[t,R,le,yi]),Zn=Z.useCallback(async()=>{if(!(!t||yi)){U(!0);try{const ye=await up(t,[],!0,le);k(ye),he({message:"Citaes atualizadas!",type:"success"})}catch(ye){console.error("Error refreshing quotes:",ye),ye instanceof Du?(_i(!0),he({message:"Limite de uso dirio da IA atingido. Tente novamente amanh.",type:"error"}),k(lp),setTimeout(()=>_i(!1),6e4)):he({message:"Falha ao atualizar. Tente novamente.",type:"error"})}finally{U(!1)}}},[t,le,yi]);Z.useEffect(()=>{if(re){const ye=setTimeout(()=>he(null),4e3);return()=>clearTimeout(ye)}},[re]),Z.useEffect(()=>{t&&R.length===0&&!Oi&&An()},[t,An,Oi]);const Cn=Z.useCallback((ye,je)=>{if(Id(),!je){he({message:"Adicionada aos favoritos!",type:"success"}),Re(ye),setTimeout(()=>Re(null),1e3);const Qe=i("like_quote");pt(Qe)}k(Qe=>Qe.map(Ve=>Ve.id===ye?{...Ve,liked:!Ve.liked}:Ve))},[i]),ta=Z.useCallback(ye=>{eo(ye),Ks(!0),Id();const je=i("share_quote");pt(je)},[i]),na=Z.useCallback(()=>{const ye=i("read_quotes");pt(ye)},[i]),qn=()=>{K(!0),setTimeout(()=>{Se(!1),K(!1)},500)},fs=()=>{Vt(!0),setTimeout(()=>{no(!1),Vt(!1)},500)},_l=()=>{cs(!0),setTimeout(()=>{Et(null),cs(!1)},500)},Fi=()=>{ne(!0),setTimeout(()=>{$e(!1),ne(!1)},500)},Js=()=>{It(!0),setTimeout(()=>{Hs(!1),It(!1)},500)},js=()=>{jt(!0),setTimeout(()=>{Ys(!1),jt(!1)},500)},hs=()=>{const ye=new Date;ye.setMonth(ye.getMonth()+1),e({isPremium:!0,subscriptionExpiry:ye.toISOString()}),js(),he({message:"Bem-vindo(a) ao Premium! Obrigado pelo seu apoio.",type:"success"})},Ei=ye=>{le!==ye&&(me(ye),k([])),Fi()},so=ye=>{wt(ye)},Fn=()=>{Li(!0),setTimeout(()=>{wt(null),Li(!1)},500)},gn=Z.useMemo(()=>`daily-${new Date().toISOString().split("T")[0]}`,[]),it=Z.useMemo(()=>{if(!Ln)return null;const ye=R.find(je=>je.id===gn);return{id:gn,text:Ln.text,author:Ln.author,category:Ln.category,liked:ye?ye.liked:!1,imageUrl:Ln.imageUrl,backgroundImage:""}},[Ln,gn,R]),Ut=Z.useCallback(()=>{if(!it)return;Id();const ye=it.liked,je=R.some(Qe=>Qe.id===it.id);if(!ye){he({message:"Adicionada aos favoritos!",type:"success"}),Re(it.id),setTimeout(()=>Re(null),1e3);const Qe=i("like_quote");pt(Qe)}k(je?Qe=>Qe.map(Ve=>Ve.id===it.id?{...Ve,liked:!ye}:Ve):Qe=>[...Qe,{...it,liked:!0}])},[it,R,i]),ei=()=>{Ti(!0),setTimeout(()=>{Ks(!1),eo(null),Ti(!1)},500)},$s=()=>{Ys(!0)},vl=async ye=>{B("login");try{await a(ye)}catch{B(null)}},ia=async ye=>{X(ye),B("signup");try{await u(ye)}catch{B(null)}},ro=Z.useCallback(()=>{L(!0),Se(!1),K(!1),d()},[d]);if(ds)return T.jsx(YV,{});if(Z.useEffect(()=>{if(io){const ye=localStorage.getItem("inspiraMoodCheckin"),je=1440*60*1e3,Qe=new Date().getTime();(!ye||Qe-parseInt(ye,10)>je)&&A(!0)}},[io]),n||m)return T.jsx("div",{className:"h-full w-full flex items-center justify-center bg-black text-gray-50",children:T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-violet-500"})});const ti=ye=>{e({feeling:ye}),localStorage.setItem("inspiraMoodCheckin",new Date().getTime().toString()),A(!1)};return D?T.jsx(N6,{onClose:()=>N(!1),setToastMessage:he}):x?T.jsx(b6,{onLogin:vl,onSignup:ia,onBack:()=>L(!1),onAdminAccess:()=>N(!0)}):h?t?!Wn&&!vi?T.jsx(M6,{onRenew:()=>Ys(!0),onLogout:ro}):vi?T.jsx(Z.Suspense,{fallback:T.jsx("div",{className:"fixed inset-0 bg-black z-50"}),children:T.jsx(U6,{onBack:js,onPurchaseComplete:hs,isClosing:Wo})}):E?T.jsx(C6,{onComplete:ti}):T.jsxs("main",{className:"relative h-full w-full bg-black text-gray-50 font-sans overflow-hidden",role:"main",children:[T.jsxs("div",{className:`w-full h-full transition-all duration-500 ease-in-out ${M||Fe||Ue||Gs||qi||to?"scale-95 brightness-75":"scale-100 brightness-100"}`,children:[T.jsx(R6,{quotes:R,isLoading:P,onLike:Cn,onShare:ta,onExplore:so,onRead:na,loadMore:An,sharingQuoteId:null,likedQuoteId:Ce,onRefresh:Zn}),T.jsxs("header",{className:"absolute top-0 left-0 right-0 p-4 md:p-6 flex justify-between items-center z-20 pointer-events-none",children:[T.jsxs("div",{className:"pointer-events-auto flex items-center space-x-2",children:[Oi?T.jsx("div",{className:"h-10 w-10 bg-white/50 rounded-full animate-pulse shadow-md","aria-hidden":"true"}):T.jsx("button",{onClick:()=>Hs(!0),className:"w-10 h-10 rounded-full bg-black/20 backdrop-blur-md hover:bg-black/40 transition-colors ring-1 ring-white/20 flex items-center justify-center transform active:scale-95","aria-label":"Ver Motivao do Dia",children:T.jsx(aV,{className:"text-amber-500 text-[24px]"})}),T.jsxs("button",{onClick:()=>no(!0),className:"h-10 px-4 rounded-full bg-black/20 backdrop-blur-md hover:bg-black/40 transition-colors ring-1 ring-white/20 flex items-center justify-center gap-3 transform active:scale-95","aria-label":"Ver Jornada",children:[T.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-gradient-to-tr from-orange-500 to-amber-300 shadow-[0_0_10px_rgba(251,191,36,0.5)]",children:T.jsx(lV,{className:"text-[20px] text-white"})}),T.jsx("span",{className:"text-white font-bold text-base leading-none",children:((ms=t==null?void 0:t.stats)==null?void 0:ms.level)||1}),(Bn=t==null?void 0:t.stats)!=null&&Bn.currentStreak?T.jsxs("div",{className:"flex items-center text-orange-400 text-xs gap-1 ml-1 border-l border-white/10 pl-2 leading-none",children:[T.jsx(uV,{className:"text-lg"}),T.jsx("span",{className:"font-bold",children:t.stats.currentStreak})]}):null]})]}),T.jsxs("div",{role:"navigation","aria-label":"Navegao Principal",className:"pointer-events-auto flex items-center space-x-2",children:[T.jsx("button",{"aria-label":"Filtrar tpicos",onClick:()=>$e(!0),className:"w-10 h-10 rounded-full bg-black/20 backdrop-blur-md hover:bg-black/40 transition-colors ring-1 ring-white/20 flex items-center justify-center transform active:scale-95",children:T.jsx(oV,{className:"text-white text-[24px]"})}),T.jsx("button",{"aria-label":"Ver perfil",onClick:()=>Se(!0),className:"w-10 h-10 rounded-full bg-black/20 backdrop-blur-md hover:bg-black/40 transition-colors ring-1 ring-white/20 flex items-center justify-center transform active:scale-95",children:T.jsx(qf,{className:"text-white text-[24px]"})})]})]})]}),T.jsxs(Z.Suspense,{fallback:T.jsx("div",{className:"fixed inset-0 z-50 pointer-events-none"}),children:[Gs&&T.jsx(k6,{isClosing:xt,quote:it,isLoading:Oi,onBack:Js,onNavigateToProfile:()=>{Js(),setTimeout(()=>Se(!0),500)},onLike:Ut,onShare:ta,onExplore:so,sharingQuoteId:null,likedQuoteId:Ce}),to&&T.jsx(O6,{stats:(t==null?void 0:t.stats)||{},onClose:fs,isClosing:On}),pn&&T.jsx(q6,{newLevel:pn,onClose:_l,isClosing:ea}),Ue&&T.jsx(P6,{quote:Ue,onClose:Fn,isClosing:ht}),Fe&&T.jsx(D6,{activeFilter:le,onSelectFilter:Ei,onClose:Fi,isClosing:q,isPremium:!0,onTriggerPremium:$s}),M&&T.jsx(V6,{onBack:qn,quotes:R,onLike:Cn,setToastMessage:he,isClosing:Ie,onGoToPremium:()=>{qn(),setTimeout(()=>Ys(!0),100)},onLogout:ro,onShowTerms:()=>ae(!0),onShowPrivacy:()=>ce(!0)}),qi&&Zo&&T.jsx(L6,{quote:Zo,onClose:ei,isClosing:Zr})]}),W&&T.jsx(KS,{onClose:()=>ae(!1)}),de&&T.jsx(JS,{onClose:()=>ce(!1)}),re&&T.jsx("div",{className:"fixed bottom-36 left-0 w-full z-[100] flex justify-center pointer-events-none",children:T.jsxs("div",{role:"status","aria-live":"polite",className:"animate-slide-in-up flex items-center justify-center gap-3 px-6 py-3.5 rounded-full bg-black/60 backdrop-blur-xl border border-white/10 shadow-[0_8px_30px_rgb(0,0,0,0.3)] transition-all max-w-[90vw] pointer-events-auto",children:[T.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${re.type==="success"?"bg-violet-500/20 text-violet-300":"bg-orange-500/20 text-orange-300"}`,children:re.type==="success"?T.jsx(cf,{className:"text-sm"}):T.jsx(Xw,{className:"text-sm"})}),T.jsx("span",{className:"text-sm font-medium text-white/90 font-sans tracking-wide",children:re.message})]})})]}):T.jsx("div",{className:"h-full w-full bg-black"}):T.jsxs(T.Fragment,{children:[T.jsx(HV,{onLoginClick:()=>L(!0),onShowTerms:()=>ae(!0),onShowPrivacy:()=>ce(!0)}),W&&T.jsx(KS,{onClose:()=>ae(!1)}),de&&T.jsx(JS,{onClose:()=>ce(!1)})]})},B6=()=>T.jsx(Xk,{children:T.jsx(Zk,{children:T.jsx(F6,{})})});class z6 extends Z.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?T.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-900 text-white p-8 text-center font-sans",children:[T.jsx("h1",{className:"text-4xl font-bold text-red-500 mb-4 font-serif",children:"Algo deu errado."}),T.jsx("p",{className:"mb-6 text-gray-300",children:"No se preocupe, estamos cuidando disso."}),T.jsx("button",{onClick:()=>window.location.reload(),className:"bg-violet-600 hover:bg-violet-700 text-white font-bold py-3 px-6 rounded-full transition-colors",children:"Recarregar"})]}):this.props.children}}const xx=document.getElementById("root");if(!xx)throw new Error("Could not find root element to mount to");const G6=mR.createRoot(xx);G6.render(T.jsx(oR.StrictMode,{children:T.jsx(z6,{children:T.jsx(B6,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{W6 as B,Bp as C,Z6 as D,Q6 as E,uV as F,Qo as G,zp as H,$6 as L,x6 as P,Vo as S,w6 as T,qf as U,Un as a,Ff as b,X6 as c,cf as d,J6 as e,nq as f,tq as g,aV as h,tV as i,T as j,Kw as k,j6 as l,uf as m,Y6 as n,dV as o,K6 as p,eq as q,Z as r,nV as s,$w as t,Xr as u,lV as v};
